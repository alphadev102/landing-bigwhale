(self.webpackChunkonboard_notify_react=self.webpackChunkonboard_notify_react||[]).push([[4911],{1538:function(e,r,t){"use strict";var n=t(30261).Buffer,i=new(0,t(40632).ec)("secp256k1"),o=t.g.crypto||t.g.msCrypto||{},a=o.subtle||o.webkitSubtle,s=t(31866),u=n.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),f=n.alloc(32,0);function c(e,r){if(!e)throw new Error(r||"Assertion failed")}function l(e){return r=e,!(!n.isBuffer(r)||32!==r.length)&&(e.compare(f)>0&&e.compare(u)<0);var r}function h(e){var r=new Uint8Array(e);return"undefined"===typeof o.getRandomValues?n.from(s.randomBytes(e)):(o.getRandomValues(r),n.from(r))}function d(e){return new Promise((function(r){var t=s.createHash("sha512").update(e).digest();r(new Uint8Array(t))}))}function p(e){return function(r,t,i){return new Promise((function(o){if(a){return a.importKey("raw",t,{name:"AES-CBC"},!1,[e]).then((function(t){var n={name:"AES-CBC",iv:r};return a[e](n,t,i)})).then((function(e){o(n.from(new Uint8Array(e)))}))}if("encrypt"===e){var u=s.createCipheriv("aes-256-cbc",t,r),f=u.update(i),c=u.final();o(n.concat([f,c]))}else if("decrypt"===e){var l=s.createDecipheriv("aes-256-cbc",t,r),h=l.update(i),d=l.final();o(n.concat([h,d]))}}))}}var v=p("encrypt"),g=p("decrypt");var y=function(e){return c(32===e.length,"Bad private key"),c(l(e),"Bad private key"),n.from(i.keyFromPrivate(e).getPublic("arr"))};var m=function(e,r){return new Promise((function(t){c(n.isBuffer(e),"Bad private key"),c(n.isBuffer(r),"Bad public key"),c(32===e.length,"Bad private key"),c(l(e),"Bad private key"),c(65===r.length||33===r.length,"Bad public key"),65===r.length&&c(4===r[0],"Bad public key"),33===r.length&&c(2===r[0]||3===r[0],"Bad public key");var o=i.keyFromPrivate(e),a=i.keyFromPublic(r),s=o.derive(a.getPublic());t(n.from(s.toArray()))}))};r.HI=function(e,r,t){var i,o,a,u;return t=t||{},new Promise((function(r){for(var n=t.ephemPrivateKey||h(32);!l(n);)n=t.ephemPrivateKey||h(32);o=y(n),r(m(n,e))})).then((function(e){return d(e)})).then((function(e){i=t.iv||h(16);var n=e.slice(0,32);return u=e.slice(32),v(i,n,r)})).then((function(e){a=e;var r=n.concat([i,o,a]);return function(e,r){return new Promise((function(t){var i=s.createHmac("sha256",n.from(e));i.update(r),t(i.digest())}))}(u,r)})).then((function(e){return{iv:i,ephemPublicKey:o,ciphertext:a,mac:e}}))},r.pe=function(e,r){var t;return m(e,r.ephemPublicKey).then((function(e){return d(e)})).then((function(e){t=e.slice(0,32);var i,o,a,u=e.slice(32),f=n.concat([r.iv,r.ephemPublicKey,r.ciphertext]);return i=u,o=f,a=r.mac,new Promise((function(e){var r=s.createHmac("sha256",n.from(i));r.update(o),e(function(e,r){if(e.length!==r.length)return!1;for(var t=0,n=0;n<e.length;n++)t|=e[n]^r[n];return 0===t}(r.digest(),a))}))})).then((function(e){return c(e,"Bad MAC"),g(r.iv,t,r.ciphertext)})).then((function(e){return n.from(new Uint8Array(e))}))}},4911:function(e,r,t){"use strict";t.r(r),t.d(r,{calculateContractAddress:function(){return Gv},cipher:function(){return o},createIdentity:function(){return Ec},decryptWithPrivateKey:function(){return Lc},default:function(){return Wg},encryptWithPublicKey:function(){return zc},hash:function(){return a},hex:function(){return s},publicKey:function(){return i},publicKeyByPrivateKey:function(){return Gc},recover:function(){return jc},recoverPublicKey:function(){return Kc},sign:function(){return qc},signTransaction:function(){return Wc},txDataByCompiled:function(){return zv},util:function(){return n},vrs:function(){return u}});var n={};t.r(n),t.d(n,{addLeading0x:function(){return Nc},hexToUnit8Array:function(){return _c},removeLeading0x:function(){return Pc},uint8ArrayToHex:function(){return kc}});var i={};t.r(i),t.d(i,{compress:function(){return Tc},decompress:function(){return Rc},toAddress:function(){return Cc}});var o={};t.r(o),t.d(o,{parse:function(){return Bc},stringify:function(){return Uc}});var a={};t.r(a),t.d(a,{SIGN_PREFIX:function(){return Kg},keccak256:function(){return Gg}});var s={};t.r(s),t.d(s,{compress:function(){return Hg},decompress:function(){return qg}});var u={};t.r(u),t.d(u,{fromString:function(){return Zg},toString:function(){return Vg}});var f=t(75502),c=t.n(f),l=t(47061),h=t(59900),d=!1,p=!1,v={debug:1,default:2,info:2,warning:3,error:4,off:5},g=v.default,y=null;var m,b,w=function(){try{var e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((function(r){try{if("test"!=="test".normalize(r))throw new Error("bad normalize")}catch(t){e.push(r)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(m||(m={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(b||(b={}));var A="0123456789abcdef",E=function(){function e(r){(0,l.Z)(this,e),Object.defineProperty(this,"version",{enumerable:!0,value:r,writable:!1})}return(0,h.Z)(e,[{key:"_log",value:function(e,r){var t=e.toLowerCase();null==v[t]&&this.throwArgumentError("invalid log level name","logLevel",e),g>v[t]||console.log.apply(console,r)}},{key:"debug",value:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];this._log(e.levels.DEBUG,t)}},{key:"info",value:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];this._log(e.levels.INFO,t)}},{key:"warn",value:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];this._log(e.levels.WARNING,t)}},{key:"makeError",value:function(r,t,n){if(p)return this.makeError("censored error",t,{});t||(t=e.errors.UNKNOWN_ERROR),n||(n={});var i=[];Object.keys(n).forEach((function(e){var r=n[e];try{if(r instanceof Uint8Array){for(var t="",o=0;o<r.length;o++)t+=A[r[o]>>4],t+=A[15&r[o]];i.push(e+"=Uint8Array(0x"+t+")")}else i.push(e+"="+JSON.stringify(r))}catch(u){i.push(e+"="+JSON.stringify(n[e].toString()))}})),i.push("code=".concat(t)),i.push("version=".concat(this.version));var o=r,a="";switch(t){case b.NUMERIC_FAULT:a="NUMERIC_FAULT";var s=r;switch(s){case"overflow":case"underflow":case"division-by-zero":a+="-"+s;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result"}break;case b.CALL_EXCEPTION:case b.INSUFFICIENT_FUNDS:case b.MISSING_NEW:case b.NONCE_EXPIRED:case b.REPLACEMENT_UNDERPRICED:case b.TRANSACTION_REPLACED:case b.UNPREDICTABLE_GAS_LIMIT:a=t}a&&(r+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(r+=" ("+i.join(", ")+")");var u=new Error(r);return u.reason=o,u.code=t,Object.keys(n).forEach((function(e){u[e]=n[e]})),u}},{key:"throwError",value:function(e,r,t){throw this.makeError(e,r,t)}},{key:"throwArgumentError",value:function(r,t,n){return this.throwError(r,e.errors.INVALID_ARGUMENT,{argument:t,value:n})}},{key:"assert",value:function(e,r,t,n){e||this.throwError(r,t,n)}},{key:"assertArgument",value:function(e,r,t,n){e||this.throwArgumentError(r,t,n)}},{key:"checkNormalize",value:function(r){null==r&&(r="platform missing String.prototype.normalize"),w&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:w})}},{key:"checkSafeUint53",value:function(r,t){"number"===typeof r&&(null==t&&(t="value not safe"),(r<0||r>=9007199254740991)&&this.throwError(t,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:r}),r%1&&this.throwError(t,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:r}))}},{key:"checkArgumentCount",value:function(r,t,n){n=n?": "+n:"",r<t&&this.throwError("missing argument"+n,e.errors.MISSING_ARGUMENT,{count:r,expectedCount:t}),r>t&&this.throwError("too many arguments"+n,e.errors.UNEXPECTED_ARGUMENT,{count:r,expectedCount:t})}},{key:"checkNew",value:function(r,t){r!==Object&&null!=r||this.throwError("missing new",e.errors.MISSING_NEW,{name:t.name})}},{key:"checkAbstract",value:function(r,t){r===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:r.name,operation:"new"}):r!==Object&&null!=r||this.throwError("missing new",e.errors.MISSING_NEW,{name:t.name})}}],[{key:"globalLogger",value:function(){return y||(y=new e("logger/5.7.0")),y}},{key:"setCensorship",value:function(r,t){if(!r&&t&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),d){if(!r)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}p=!!r,d=!!t}},{key:"setLogLevel",value:function(r){var t=v[r.toLowerCase()];null!=t?g=t:e.globalLogger().warn("invalid log level - "+r)}},{key:"from",value:function(r){return new e(r)}}]),e}();E.errors=b,E.levels=m;var S=new E("bytes/5.6.1");function x(e){return!!e.toHexString}function P(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return P(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function N(e){return"number"===typeof e&&e==e&&e%1===0}function k(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!N(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!N(t)||t<0||t>=256)return!1}return!0}function _(e,r){if(r||(r={}),"number"===typeof e){S.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),P(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),x(e)&&(e=e.toHexString()),R(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":S.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return P(new Uint8Array(i))}return k(e)?P(new Uint8Array(e)):S.throwArgumentError("invalid arrayify value","value",e)}function I(e){var r=e.map((function(e){return _(e)})),t=r.reduce((function(e,r){return e+r.length}),0),n=new Uint8Array(t);return r.reduce((function(e,r){return n.set(r,e),e+r.length}),0),P(n)}function T(e,r){(e=_(e)).length>r&&S.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(r);return t.set(e,r-e.length),P(t)}function R(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var C="0123456789abcdef";function M(e,r){if(r||(r={}),"number"===typeof e){S.checkSafeUint53(e,"invalid hexlify value");for(var t="";e;)t=C[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),x(e))return e.toHexString();if(R(e))return e.length%2&&("left"===r.hexPad?e="0x0"+e.substring(2):"right"===r.hexPad?e+="0":S.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(k(e)){for(var n="0x",i=0;i<e.length;i++){var o=e[i];n+=C[(240&o)>>4]+C[15&o]}return n}return S.throwArgumentError("invalid hexlify value","value",e)}function O(e,r){for("string"!==typeof e?e=M(e):R(e)||S.throwArgumentError("invalid hex string","value",e),e.length>2*r+2&&S.throwArgumentError("value out of range","value",arguments[1]);e.length<2*r+2;)e="0x0"+e.substring(2);return e}function U(e){var r,t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(R(r=e)&&!(r.length%2)||k(r)){var n=_(e);64===n.length?(t.v=27+(n[32]>>7),n[32]&=127,t.r=M(n.slice(0,32)),t.s=M(n.slice(32,64))):65===n.length?(t.r=M(n.slice(0,32)),t.s=M(n.slice(32,64)),t.v=n[64]):S.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:S.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(n[32]|=128),t._vs=M(n.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){var i=T(_(t._vs),32);t._vs=M(i);var o=i[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=o:t.recoveryParam!==o&&S.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),i[0]&=127;var a=M(i);null==t.s?t.s=a:t.s!==a&&S.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?S.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{var s=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==s&&S.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&R(t.r)?t.r=O(t.r,32):S.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&R(t.s)?t.s=O(t.s,32):S.throwArgumentError("signature missing or invalid s","signature",e);var u=_(t.s);u[0]>=128&&S.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(u[0]|=128);var f=M(u);t._vs&&(R(t._vs)||S.throwArgumentError("signature invalid _vs","signature",e),t._vs=O(t._vs,32)),null==t._vs?t._vs=f:t._vs!==f&&S.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function B(e){return M(I([(e=U(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}var F=!1,L=!1,D={debug:1,default:2,info:2,warning:3,error:4,off:5},z=D.default,G=null;var K,j,H=function(){try{var e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((function(r){try{if("test"!=="test".normalize(r))throw new Error("bad normalize")}catch(t){e.push(r)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(K||(K={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(j||(j={}));var q="0123456789abcdef",Z=function(){function e(r){(0,l.Z)(this,e),Object.defineProperty(this,"version",{enumerable:!0,value:r,writable:!1})}return(0,h.Z)(e,[{key:"_log",value:function(e,r){var t=e.toLowerCase();null==D[t]&&this.throwArgumentError("invalid log level name","logLevel",e),z>D[t]||console.log.apply(console,r)}},{key:"debug",value:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];this._log(e.levels.DEBUG,t)}},{key:"info",value:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];this._log(e.levels.INFO,t)}},{key:"warn",value:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];this._log(e.levels.WARNING,t)}},{key:"makeError",value:function(r,t,n){if(L)return this.makeError("censored error",t,{});t||(t=e.errors.UNKNOWN_ERROR),n||(n={});var i=[];Object.keys(n).forEach((function(e){var r=n[e];try{if(r instanceof Uint8Array){for(var t="",o=0;o<r.length;o++)t+=q[r[o]>>4],t+=q[15&r[o]];i.push(e+"=Uint8Array(0x"+t+")")}else i.push(e+"="+JSON.stringify(r))}catch(u){i.push(e+"="+JSON.stringify(n[e].toString()))}})),i.push("code=".concat(t)),i.push("version=".concat(this.version));var o=r,a="";switch(t){case j.NUMERIC_FAULT:a="NUMERIC_FAULT";var s=r;switch(s){case"overflow":case"underflow":case"division-by-zero":a+="-"+s;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result"}break;case j.CALL_EXCEPTION:case j.INSUFFICIENT_FUNDS:case j.MISSING_NEW:case j.NONCE_EXPIRED:case j.REPLACEMENT_UNDERPRICED:case j.TRANSACTION_REPLACED:case j.UNPREDICTABLE_GAS_LIMIT:a=t}a&&(r+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(r+=" ("+i.join(", ")+")");var u=new Error(r);return u.reason=o,u.code=t,Object.keys(n).forEach((function(e){u[e]=n[e]})),u}},{key:"throwError",value:function(e,r,t){throw this.makeError(e,r,t)}},{key:"throwArgumentError",value:function(r,t,n){return this.throwError(r,e.errors.INVALID_ARGUMENT,{argument:t,value:n})}},{key:"assert",value:function(e,r,t,n){e||this.throwError(r,t,n)}},{key:"assertArgument",value:function(e,r,t,n){e||this.throwArgumentError(r,t,n)}},{key:"checkNormalize",value:function(r){null==r&&(r="platform missing String.prototype.normalize"),H&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:H})}},{key:"checkSafeUint53",value:function(r,t){"number"===typeof r&&(null==t&&(t="value not safe"),(r<0||r>=9007199254740991)&&this.throwError(t,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:r}),r%1&&this.throwError(t,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:r}))}},{key:"checkArgumentCount",value:function(r,t,n){n=n?": "+n:"",r<t&&this.throwError("missing argument"+n,e.errors.MISSING_ARGUMENT,{count:r,expectedCount:t}),r>t&&this.throwError("too many arguments"+n,e.errors.UNEXPECTED_ARGUMENT,{count:r,expectedCount:t})}},{key:"checkNew",value:function(r,t){r!==Object&&null!=r||this.throwError("missing new",e.errors.MISSING_NEW,{name:t.name})}},{key:"checkAbstract",value:function(r,t){r===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:r.name,operation:"new"}):r!==Object&&null!=r||this.throwError("missing new",e.errors.MISSING_NEW,{name:t.name})}}],[{key:"globalLogger",value:function(){return G||(G=new e("logger/5.7.0")),G}},{key:"setCensorship",value:function(r,t){if(!r&&t&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),F){if(!r)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}L=!!r,F=!!t}},{key:"setLogLevel",value:function(r){var t=D[r.toLowerCase()];null!=t?z=t:e.globalLogger().warn("invalid log level - "+r)}},{key:"from",value:function(r){return new e(r)}}]),e}();Z.errors=j,Z.levels=K;var V=new Z("random/5.6.0");var W=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof t.g)return t.g;throw new Error("unable to locate global object")}(),J=W.crypto||W.msCrypto;function X(e){(e<=0||e>1024||e%1||e!=e)&&V.throwArgumentError("invalid length","length",e);var r=new Uint8Array(e);return J.getRandomValues(r),_(r)}J&&J.getRandomValues||(V.warn("WARNING: Missing strong random number source"),J={getRandomValues:function(e){return V.throwError("no secure random source avaialble",Z.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var $=t(24611),Y=t(14771),Q=t(24269),ee=t(38114),re=!1,te=!1,ne={debug:1,default:2,info:2,warning:3,error:4,off:5},ie=ne.default,oe=null;var ae,se,ue=function(){try{var e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((function(r){try{if("test"!=="test".normalize(r))throw new Error("bad normalize")}catch(t){e.push(r)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(ae||(ae={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(se||(se={}));var fe="0123456789abcdef",ce=function(){function e(r){(0,l.Z)(this,e),Object.defineProperty(this,"version",{enumerable:!0,value:r,writable:!1})}return(0,h.Z)(e,[{key:"_log",value:function(e,r){var t=e.toLowerCase();null==ne[t]&&this.throwArgumentError("invalid log level name","logLevel",e),ie>ne[t]||console.log.apply(console,r)}},{key:"debug",value:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];this._log(e.levels.DEBUG,t)}},{key:"info",value:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];this._log(e.levels.INFO,t)}},{key:"warn",value:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];this._log(e.levels.WARNING,t)}},{key:"makeError",value:function(r,t,n){if(te)return this.makeError("censored error",t,{});t||(t=e.errors.UNKNOWN_ERROR),n||(n={});var i=[];Object.keys(n).forEach((function(e){var r=n[e];try{if(r instanceof Uint8Array){for(var t="",o=0;o<r.length;o++)t+=fe[r[o]>>4],t+=fe[15&r[o]];i.push(e+"=Uint8Array(0x"+t+")")}else i.push(e+"="+JSON.stringify(r))}catch(u){i.push(e+"="+JSON.stringify(n[e].toString()))}})),i.push("code=".concat(t)),i.push("version=".concat(this.version));var o=r,a="";switch(t){case se.NUMERIC_FAULT:a="NUMERIC_FAULT";var s=r;switch(s){case"overflow":case"underflow":case"division-by-zero":a+="-"+s;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result"}break;case se.CALL_EXCEPTION:case se.INSUFFICIENT_FUNDS:case se.MISSING_NEW:case se.NONCE_EXPIRED:case se.REPLACEMENT_UNDERPRICED:case se.TRANSACTION_REPLACED:case se.UNPREDICTABLE_GAS_LIMIT:a=t}a&&(r+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(r+=" ("+i.join(", ")+")");var u=new Error(r);return u.reason=o,u.code=t,Object.keys(n).forEach((function(e){u[e]=n[e]})),u}},{key:"throwError",value:function(e,r,t){throw this.makeError(e,r,t)}},{key:"throwArgumentError",value:function(r,t,n){return this.throwError(r,e.errors.INVALID_ARGUMENT,{argument:t,value:n})}},{key:"assert",value:function(e,r,t,n){e||this.throwError(r,t,n)}},{key:"assertArgument",value:function(e,r,t,n){e||this.throwArgumentError(r,t,n)}},{key:"checkNormalize",value:function(r){null==r&&(r="platform missing String.prototype.normalize"),ue&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ue})}},{key:"checkSafeUint53",value:function(r,t){"number"===typeof r&&(null==t&&(t="value not safe"),(r<0||r>=9007199254740991)&&this.throwError(t,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:r}),r%1&&this.throwError(t,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:r}))}},{key:"checkArgumentCount",value:function(r,t,n){n=n?": "+n:"",r<t&&this.throwError("missing argument"+n,e.errors.MISSING_ARGUMENT,{count:r,expectedCount:t}),r>t&&this.throwError("too many arguments"+n,e.errors.UNEXPECTED_ARGUMENT,{count:r,expectedCount:t})}},{key:"checkNew",value:function(r,t){r!==Object&&null!=r||this.throwError("missing new",e.errors.MISSING_NEW,{name:t.name})}},{key:"checkAbstract",value:function(r,t){r===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:r.name,operation:"new"}):r!==Object&&null!=r||this.throwError("missing new",e.errors.MISSING_NEW,{name:t.name})}}],[{key:"globalLogger",value:function(){return oe||(oe=new e("logger/5.7.0")),oe}},{key:"setCensorship",value:function(r,t){if(!r&&t&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),re){if(!r)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}te=!!r,re=!!t}},{key:"setLogLevel",value:function(r){var t=ne[r.toLowerCase()];null!=t?ie=t:e.globalLogger().warn("invalid log level - "+r)}},{key:"from",value:function(r){return new e(r)}}]),e}();ce.errors=se,ce.levels=ae;var le=new ce("bytes/5.7.0");function he(e){return!!e.toHexString}function de(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return de(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function pe(e){return"number"===typeof e&&e==e&&e%1===0}function ve(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!pe(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!pe(t)||t<0||t>=256)return!1}return!0}function ge(e,r){if(r||(r={}),"number"===typeof e){le.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),de(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),he(e)&&(e=e.toHexString()),ye(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":le.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return de(new Uint8Array(i))}return ve(e)?de(new Uint8Array(e)):le.throwArgumentError("invalid arrayify value","value",e)}function ye(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var me=t(45081),be=t.n(me),we=be().BN;new ce("bignumber/5.7.0");var Ae=new ce("address/5.6.1");function Ee(e){ye(e,20)||Ae.throwArgumentError("invalid address","address",e);for(var r=(e=e.toLowerCase()).substring(2).split(""),t=new Uint8Array(40),n=0;n<40;n++)t[n]=r[n].charCodeAt(0);for(var i,o=ge((i=t,"0x"+c().keccak_256(ge(i)))),a=0;a<40;a+=2)o[a>>1]>>4>=8&&(r[a]=r[a].toUpperCase()),(15&o[a>>1])>=8&&(r[a+1]=r[a+1].toUpperCase());return"0x"+r.join("")}for(var Se={},xe=0;xe<10;xe++)Se[String(xe)]=String(xe);for(var Pe=0;Pe<26;Pe++)Se[String.fromCharCode(65+Pe)]=String(10+Pe);var Ne,ke=Math.floor((Ne=9007199254740991,Math.log10?Math.log10(Ne):Math.log(Ne)/Math.LN10));function _e(e){for(var r=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((function(e){return Se[e]})).join("");r.length>=ke;){var t=r.substring(0,ke);r=parseInt(t,10)%97+r.substring(t.length)}for(var n=String(98-parseInt(r,10)%97);n.length<2;)n="0"+n;return n}function Ie(e){var r,t=null;if("string"!==typeof e&&Ae.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=Ee(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&Ae.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==_e(e)&&Ae.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new we(r,36).toString(16);t.length<40;)t="0"+t;t=Ee("0x"+t)}else Ae.throwArgumentError("invalid address","address",e);return t}var Te=new ce("bytes/5.7.0");function Re(e){return!!e.toHexString}function Ce(e){return"number"===typeof e&&e==e&&e%1===0}function Me(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Ce(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!Ce(t)||t<0||t>=256)return!1}return!0}function Oe(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var Ue="0123456789abcdef";function Be(e,r){if(r||(r={}),"number"===typeof e){Te.checkSafeUint53(e,"invalid hexlify value");for(var t="";e;)t=Ue[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Re(e))return e.toHexString();if(Oe(e))return e.length%2&&("left"===r.hexPad?e="0x0"+e.substring(2):"right"===r.hexPad?e+="0":Te.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(Me(e)){for(var n="0x",i=0;i<e.length;i++){var o=e[i];n+=Ue[(240&o)>>4]+Ue[15&o]}return n}return Te.throwArgumentError("invalid hexlify value","value",e)}var Fe=be().BN,Le=new ce("bignumber/5.7.0"),De={},ze=9007199254740991;var Ge=!1,Ke=function(){function e(r,t){(0,l.Z)(this,e),r!==De&&Le.throwError("cannot call constructor directly; use BigNumber.from",ce.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}return(0,h.Z)(e,[{key:"fromTwos",value:function(e){return He(qe(this).fromTwos(e))}},{key:"toTwos",value:function(e){return He(qe(this).toTwos(e))}},{key:"abs",value:function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this}},{key:"add",value:function(e){return He(qe(this).add(qe(e)))}},{key:"sub",value:function(e){return He(qe(this).sub(qe(e)))}},{key:"div",value:function(r){return e.from(r).isZero()&&Ze("division-by-zero","div"),He(qe(this).div(qe(r)))}},{key:"mul",value:function(e){return He(qe(this).mul(qe(e)))}},{key:"mod",value:function(e){var r=qe(e);return r.isNeg()&&Ze("division-by-zero","mod"),He(qe(this).umod(r))}},{key:"pow",value:function(e){var r=qe(e);return r.isNeg()&&Ze("negative-power","pow"),He(qe(this).pow(r))}},{key:"and",value:function(e){var r=qe(e);return(this.isNegative()||r.isNeg())&&Ze("unbound-bitwise-result","and"),He(qe(this).and(r))}},{key:"or",value:function(e){var r=qe(e);return(this.isNegative()||r.isNeg())&&Ze("unbound-bitwise-result","or"),He(qe(this).or(r))}},{key:"xor",value:function(e){var r=qe(e);return(this.isNegative()||r.isNeg())&&Ze("unbound-bitwise-result","xor"),He(qe(this).xor(r))}},{key:"mask",value:function(e){return(this.isNegative()||e<0)&&Ze("negative-width","mask"),He(qe(this).maskn(e))}},{key:"shl",value:function(e){return(this.isNegative()||e<0)&&Ze("negative-width","shl"),He(qe(this).shln(e))}},{key:"shr",value:function(e){return(this.isNegative()||e<0)&&Ze("negative-width","shr"),He(qe(this).shrn(e))}},{key:"eq",value:function(e){return qe(this).eq(qe(e))}},{key:"lt",value:function(e){return qe(this).lt(qe(e))}},{key:"lte",value:function(e){return qe(this).lte(qe(e))}},{key:"gt",value:function(e){return qe(this).gt(qe(e))}},{key:"gte",value:function(e){return qe(this).gte(qe(e))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return qe(this).isZero()}},{key:"toNumber",value:function(){try{return qe(this).toNumber()}catch(e){Ze("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(e){}return Le.throwError("this platform does not support BigInt",ce.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?Ge||(Ge=!0,Le.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Le.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ce.errors.UNEXPECTED_ARGUMENT,{}):Le.throwError("BigNumber.toString does not accept parameters",ce.errors.UNEXPECTED_ARGUMENT,{})),qe(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(e){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(r){if(r instanceof e)return r;if("string"===typeof r)return r.match(/^-?0x[0-9a-f]+$/i)?new e(De,je(r)):r.match(/^-?[0-9]+$/)?new e(De,je(new Fe(r))):Le.throwArgumentError("invalid BigNumber string","value",r);if("number"===typeof r)return r%1&&Ze("underflow","BigNumber.from",r),(r>=ze||r<=-9007199254740991)&&Ze("overflow","BigNumber.from",r),e.from(String(r));var t=r;if("bigint"===typeof t)return e.from(t.toString());if(Me(t))return e.from(Be(t));if(t)if(t.toHexString){var n=t.toHexString();if("string"===typeof n)return e.from(n)}else{var i=t._hex;if(null==i&&"BigNumber"===t.type&&(i=t.hex),"string"===typeof i&&(Oe(i)||"-"===i[0]&&Oe(i.substring(1))))return e.from(i)}return Le.throwArgumentError("invalid BigNumber value","value",r)}},{key:"isBigNumber",value:function(e){return!(!e||!e._isBigNumber)}}]),e}();function je(e){if("string"!==typeof e)return je(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&Le.throwArgumentError("invalid hex","value",e),"0x00"===(e=je(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function He(e){return Ke.from(je(e))}function qe(e){var r=Ke.from(e).toHexString();return"-"===r[0]?new Fe("-"+r.substring(3),16):new Fe(r.substring(2),16)}function Ze(e,r,t){var n={fault:e,operation:r};return null!=t&&(n.value=t),Le.throwError(e,ce.errors.NUMERIC_FAULT,n)}var Ve=function(e,r,t,n){return new(t||(t=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(r){o(r)}}function s(e){try{u(n.throw(e))}catch(r){o(r)}}function u(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}u((n=n.apply(e,r||[])).next())}))},We=new ce("properties/5.7.0");function Je(e,r,t){Object.defineProperty(e,r,{enumerable:!0,value:t,writable:!1})}function Xe(e){return Ve(this,void 0,void 0,(0,$.Z)().mark((function r(){var t,n;return(0,$.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=Object.keys(e).map((function(r){var t=e[r];return Promise.resolve(t).then((function(e){return{key:r,value:e}}))})),r.next=3,Promise.all(t);case 3:return n=r.sent,r.abrupt("return",n.reduce((function(e,r){return e[r.key]=r.value,e}),{}));case 5:case"end":return r.stop()}}),r)})))}function $e(e){var r={};for(var t in e)r[t]=e[t];return r}var Ye={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Qe(e){if(void 0===e||null===e||Ye[typeof e])return!0;if(Array.isArray(e)||"object"===typeof e){if(!Object.isFrozen(e))return!1;for(var r=Object.keys(e),t=0;t<r.length;t++){var n=null;try{n=e[r[t]]}catch(i){continue}if(!Qe(n))return!1}return!0}return We.throwArgumentError("Cannot deepCopy ".concat(typeof e),"object",e)}function er(e){if(Qe(e))return e;if(Array.isArray(e))return Object.freeze(e.map((function(e){return rr(e)})));if("object"===typeof e){var r={};for(var t in e){var n=e[t];void 0!==n&&Je(r,t,rr(n))}return r}return We.throwArgumentError("Cannot deepCopy ".concat(typeof e),"object",e)}function rr(e){return er(e)}var tr=(0,h.Z)((function e(r){for(var t in(0,l.Z)(this,e),r)this[t]=rr(r[t])})),nr=function(e,r,t,n){return new(t||(t=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(r){o(r)}}function s(e){try{u(n.throw(e))}catch(r){o(r)}}function u(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}u((n=n.apply(e,r||[])).next())}))},ir=new ce("abstract-provider/5.6.1"),or=function(){function e(){(0,l.Z)(this,e),ir.checkAbstract(this instanceof e?this.constructor:void 0,e),Je(this,"_isProvider",!0)}return(0,h.Z)(e,[{key:"getFeeData",value:function(){return nr(this,void 0,void 0,(0,$.Z)().mark((function e(){var r,t,n,i,o;return(0,$.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((function(e){return null}))});case 2:return r=e.sent,t=r.block,n=r.gasPrice,i=null,o=null,t&&t.baseFeePerGas&&(o=Ke.from("1500000000"),i=t.baseFeePerGas.mul(2).add(o)),e.abrupt("return",{maxFeePerGas:i,maxPriorityFeePerGas:o,gasPrice:n});case 8:case"end":return e.stop()}}),e,this)})))}},{key:"addListener",value:function(e,r){return this.on(e,r)}},{key:"removeListener",value:function(e,r){return this.off(e,r)}}],[{key:"isProvider",value:function(e){return!(!e||!e._isProvider)}}]),e}(),ar=function(e,r,t,n){return new(t||(t=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(r){o(r)}}function s(e){try{u(n.throw(e))}catch(r){o(r)}}function u(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}u((n=n.apply(e,r||[])).next())}))},sr=new ce("abstract-signer/5.6.2"),ur=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],fr=[ce.errors.INSUFFICIENT_FUNDS,ce.errors.NONCE_EXPIRED,ce.errors.REPLACEMENT_UNDERPRICED],cr=function(){function e(){(0,l.Z)(this,e),sr.checkAbstract(this instanceof e?this.constructor:void 0,e),Je(this,"_isSigner",!0)}return(0,h.Z)(e,[{key:"getBalance",value:function(e){return ar(this,void 0,void 0,(0,$.Z)().mark((function r(){return(0,$.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._checkProvider("getBalance"),r.next=3,this.provider.getBalance(this.getAddress(),e);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r,this)})))}},{key:"getTransactionCount",value:function(e){return ar(this,void 0,void 0,(0,$.Z)().mark((function r(){return(0,$.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._checkProvider("getTransactionCount"),r.next=3,this.provider.getTransactionCount(this.getAddress(),e);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r,this)})))}},{key:"estimateGas",value:function(e){return ar(this,void 0,void 0,(0,$.Z)().mark((function r(){var t;return(0,$.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._checkProvider("estimateGas"),r.next=3,Xe(this.checkTransaction(e));case 3:return t=r.sent,r.next=6,this.provider.estimateGas(t);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})))}},{key:"call",value:function(e,r){return ar(this,void 0,void 0,(0,$.Z)().mark((function t(){var n;return(0,$.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("call"),t.next=3,Xe(this.checkTransaction(e));case 3:return n=t.sent,t.next=6,this.provider.call(n,r);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"sendTransaction",value:function(e){return ar(this,void 0,void 0,(0,$.Z)().mark((function r(){var t,n;return(0,$.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._checkProvider("sendTransaction"),r.next=3,this.populateTransaction(e);case 3:return t=r.sent,r.next=6,this.signTransaction(t);case 6:return n=r.sent,r.next=9,this.provider.sendTransaction(n);case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}}),r,this)})))}},{key:"getChainId",value:function(){return ar(this,void 0,void 0,(0,$.Z)().mark((function e(){var r;return(0,$.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getChainId"),e.next=3,this.provider.getNetwork();case 3:return r=e.sent,e.abrupt("return",r.chainId);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getGasPrice",value:function(){return ar(this,void 0,void 0,(0,$.Z)().mark((function e(){return(0,$.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getGasPrice"),e.next=3,this.provider.getGasPrice();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getFeeData",value:function(){return ar(this,void 0,void 0,(0,$.Z)().mark((function e(){return(0,$.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getFeeData"),e.next=3,this.provider.getFeeData();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"resolveName",value:function(e){return ar(this,void 0,void 0,(0,$.Z)().mark((function r(){return(0,$.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._checkProvider("resolveName"),r.next=3,this.provider.resolveName(e);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r,this)})))}},{key:"checkTransaction",value:function(e){for(var r in e)-1===ur.indexOf(r)&&sr.throwArgumentError("invalid transaction key: "+r,"transaction",e);var t=$e(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then((function(r){return r[0].toLowerCase()!==r[1].toLowerCase()&&sr.throwArgumentError("from address mismatch","transaction",e),r[0]})),t}},{key:"populateTransaction",value:function(e){return ar(this,void 0,void 0,(0,$.Z)().mark((function r(){var t,n,i,o,a=this;return(0,$.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Xe(this.checkTransaction(e));case 2:if(null!=(t=r.sent).to&&(t.to=Promise.resolve(t.to).then((function(e){return ar(a,void 0,void 0,(0,$.Z)().mark((function r(){var t;return(0,$.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!=e){r.next=2;break}return r.abrupt("return",null);case 2:return r.next=4,this.resolveName(e);case 4:return null==(t=r.sent)&&sr.throwArgumentError("provided ENS name resolves to null","tx.to",e),r.abrupt("return",t);case 7:case"end":return r.stop()}}),r,this)})))})),t.to.catch((function(e){}))),n=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas,null==t.gasPrice||2!==t.type&&!n?0!==t.type&&1!==t.type||!n||sr.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):sr.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==t.type&&null!=t.type||null==t.maxFeePerGas||null==t.maxPriorityFeePerGas){r.next=10;break}t.type=2,r.next=18;break;case 10:if(0!==t.type&&1!==t.type){r.next=14;break}null==t.gasPrice&&(t.gasPrice=this.getGasPrice()),r.next=18;break;case 14:return r.next=16,this.getFeeData();case 16:i=r.sent,null==t.type?null!=i.maxFeePerGas&&null!=i.maxPriorityFeePerGas?(t.type=2,null!=t.gasPrice?(o=t.gasPrice,delete t.gasPrice,t.maxFeePerGas=o,t.maxPriorityFeePerGas=o):(null==t.maxFeePerGas&&(t.maxFeePerGas=i.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas))):null!=i.gasPrice?(n&&sr.throwError("network does not support EIP-1559",ce.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=i.gasPrice),t.type=0):sr.throwError("failed to get consistent fee data",ce.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"}):2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=i.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas));case 18:return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch((function(e){if(fr.indexOf(e.code)>=0)throw e;return sr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ce.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then((function(r){return 0!==r[1]&&r[0]!==r[1]&&sr.throwArgumentError("chainId address mismatch","transaction",e),r[0]})),r.next=23,Xe(t);case 23:return r.abrupt("return",r.sent);case 24:case"end":return r.stop()}}),r,this)})))}},{key:"_checkProvider",value:function(e){this.provider||sr.throwError("missing provider",ce.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}}],[{key:"isSigner",value:function(e){return!(!e||!e._isSigner)}}]),e}(),lr=new ce("bytes/5.7.0");function hr(e){return!!e.toHexString}function dr(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return dr(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function pr(e){return"number"===typeof e&&e==e&&e%1===0}function vr(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!pr(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!pr(t)||t<0||t>=256)return!1}return!0}function gr(e,r){if(r||(r={}),"number"===typeof e){lr.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),dr(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),hr(e)&&(e=e.toHexString()),mr(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":lr.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return dr(new Uint8Array(i))}return vr(e)?dr(new Uint8Array(e)):lr.throwArgumentError("invalid arrayify value","value",e)}function yr(e){var r=e.map((function(e){return gr(e)})),t=r.reduce((function(e,r){return e+r.length}),0),n=new Uint8Array(t);return r.reduce((function(e,r){return n.set(r,e),e+r.length}),0),dr(n)}function mr(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var br="0123456789abcdef";function wr(e,r){if(r||(r={}),"number"===typeof e){lr.checkSafeUint53(e,"invalid hexlify value");for(var t="";e;)t=br[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),hr(e))return e.toHexString();if(mr(e))return e.length%2&&("left"===r.hexPad?e="0x0"+e.substring(2):"right"===r.hexPad?e+="0":lr.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(vr(e)){for(var n="0x",i=0;i<e.length;i++){var o=e[i];n+=br[(240&o)>>4]+br[15&o]}return n}return lr.throwArgumentError("invalid hexlify value","value",e)}function Ar(e){var r="0x";return e.forEach((function(e){r+=wr(e).substring(2)})),r}function Er(e,r){for("string"!==typeof e?e=wr(e):mr(e)||lr.throwArgumentError("invalid hex string","value",e),e.length>2*r+2&&lr.throwArgumentError("value out of range","value",arguments[1]);e.length<2*r+2;)e="0x0"+e.substring(2);return e}function Sr(e){return"0x"+c().keccak_256(gr(e))}var xr=new ce("bytes/5.7.0");function Pr(e){return!!e.toHexString}function Nr(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return Nr(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function kr(e){return"number"===typeof e&&e==e&&e%1===0}function _r(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!kr(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!kr(t)||t<0||t>=256)return!1}return!0}function Ir(e,r){if(r||(r={}),"number"===typeof e){xr.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Nr(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Pr(e)&&(e=e.toHexString()),Tr(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":xr.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return Nr(new Uint8Array(i))}return _r(e)?Nr(new Uint8Array(e)):xr.throwArgumentError("invalid arrayify value","value",e)}function Tr(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var Rr,Cr,Mr=new ce("strings/5.7.0");function Or(e,r,t,n,i){if(e===Cr.BAD_PREFIX||e===Cr.UNEXPECTED_CONTINUE){for(var o=0,a=r+1;a<t.length&&t[a]>>6===2;a++)o++;return o}return e===Cr.OVERRUN?t.length-r-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(Rr||(Rr={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(Cr||(Cr={}));Object.freeze({error:function(e,r,t,n,i){return Mr.throwArgumentError("invalid codepoint at offset ".concat(r,"; ").concat(e),"bytes",t)},ignore:Or,replace:function(e,r,t,n,i){return e===Cr.OVERLONG?(n.push(i),0):(n.push(65533),Or(e,r,t))}});function Ur(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rr.current;r!=Rr.current&&(Mr.checkNormalize(),e=e.normalize(r));for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(63&i|128);else if(55296==(64512&i)){n++;var o=e.charCodeAt(n);if(n>=e.length||56320!==(64512&o))throw new Error("invalid utf-8 string");var a=65536+((1023&i)<<10)+(1023&o);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(63&a|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(63&i|128)}return Ir(t)}function Br(e){return"string"===typeof e&&(e=Ur(e)),Sr(yr([Ur("\x19Ethereum Signed Message:\n"),Ur(String(e.length)),e]))}var Fr=be().BN,Lr=new ce("bignumber/5.7.0"),Dr={},zr=9007199254740991;var Gr=!1,Kr=function(){function e(r,t){(0,l.Z)(this,e),r!==Dr&&Lr.throwError("cannot call constructor directly; use BigNumber.from",ce.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}return(0,h.Z)(e,[{key:"fromTwos",value:function(e){return Hr(qr(this).fromTwos(e))}},{key:"toTwos",value:function(e){return Hr(qr(this).toTwos(e))}},{key:"abs",value:function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this}},{key:"add",value:function(e){return Hr(qr(this).add(qr(e)))}},{key:"sub",value:function(e){return Hr(qr(this).sub(qr(e)))}},{key:"div",value:function(r){return e.from(r).isZero()&&Zr("division-by-zero","div"),Hr(qr(this).div(qr(r)))}},{key:"mul",value:function(e){return Hr(qr(this).mul(qr(e)))}},{key:"mod",value:function(e){var r=qr(e);return r.isNeg()&&Zr("division-by-zero","mod"),Hr(qr(this).umod(r))}},{key:"pow",value:function(e){var r=qr(e);return r.isNeg()&&Zr("negative-power","pow"),Hr(qr(this).pow(r))}},{key:"and",value:function(e){var r=qr(e);return(this.isNegative()||r.isNeg())&&Zr("unbound-bitwise-result","and"),Hr(qr(this).and(r))}},{key:"or",value:function(e){var r=qr(e);return(this.isNegative()||r.isNeg())&&Zr("unbound-bitwise-result","or"),Hr(qr(this).or(r))}},{key:"xor",value:function(e){var r=qr(e);return(this.isNegative()||r.isNeg())&&Zr("unbound-bitwise-result","xor"),Hr(qr(this).xor(r))}},{key:"mask",value:function(e){return(this.isNegative()||e<0)&&Zr("negative-width","mask"),Hr(qr(this).maskn(e))}},{key:"shl",value:function(e){return(this.isNegative()||e<0)&&Zr("negative-width","shl"),Hr(qr(this).shln(e))}},{key:"shr",value:function(e){return(this.isNegative()||e<0)&&Zr("negative-width","shr"),Hr(qr(this).shrn(e))}},{key:"eq",value:function(e){return qr(this).eq(qr(e))}},{key:"lt",value:function(e){return qr(this).lt(qr(e))}},{key:"lte",value:function(e){return qr(this).lte(qr(e))}},{key:"gt",value:function(e){return qr(this).gt(qr(e))}},{key:"gte",value:function(e){return qr(this).gte(qr(e))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return qr(this).isZero()}},{key:"toNumber",value:function(){try{return qr(this).toNumber()}catch(e){Zr("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(e){}return Lr.throwError("this platform does not support BigInt",ce.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?Gr||(Gr=!0,Lr.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Lr.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ce.errors.UNEXPECTED_ARGUMENT,{}):Lr.throwError("BigNumber.toString does not accept parameters",ce.errors.UNEXPECTED_ARGUMENT,{})),qr(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(e){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(r){if(r instanceof e)return r;if("string"===typeof r)return r.match(/^-?0x[0-9a-f]+$/i)?new e(Dr,jr(r)):r.match(/^-?[0-9]+$/)?new e(Dr,jr(new Fr(r))):Lr.throwArgumentError("invalid BigNumber string","value",r);if("number"===typeof r)return r%1&&Zr("underflow","BigNumber.from",r),(r>=zr||r<=-9007199254740991)&&Zr("overflow","BigNumber.from",r),e.from(String(r));var t=r;if("bigint"===typeof t)return e.from(t.toString());if(vr(t))return e.from(wr(t));if(t)if(t.toHexString){var n=t.toHexString();if("string"===typeof n)return e.from(n)}else{var i=t._hex;if(null==i&&"BigNumber"===t.type&&(i=t.hex),"string"===typeof i&&(mr(i)||"-"===i[0]&&mr(i.substring(1))))return e.from(i)}return Lr.throwArgumentError("invalid BigNumber value","value",r)}},{key:"isBigNumber",value:function(e){return!(!e||!e._isBigNumber)}}]),e}();function jr(e){if("string"!==typeof e)return jr(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&Lr.throwArgumentError("invalid hex","value",e),"0x00"===(e=jr(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function Hr(e){return Kr.from(jr(e))}function qr(e){var r=Kr.from(e).toHexString();return"-"===r[0]?new Fr("-"+r.substring(3),16):new Fr(r.substring(2),16)}function Zr(e,r,t){var n={fault:e,operation:r};return null!=t&&(n.value=t),Lr.throwError(e,ce.errors.NUMERIC_FAULT,n)}var Vr=new ce("address/5.7.0");function Wr(e){mr(e,20)||Vr.throwArgumentError("invalid address","address",e);for(var r=(e=e.toLowerCase()).substring(2).split(""),t=new Uint8Array(40),n=0;n<40;n++)t[n]=r[n].charCodeAt(0);for(var i=gr(Sr(t)),o=0;o<40;o+=2)i[o>>1]>>4>=8&&(r[o]=r[o].toUpperCase()),(15&i[o>>1])>=8&&(r[o+1]=r[o+1].toUpperCase());return"0x"+r.join("")}for(var Jr={},Xr=0;Xr<10;Xr++)Jr[String(Xr)]=String(Xr);for(var $r=0;$r<26;$r++)Jr[String.fromCharCode(65+$r)]=String(10+$r);var Yr=Math.floor(function(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}(9007199254740991));function Qr(e){for(var r=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((function(e){return Jr[e]})).join("");r.length>=Yr;){var t=r.substring(0,Yr);r=parseInt(t,10)%97+r.substring(t.length)}for(var n=String(98-parseInt(r,10)%97);n.length<2;)n="0"+n;return n}function et(e){var r,t=null;if("string"!==typeof e&&Vr.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=Wr(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&Vr.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==Qr(e)&&Vr.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new Fr(r,36).toString(16);t.length<40;)t="0"+t;t=Wr("0x"+t)}else Vr.throwArgumentError("invalid address","address",e);return t}function rt(e){return Sr(Ur(e))}var tt=function(e,r,t,n){return new(t||(t=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(r){o(r)}}function s(e){try{u(n.throw(e))}catch(r){o(r)}}function u(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}u((n=n.apply(e,r||[])).next())}))},nt=new ce("hash/5.6.1"),it=new Uint8Array(32);it.fill(0);var ot=Kr.from(-1),at=Kr.from(0),st=Kr.from(1),ut=Kr.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var ft=Er(st.toHexString(),32),ct=Er(at.toHexString(),32),lt={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},ht=["name","version","chainId","verifyingContract","salt"];function dt(e){return function(r){return"string"!==typeof r&&nt.throwArgumentError("invalid domain value for ".concat(JSON.stringify(e)),"domain.".concat(e),r),r}}var pt={name:dt("name"),version:dt("version"),chainId:function(e){try{return Kr.from(e).toString()}catch(r){}return nt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return et(e).toLowerCase()}catch(r){}return nt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{var r=gr(e);if(32!==r.length)throw new Error("bad length");return wr(r)}catch(t){}return nt.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function vt(e){var r=e.match(/^(u?)int(\d*)$/);if(r){var t=""===r[1],n=parseInt(r[2]||"256");(n%8!==0||n>256||r[2]&&r[2]!==String(n))&&nt.throwArgumentError("invalid numeric width","type",e);var i=ut.mask(t?n-1:n),o=t?i.add(st).mul(ot):at;return function(r){var t=Kr.from(r);return(t.lt(o)||t.gt(i))&&nt.throwArgumentError("value out-of-bounds for ".concat(e),"value",r),Er(t.toTwos(256).toHexString(),32)}}var a=e.match(/^bytes(\d+)$/);if(a){var s=parseInt(a[1]);return(0===s||s>32||a[1]!==String(s))&&nt.throwArgumentError("invalid bytes width","type",e),function(r){return gr(r).length!==s&&nt.throwArgumentError("invalid length for ".concat(e),"value",r),function(e){var r=gr(e),t=r.length%32;return t?Ar([r,it.slice(t)]):wr(r)}(r)}}switch(e){case"address":return function(e){return Er(et(e),32)};case"bool":return function(e){return e?ft:ct};case"bytes":return function(e){return Sr(e)};case"string":return function(e){return rt(e)}}return null}function gt(e,r){return"".concat(e,"(").concat(r.map((function(e){var r=e.name;return e.type+" "+r})).join(","),")")}var yt=function(){function e(r){(0,l.Z)(this,e),Je(this,"types",Object.freeze(rr(r))),Je(this,"_encoderCache",{}),Je(this,"_types",{});var t={},n={},i={};Object.keys(r).forEach((function(e){t[e]={},n[e]=[],i[e]={}}));var o=function(e){var i={};r[e].forEach((function(o){i[o.name]&&nt.throwArgumentError("duplicate variable name ".concat(JSON.stringify(o.name)," in ").concat(JSON.stringify(e)),"types",r),i[o.name]=!0;var a=o.type.match(/^([^\x5b]*)(\x5b|$)/)[1];a===e&&nt.throwArgumentError("circular type reference to ".concat(JSON.stringify(a)),"types",r),vt(a)||(n[a]||nt.throwArgumentError("unknown type ".concat(JSON.stringify(a)),"types",r),n[a].push(e),t[e][a]=!0)}))};for(var a in r)o(a);var s=Object.keys(n).filter((function(e){return 0===n[e].length}));for(var u in 0===s.length?nt.throwArgumentError("missing primary type","types",r):s.length>1&&nt.throwArgumentError("ambiguous primary types or unused types: ".concat(s.map((function(e){return JSON.stringify(e)})).join(", ")),"types",r),Je(this,"primaryType",s[0]),function e(o,a){a[o]&&nt.throwArgumentError("circular type reference to ".concat(JSON.stringify(o)),"types",r),a[o]=!0,Object.keys(t[o]).forEach((function(r){n[r]&&(e(r,a),Object.keys(a).forEach((function(e){i[e][r]=!0})))})),delete a[o]}(this.primaryType,{}),i){var f=Object.keys(i[u]);f.sort(),this._types[u]=gt(u,r[u])+f.map((function(e){return gt(e,r[e])})).join("")}}return(0,h.Z)(e,[{key:"getEncoder",value:function(e){var r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}},{key:"_getEncoder",value:function(e){var r=this,t=vt(e);if(t)return t;var n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){var i=n[1],o=this.getEncoder(i),a=parseInt(n[3]);return function(e){a>=0&&e.length!==a&&nt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);var t=e.map(o);return r._types[i]&&(t=t.map(Sr)),Sr(Ar(t))}}var s=this.types[e];if(s){var u=rt(this._types[e]);return function(e){var t=s.map((function(t){var n=t.name,i=t.type,o=r.getEncoder(i)(e[n]);return r._types[i]?Sr(o):o}));return t.unshift(u),Ar(t)}}return nt.throwArgumentError("unknown type: ".concat(e),"type",e)}},{key:"encodeType",value:function(e){var r=this._types[e];return r||nt.throwArgumentError("unknown type: ".concat(JSON.stringify(e)),"name",e),r}},{key:"encodeData",value:function(e,r){return this.getEncoder(e)(r)}},{key:"hashStruct",value:function(e,r){return Sr(this.encodeData(e,r))}},{key:"encode",value:function(e){return this.encodeData(this.primaryType,e)}},{key:"hash",value:function(e){return this.hashStruct(this.primaryType,e)}},{key:"_visit",value:function(e,r,t){var n=this;if(vt(e))return t(e,r);var i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){var o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&nt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map((function(e){return n._visit(o,e,t)}))}var s=this.types[e];return s?s.reduce((function(e,i){var o=i.name,a=i.type;return e[o]=n._visit(a,r[o],t),e}),{}):nt.throwArgumentError("unknown type: ".concat(e),"type",e)}},{key:"visit",value:function(e,r){return this._visit(this.primaryType,e,r)}}],[{key:"from",value:function(r){return new e(r)}},{key:"getPrimaryType",value:function(r){return e.from(r).primaryType}},{key:"hashStruct",value:function(r,t,n){return e.from(t).hashStruct(r,n)}},{key:"hashDomain",value:function(r){var t=[];for(var n in r){var i=lt[n];i||nt.throwArgumentError("invalid typed-data domain key: ".concat(JSON.stringify(n)),"domain",r),t.push({name:n,type:i})}return t.sort((function(e,r){return ht.indexOf(e.name)-ht.indexOf(r.name)})),e.hashStruct("EIP712Domain",{EIP712Domain:t},r)}},{key:"encode",value:function(r,t,n){return Ar(["0x1901",e.hashDomain(r),e.from(t).hash(n)])}},{key:"hash",value:function(r,t,n){return Sr(e.encode(r,t,n))}},{key:"resolveNames",value:function(r,t,n,i){return tt(this,void 0,void 0,(0,$.Z)().mark((function o(){var a,s,u;return(0,$.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:r=$e(r),a={},r.verifyingContract&&!mr(r.verifyingContract,20)&&(a[r.verifyingContract]="0x"),(s=e.from(t)).visit(n,(function(e,r){return"address"!==e||mr(r,20)||(a[r]="0x"),r})),o.t0=(0,$.Z)().keys(a);case 6:if((o.t1=o.t0()).done){o.next=13;break}return u=o.t1.value,o.next=10,i(u);case 10:a[u]=o.sent,o.next=6;break;case 13:return r.verifyingContract&&a[r.verifyingContract]&&(r.verifyingContract=a[r.verifyingContract]),n=s.visit(n,(function(e,r){return"address"===e&&a[r]?a[r]:r})),o.abrupt("return",{domain:r,value:n});case 16:case"end":return o.stop()}}),o)})))}},{key:"getPayload",value:function(r,t,n){e.hashDomain(r);var i={},o=[];ht.forEach((function(e){var t=r[e];null!=t&&(i[e]=pt[e](t),o.push({name:e,type:lt[e]}))}));var a=e.from(t),s=$e(t);return s.EIP712Domain?nt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=o,a.encode(n),{types:s,domain:i,primaryType:a.primaryType,message:a.visit(n,(function(e,r){if(e.match(/^bytes(\d*)/))return wr(gr(r));if(e.match(/^u?int/))return Kr.from(r).toString();switch(e){case"address":return r.toLowerCase();case"bool":return!!r;case"string":return"string"!==typeof r&&nt.throwArgumentError("invalid string","value",r),r}return nt.throwArgumentError("unsupported type","type",e)}))}}}]),e}(),mt=new ce("bytes/5.7.0");function bt(e){return!!e.toHexString}function wt(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return wt(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function At(e){return"number"===typeof e&&e==e&&e%1===0}function Et(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!At(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!At(t)||t<0||t>=256)return!1}return!0}function St(e,r){if(r||(r={}),"number"===typeof e){mt.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),wt(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),bt(e)&&(e=e.toHexString()),xt(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":mt.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return wt(new Uint8Array(i))}return Et(e)?wt(new Uint8Array(e)):mt.throwArgumentError("invalid arrayify value","value",e)}function xt(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var Pt=function(){function e(r){(0,l.Z)(this,e),Je(this,"alphabet",r),Je(this,"base",r.length),Je(this,"_alphabetMap",{}),Je(this,"_leader",r.charAt(0));for(var t=0;t<r.length;t++)this._alphabetMap[r.charAt(t)]=t}return(0,h.Z)(e,[{key:"encode",value:function(e){var r=St(e);if(0===r.length)return"";for(var t=[0],n=0;n<r.length;++n){for(var i=r[n],o=0;o<t.length;++o)i+=t[o]<<8,t[o]=i%this.base,i=i/this.base|0;for(;i>0;)t.push(i%this.base),i=i/this.base|0}for(var a="",s=0;0===r[s]&&s<r.length-1;++s)a+=this._leader;for(var u=t.length-1;u>=0;--u)a+=this.alphabet[t[u]];return a}},{key:"decode",value:function(e){if("string"!==typeof e)throw new TypeError("Expected String");var r=[];if(0===e.length)return new Uint8Array(r);r.push(0);for(var t=0;t<e.length;t++){var n=this._alphabetMap[e[t]];if(void 0===n)throw new Error("Non-base"+this.base+" character");for(var i=n,o=0;o<r.length;++o)i+=r[o]*this.base,r[o]=255&i,i>>=8;for(;i>0;)r.push(255&i),i>>=8}for(var a=0;e[a]===this._leader&&a<e.length-1;++a)r.push(0);return St(new Uint8Array(r.reverse()))}}]),e}(),Nt=(new Pt("abcdefghijklmnopqrstuvwxyz234567"),new Pt("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),kt=new ce("bytes/5.7.0");function _t(e){return!!e.toHexString}function It(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return It(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function Tt(e){return"number"===typeof e&&e==e&&e%1===0}function Rt(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Tt(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!Tt(t)||t<0||t>=256)return!1}return!0}function Ct(e,r){if(r||(r={}),"number"===typeof e){kt.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),It(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),_t(e)&&(e=e.toHexString()),Ot(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":kt.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return It(new Uint8Array(i))}return Rt(e)?It(new Uint8Array(e)):kt.throwArgumentError("invalid arrayify value","value",e)}function Mt(e){var r=e.map((function(e){return Ct(e)})),t=r.reduce((function(e,r){return e+r.length}),0),n=new Uint8Array(t);return r.reduce((function(e,r){return n.set(r,e),e+r.length}),0),It(n)}function Ot(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var Ut="0123456789abcdef";function Bt(e,r){if(r||(r={}),"number"===typeof e){kt.checkSafeUint53(e,"invalid hexlify value");for(var t="";e;)t=Ut[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),_t(e))return e.toHexString();if(Ot(e))return e.length%2&&("left"===r.hexPad?e="0x0"+e.substring(2):"right"===r.hexPad?e+="0":kt.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(Rt(e)){for(var n="0x",i=0;i<e.length;i++){var o=e[i];n+=Ut[(240&o)>>4]+Ut[15&o]}return n}return kt.throwArgumentError("invalid hexlify value","value",e)}function Ft(e,r,t){return"string"!==typeof e?e=Bt(e):(!Ot(e)||e.length%2)&&kt.throwArgumentError("invalid hexData","value",e),r=2+2*r,null!=t?"0x"+e.substring(r,2+2*t):"0x"+e.substring(r)}function Lt(e,r){for("string"!==typeof e?e=Bt(e):Ot(e)||kt.throwArgumentError("invalid hex string","value",e),e.length>2*r+2&&kt.throwArgumentError("value out of range","value",arguments[1]);e.length<2*r+2;)e="0x0"+e.substring(2);return e}function Dt(e){var r,t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Ot(r=e)&&!(r.length%2)||Rt(r)){var n=Ct(e);64===n.length?(t.v=27+(n[32]>>7),n[32]&=127,t.r=Bt(n.slice(0,32)),t.s=Bt(n.slice(32,64))):65===n.length?(t.r=Bt(n.slice(0,32)),t.s=Bt(n.slice(32,64)),t.v=n[64]):kt.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:kt.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(n[32]|=128),t._vs=Bt(n.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){var i=function(e,r){(e=Ct(e)).length>r&&kt.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(r);return t.set(e,r-e.length),It(t)}(Ct(t._vs),32);t._vs=Bt(i);var o=i[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=o:t.recoveryParam!==o&&kt.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),i[0]&=127;var a=Bt(i);null==t.s?t.s=a:t.s!==a&&kt.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?kt.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{var s=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==s&&kt.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&Ot(t.r)?t.r=Lt(t.r,32):kt.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&Ot(t.s)?t.s=Lt(t.s,32):kt.throwArgumentError("signature missing or invalid s","signature",e);var u=Ct(t.s);u[0]>=128&&kt.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(u[0]|=128);var f=Bt(u);t._vs&&(Ot(t._vs)||kt.throwArgumentError("signature invalid _vs","signature",e),t._vs=Lt(t._vs,32)),null==t._vs?t._vs=f:t._vs!==f&&kt.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}var zt=be().BN,Gt=new ce("bignumber/5.7.0"),Kt={},jt=9007199254740991;var Ht=!1,qt=function(){function e(r,t){(0,l.Z)(this,e),r!==Kt&&Gt.throwError("cannot call constructor directly; use BigNumber.from",ce.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}return(0,h.Z)(e,[{key:"fromTwos",value:function(e){return Vt(Wt(this).fromTwos(e))}},{key:"toTwos",value:function(e){return Vt(Wt(this).toTwos(e))}},{key:"abs",value:function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this}},{key:"add",value:function(e){return Vt(Wt(this).add(Wt(e)))}},{key:"sub",value:function(e){return Vt(Wt(this).sub(Wt(e)))}},{key:"div",value:function(r){return e.from(r).isZero()&&Jt("division-by-zero","div"),Vt(Wt(this).div(Wt(r)))}},{key:"mul",value:function(e){return Vt(Wt(this).mul(Wt(e)))}},{key:"mod",value:function(e){var r=Wt(e);return r.isNeg()&&Jt("division-by-zero","mod"),Vt(Wt(this).umod(r))}},{key:"pow",value:function(e){var r=Wt(e);return r.isNeg()&&Jt("negative-power","pow"),Vt(Wt(this).pow(r))}},{key:"and",value:function(e){var r=Wt(e);return(this.isNegative()||r.isNeg())&&Jt("unbound-bitwise-result","and"),Vt(Wt(this).and(r))}},{key:"or",value:function(e){var r=Wt(e);return(this.isNegative()||r.isNeg())&&Jt("unbound-bitwise-result","or"),Vt(Wt(this).or(r))}},{key:"xor",value:function(e){var r=Wt(e);return(this.isNegative()||r.isNeg())&&Jt("unbound-bitwise-result","xor"),Vt(Wt(this).xor(r))}},{key:"mask",value:function(e){return(this.isNegative()||e<0)&&Jt("negative-width","mask"),Vt(Wt(this).maskn(e))}},{key:"shl",value:function(e){return(this.isNegative()||e<0)&&Jt("negative-width","shl"),Vt(Wt(this).shln(e))}},{key:"shr",value:function(e){return(this.isNegative()||e<0)&&Jt("negative-width","shr"),Vt(Wt(this).shrn(e))}},{key:"eq",value:function(e){return Wt(this).eq(Wt(e))}},{key:"lt",value:function(e){return Wt(this).lt(Wt(e))}},{key:"lte",value:function(e){return Wt(this).lte(Wt(e))}},{key:"gt",value:function(e){return Wt(this).gt(Wt(e))}},{key:"gte",value:function(e){return Wt(this).gte(Wt(e))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return Wt(this).isZero()}},{key:"toNumber",value:function(){try{return Wt(this).toNumber()}catch(e){Jt("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(e){}return Gt.throwError("this platform does not support BigInt",ce.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?Ht||(Ht=!0,Gt.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Gt.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ce.errors.UNEXPECTED_ARGUMENT,{}):Gt.throwError("BigNumber.toString does not accept parameters",ce.errors.UNEXPECTED_ARGUMENT,{})),Wt(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(e){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(r){if(r instanceof e)return r;if("string"===typeof r)return r.match(/^-?0x[0-9a-f]+$/i)?new e(Kt,Zt(r)):r.match(/^-?[0-9]+$/)?new e(Kt,Zt(new zt(r))):Gt.throwArgumentError("invalid BigNumber string","value",r);if("number"===typeof r)return r%1&&Jt("underflow","BigNumber.from",r),(r>=jt||r<=-9007199254740991)&&Jt("overflow","BigNumber.from",r),e.from(String(r));var t=r;if("bigint"===typeof t)return e.from(t.toString());if(Rt(t))return e.from(Bt(t));if(t)if(t.toHexString){var n=t.toHexString();if("string"===typeof n)return e.from(n)}else{var i=t._hex;if(null==i&&"BigNumber"===t.type&&(i=t.hex),"string"===typeof i&&(Ot(i)||"-"===i[0]&&Ot(i.substring(1))))return e.from(i)}return Gt.throwArgumentError("invalid BigNumber value","value",r)}},{key:"isBigNumber",value:function(e){return!(!e||!e._isBigNumber)}}]),e}();function Zt(e){if("string"!==typeof e)return Zt(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&Gt.throwArgumentError("invalid hex","value",e),"0x00"===(e=Zt(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function Vt(e){return qt.from(Zt(e))}function Wt(e){var r=qt.from(e).toHexString();return"-"===r[0]?new zt("-"+r.substring(3),16):new zt(r.substring(2),16)}function Jt(e,r,t){var n={fault:e,operation:r};return null!=t&&(n.value=t),Gt.throwError(e,ce.errors.NUMERIC_FAULT,n)}var Xt=new ce("bytes/5.7.0");function $t(e){return!!e.toHexString}function Yt(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return Yt(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function Qt(e){return"number"===typeof e&&e==e&&e%1===0}function en(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Qt(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!Qt(t)||t<0||t>=256)return!1}return!0}function rn(e,r){if(r||(r={}),"number"===typeof e){Xt.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Yt(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),$t(e)&&(e=e.toHexString()),tn(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":Xt.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return Yt(new Uint8Array(i))}return en(e)?Yt(new Uint8Array(e)):Xt.throwArgumentError("invalid arrayify value","value",e)}function tn(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var nn="0123456789abcdef";function on(e,r){if(r||(r={}),"number"===typeof e){Xt.checkSafeUint53(e,"invalid hexlify value");for(var t="";e;)t=nn[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),$t(e))return e.toHexString();if(tn(e))return e.length%2&&("left"===r.hexPad?e="0x0"+e.substring(2):"right"===r.hexPad?e+="0":Xt.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(en(e)){for(var n="0x",i=0;i<e.length;i++){var o=e[i];n+=nn[(240&o)>>4]+nn[15&o]}return n}return Xt.throwArgumentError("invalid hexlify value","value",e)}var an=t(99950),sn=t.n(an),un=new ce("bytes/5.7.0");function fn(e){return!!e.toHexString}function cn(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return cn(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function ln(e){return"number"===typeof e&&e==e&&e%1===0}function hn(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!ln(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!ln(t)||t<0||t>=256)return!1}return!0}function dn(e,r){if(r||(r={}),"number"===typeof e){un.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),cn(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),fn(e)&&(e=e.toHexString()),pn(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":un.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return cn(new Uint8Array(i))}return hn(e)?cn(new Uint8Array(e)):un.throwArgumentError("invalid arrayify value","value",e)}function pn(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var vn;!function(e){e.sha256="sha256",e.sha512="sha512"}(vn||(vn={}));var gn=new ce("sha2/5.7.0");function yn(e){return"0x"+sn().ripemd160().update(dn(e)).digest("hex")}function mn(e){return"0x"+sn().sha256().update(dn(e)).digest("hex")}function bn(e,r,t){return vn[e]||gn.throwError("unsupported algorithm "+e,ce.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+sn().hmac(sn()[e],dn(r)).update(dn(t)).digest("hex")}function wn(e,r,t,n,i){var o;e=rn(e),r=rn(r);var a,s,u=1,f=new Uint8Array(n),c=new Uint8Array(r.length+4);c.set(r);for(var l=1;l<=u;l++){c[r.length]=l>>24&255,c[r.length+1]=l>>16&255,c[r.length+2]=l>>8&255,c[r.length+3]=255&l;var h=rn(bn(i,e,c));o||(o=h.length,s=new Uint8Array(o),a=n-((u=Math.ceil(n/o))-1)*o),s.set(h);for(var d=1;d<t;d++){h=rn(bn(i,e,h));for(var p=0;p<o;p++)s[p]^=h[p]}var v=(l-1)*o,g=l===u?a:o;f.set(rn(s).slice(0,g),v)}return on(f)}"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t.g?t.g:"undefined"!==typeof self&&self;function An(e,r,t){return t={path:r,exports:{},require:function(e,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===r||null===r)&&t.path)}},e(t,t.exports),t.exports}var En=Sn;function Sn(e,r){if(!e)throw new Error(r||"Assertion failed")}Sn.equal=function(e,r,t){if(e!=r)throw new Error(t||"Assertion failed: "+e+" != "+r)};var xn=An((function(e,r){var t=r;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var r="",t=0;t<e.length;t++)r+=n(e[t].toString(16));return r}t.toArray=function(e,r){if(Array.isArray(e))return e.slice();if(!e)return[];var t=[];if("string"!==typeof e){for(var n=0;n<e.length;n++)t[n]=0|e[n];return t}if("hex"===r){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(n=0;n<e.length;n+=2)t.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?t.push(o,a):t.push(a)}return t},t.zero2=n,t.toHex=i,t.encode=function(e,r){return"hex"===r?i(e):e}})),Pn=An((function(e,r){var t=r;t.assert=En,t.toArray=xn.toArray,t.zero2=xn.zero2,t.toHex=xn.toHex,t.encode=xn.encode,t.getNAF=function(e,r,t){var n=new Array(Math.max(e.bitLength(),t)+1);n.fill(0);for(var i=1<<r+1,o=e.clone(),a=0;a<n.length;a++){var s,u=o.andln(i-1);o.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,o.isubn(s)):s=0,n[a]=s,o.iushrn(1)}return n},t.getJSF=function(e,r){var t=[[],[]];e=e.clone(),r=r.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||r.cmpn(-o)>0;){var a,s,u=e.andln(3)+i&3,f=r.andln(3)+o&3;3===u&&(u=-1),3===f&&(f=-1),a=0===(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==f?u:-u,t[0].push(a),s=0===(1&f)?0:3!==(n=r.andln(7)+o&7)&&5!==n||2!==u?f:-f,t[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),e.iushrn(1),r.iushrn(1)}return t},t.cachedProperty=function(e,r,t){var n="_"+r;e.prototype[r]=function(){return void 0!==this[n]?this[n]:this[n]=t.call(this)}},t.parseBytes=function(e){return"string"===typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new(be())(e,"hex","le")}})),Nn=Pn.getNAF,kn=Pn.getJSF,_n=Pn.assert;function In(e,r){this.type=e,this.p=new(be())(r.p,16),this.red=r.prime?be().red(r.prime):be().mont(this.p),this.zero=new(be())(0).toRed(this.red),this.one=new(be())(1).toRed(this.red),this.two=new(be())(2).toRed(this.red),this.n=r.n&&new(be())(r.n,16),this.g=r.g&&this.pointFromJSON(r.g,r.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Tn=In;function Rn(e,r){this.curve=e,this.type=r,this.precomputed=null}In.prototype.point=function(){throw new Error("Not implemented")},In.prototype.validate=function(){throw new Error("Not implemented")},In.prototype._fixedNafMul=function(e,r){_n(e.precomputed);var t=e._getDoubles(),n=Nn(r,1,this._bitLength),i=(1<<t.step+1)-(t.step%2===0?2:1);i/=3;var o,a,s=[];for(o=0;o<n.length;o+=t.step){a=0;for(var u=o+t.step-1;u>=o;u--)a=(a<<1)+n[u];s.push(a)}for(var f=this.jpoint(null,null,null),c=this.jpoint(null,null,null),l=i;l>0;l--){for(o=0;o<s.length;o++)(a=s[o])===l?c=c.mixedAdd(t.points[o]):a===-l&&(c=c.mixedAdd(t.points[o].neg()));f=f.add(c)}return f.toP()},In.prototype._wnafMul=function(e,r){var t=4,n=e._getNAFPoints(t);t=n.wnd;for(var i=n.points,o=Nn(r,t,this._bitLength),a=this.jpoint(null,null,null),s=o.length-1;s>=0;s--){for(var u=0;s>=0&&0===o[s];s--)u++;if(s>=0&&u++,a=a.dblp(u),s<0)break;var f=o[s];_n(0!==f),a="affine"===e.type?f>0?a.mixedAdd(i[f-1>>1]):a.mixedAdd(i[-f-1>>1].neg()):f>0?a.add(i[f-1>>1]):a.add(i[-f-1>>1].neg())}return"affine"===e.type?a.toP():a},In.prototype._wnafMulAdd=function(e,r,t,n,i){var o,a,s,u=this._wnafT1,f=this._wnafT2,c=this._wnafT3,l=0;for(o=0;o<n;o++){var h=(s=r[o])._getNAFPoints(e);u[o]=h.wnd,f[o]=h.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var v=[r[d],null,null,r[p]];0===r[d].y.cmp(r[p].y)?(v[1]=r[d].add(r[p]),v[2]=r[d].toJ().mixedAdd(r[p].neg())):0===r[d].y.cmp(r[p].y.redNeg())?(v[1]=r[d].toJ().mixedAdd(r[p]),v[2]=r[d].add(r[p].neg())):(v[1]=r[d].toJ().mixedAdd(r[p]),v[2]=r[d].toJ().mixedAdd(r[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=kn(t[d],t[p]);for(l=Math.max(y[0].length,l),c[d]=new Array(l),c[p]=new Array(l),a=0;a<l;a++){var m=0|y[0][a],b=0|y[1][a];c[d][a]=g[3*(m+1)+(b+1)],c[p][a]=0,f[d]=v}}else c[d]=Nn(t[d],u[d],this._bitLength),c[p]=Nn(t[p],u[p],this._bitLength),l=Math.max(c[d].length,l),l=Math.max(c[p].length,l)}var w=this.jpoint(null,null,null),A=this._wnafT4;for(o=l;o>=0;o--){for(var E=0;o>=0;){var S=!0;for(a=0;a<n;a++)A[a]=0|c[a][o],0!==A[a]&&(S=!1);if(!S)break;E++,o--}if(o>=0&&E++,w=w.dblp(E),o<0)break;for(a=0;a<n;a++){var x=A[a];0!==x&&(x>0?s=f[a][x-1>>1]:x<0&&(s=f[a][-x-1>>1].neg()),w="affine"===s.type?w.mixedAdd(s):w.add(s))}}for(o=0;o<n;o++)f[o]=null;return i?w:w.toP()},In.BasePoint=Rn,Rn.prototype.eq=function(){throw new Error("Not implemented")},Rn.prototype.validate=function(){return this.curve.validate(this)},In.prototype.decodePoint=function(e,r){e=Pn.toArray(e,r);var t=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*t)return 6===e[0]?_n(e[e.length-1]%2===0):7===e[0]&&_n(e[e.length-1]%2===1),this.point(e.slice(1,1+t),e.slice(1+t,1+2*t));if((2===e[0]||3===e[0])&&e.length-1===t)return this.pointFromX(e.slice(1,1+t),3===e[0]);throw new Error("Unknown point format")},Rn.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Rn.prototype._encode=function(e){var r=this.curve.p.byteLength(),t=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(t):[4].concat(t,this.getY().toArray("be",r))},Rn.prototype.encode=function(e,r){return Pn.encode(this._encode(r),e)},Rn.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},Rn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return!!r&&r.points.length>=Math.ceil((e.bitLength()+1)/r.step)},Rn.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var t=[this],n=this,i=0;i<r;i+=e){for(var o=0;o<e;o++)n=n.dbl();t.push(n)}return{step:e,points:t}},Rn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],t=(1<<e)-1,n=1===t?null:this.dbl(),i=1;i<t;i++)r[i]=r[i-1].add(n);return{wnd:e,points:r}},Rn.prototype._getBeta=function(){return null},Rn.prototype.dblp=function(e){for(var r=this,t=0;t<e;t++)r=r.dbl();return r};var Cn=An((function(e){"function"===typeof Object.create?e.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,r){if(r){e.super_=r;var t=function(){};t.prototype=r.prototype,e.prototype=new t,e.prototype.constructor=e}}})),Mn=Pn.assert;function On(e){Tn.call(this,"short",e),this.a=new(be())(e.a,16).toRed(this.red),this.b=new(be())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Cn(On,Tn);var Un=On;function Bn(e,r,t,n){Tn.BasePoint.call(this,e,"affine"),null===r&&null===t?(this.x=null,this.y=null,this.inf=!0):(this.x=new(be())(r,16),this.y=new(be())(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Fn(e,r,t,n){Tn.BasePoint.call(this,e,"jacobian"),null===r&&null===t&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(be())(0)):(this.x=new(be())(r,16),this.y=new(be())(t,16),this.z=new(be())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}On.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var r,t;if(e.beta)r=new(be())(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);r=(r=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)t=new(be())(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))?t=i[0]:(t=i[1],Mn(0===this.g.mul(t).x.cmp(this.g.x.redMul(r))))}return{beta:r,lambda:t,basis:e.basis?e.basis.map((function(e){return{a:new(be())(e.a,16),b:new(be())(e.b,16)}})):this._getEndoBasis(t)}}},On.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:be().mont(e),t=new(be())(2).toRed(r).redInvm(),n=t.redNeg(),i=new(be())(3).toRed(r).redNeg().redSqrt().redMul(t);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},On.prototype._getEndoBasis=function(e){for(var r,t,n,i,o,a,s,u,f,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,h=this.n.clone(),d=new(be())(1),p=new(be())(0),v=new(be())(0),g=new(be())(1),y=0;0!==l.cmpn(0);){var m=h.div(l);u=h.sub(m.mul(l)),f=v.sub(m.mul(d));var b=g.sub(m.mul(p));if(!n&&u.cmp(c)<0)r=s.neg(),t=d,n=u.neg(),i=f;else if(n&&2===++y)break;s=u,h=l,l=u,v=d,d=f,g=p,p=b}o=u.neg(),a=f;var w=n.sqr().add(i.sqr());return o.sqr().add(a.sqr()).cmp(w)>=0&&(o=r,a=t),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:i},{a:o,b:a}]},On.prototype._endoSplit=function(e){var r=this.endo.basis,t=r[0],n=r[1],i=n.b.mul(e).divRound(this.n),o=t.b.neg().mul(e).divRound(this.n),a=i.mul(t.a),s=o.mul(n.a),u=i.mul(t.b),f=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:u.add(f).neg()}},On.prototype.pointFromX=function(e,r){(e=new(be())(e,16)).red||(e=e.toRed(this.red));var t=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=t.redSqrt();if(0!==n.redSqr().redSub(t).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(r&&!i||!r&&i)&&(n=n.redNeg()),this.point(e,n)},On.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,t=e.y,n=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);return 0===t.redSqr().redISub(i).cmpn(0)},On.prototype._endoWnafMulAdd=function(e,r,t){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),s=e[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),n[2*o]=s,n[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var f=this._wnafMulAdd(1,n,i,2*o,t),c=0;c<2*o;c++)n[c]=null,i[c]=null;return f},Cn(Bn,Tn.BasePoint),On.prototype.point=function(e,r,t){return new Bn(this,e,r,t)},On.prototype.pointFromJSON=function(e,r){return Bn.fromJSON(this,e,r)},Bn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var t=this.curve,n=function(e){return t.point(e.x.redMul(t.endo.beta),e.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return r}},Bn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Bn.fromJSON=function(e,r,t){"string"===typeof r&&(r=JSON.parse(r));var n=e.point(r[0],r[1],t);if(!r[2])return n;function i(r){return e.point(r[0],r[1],t)}var o=r[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Bn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Bn.prototype.isInfinity=function(){return this.inf},Bn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var r=this.y.redSub(e.y);0!==r.cmpn(0)&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var t=r.redSqr().redISub(this.x).redISub(e.x),n=r.redMul(this.x.redSub(t)).redISub(this.y);return this.curve.point(t,n)},Bn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var r=this.curve.a,t=this.x.redSqr(),n=e.redInvm(),i=t.redAdd(t).redIAdd(t).redIAdd(r).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},Bn.prototype.getX=function(){return this.x.fromRed()},Bn.prototype.getY=function(){return this.y.fromRed()},Bn.prototype.mul=function(e){return e=new(be())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Bn.prototype.mulAdd=function(e,r,t){var n=[this,r],i=[e,t];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Bn.prototype.jmulAdd=function(e,r,t){var n=[this,r],i=[e,t];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Bn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Bn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var t=this.precomputed,n=function(e){return e.neg()};r.precomputed={naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return r},Bn.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Cn(Fn,Tn.BasePoint),On.prototype.jpoint=function(e,r,t){return new Fn(this,e,r,t)},Fn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),t=this.x.redMul(r),n=this.y.redMul(r).redMul(e);return this.curve.point(t,n)},Fn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Fn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),t=this.z.redSqr(),n=this.x.redMul(r),i=e.x.redMul(t),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(t.redMul(this.z)),s=n.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var f=s.redSqr(),c=f.redMul(s),l=n.redMul(f),h=u.redSqr().redIAdd(c).redISub(l).redISub(l),d=u.redMul(l.redISub(h)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(h,d,p)},Fn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),t=this.x,n=e.x.redMul(r),i=this.y,o=e.y.redMul(r).redMul(this.z),a=t.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),f=u.redMul(a),c=t.redMul(u),l=s.redSqr().redIAdd(f).redISub(c).redISub(c),h=s.redMul(c.redISub(l)).redISub(i.redMul(f)),d=this.z.redMul(a);return this.curve.jpoint(l,h,d)},Fn.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var t=this;for(r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),f=a.redAdd(a);for(r=0;r<e;r++){var c=o.redSqr(),l=f.redSqr(),h=l.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(u)),p=o.redMul(l),v=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(v),y=d.redMul(g);y=y.redIAdd(y).redISub(h);var m=f.redMul(s);r+1<e&&(u=u.redMul(h)),o=v,s=m,f=y}return this.curve.jpoint(o,f.redMul(i),s)},Fn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Fn.prototype._zeroDbl=function(){var e,r,t;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(a).redISub(a),f=o.redIAdd(o);f=(f=f.redIAdd(f)).redIAdd(f),e=u,r=s.redMul(a.redISub(u)).redISub(f),t=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),l=this.y.redSqr(),h=l.redSqr(),d=this.x.redAdd(l).redSqr().redISub(c).redISub(h);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),v=p.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),e=v.redISub(d).redISub(d),r=p.redMul(d.redISub(e)).redISub(g),t=(t=this.y.redMul(this.z)).redIAdd(t)}return this.curve.jpoint(e,r,t)},Fn.prototype._threeDbl=function(){var e,r,t;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);e=u;var f=o.redIAdd(o);f=(f=f.redIAdd(f)).redIAdd(f),r=s.redMul(a.redISub(u)).redISub(f),t=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),l=this.y.redSqr(),h=this.x.redMul(l),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),v=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(v),t=this.y.redAdd(this.z).redSqr().redISub(l).redISub(c);var g=l.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),r=d.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,r,t)},Fn.prototype._dbl=function(){var e=this.curve.a,r=this.x,t=this.y,n=this.z,i=n.redSqr().redSqr(),o=r.redSqr(),a=t.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=r.redAdd(r),f=(u=u.redIAdd(u)).redMul(a),c=s.redSqr().redISub(f.redAdd(f)),l=f.redISub(c),h=a.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=s.redMul(l).redISub(h),p=t.redAdd(t).redMul(n);return this.curve.jpoint(c,d,p)},Fn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),t=this.z.redSqr(),n=r.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var f=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),c=r.redMul(f);c=(c=c.redIAdd(c)).redIAdd(c);var l=this.x.redMul(s).redISub(c);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.y.redMul(f.redMul(u.redISub(f)).redISub(a.redMul(s)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(a).redSqr().redISub(t).redISub(s);return this.curve.jpoint(l,h,d)},Fn.prototype.mul=function(e,r){return e=new(be())(e,r),this.curve._wnafMul(this,e)},Fn.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),t=e.z.redSqr();if(0!==this.x.redMul(t).redISub(e.x.redMul(r)).cmpn(0))return!1;var n=r.redMul(this.z),i=t.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},Fn.prototype.eqXToP=function(e){var r=this.z.redSqr(),t=e.toRed(this.curve.red).redMul(r);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(r);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},Fn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Fn.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Ln=An((function(e,r){var t=r;t.base=Tn,t.short=Un,t.mont=null,t.edwards=null})),Dn=An((function(e,r){var t,n=r,i=Pn.assert;function o(e){"short"===e.type?this.curve=new Ln.short(e):"edwards"===e.type?this.curve=new Ln.edwards(e):this.curve=new Ln.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,r){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var t=new o(r);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:t}),t}})}n.PresetCurve=o,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:sn().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:sn().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:sn().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:sn().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:sn().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:sn().sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:sn().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{t=null.crash()}catch(s){t=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:sn().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",t]})}));function zn(e){if(!(this instanceof zn))return new zn(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var r=xn.toArray(e.entropy,e.entropyEnc||"hex"),t=xn.toArray(e.nonce,e.nonceEnc||"hex"),n=xn.toArray(e.pers,e.persEnc||"hex");En(r.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(r,t,n)}var Gn=zn;zn.prototype._init=function(e,r,t){var n=e.concat(r).concat(t);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},zn.prototype._hmac=function(){return new(sn().hmac)(this.hash,this.K)},zn.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},zn.prototype.reseed=function(e,r,t,n){"string"!==typeof r&&(n=t,t=r,r=null),e=xn.toArray(e,r),t=xn.toArray(t,n),En(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(t||[])),this._reseed=1},zn.prototype.generate=function(e,r,t,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof r&&(n=t,t=r,r=null),t&&(t=xn.toArray(t,n||"hex"),this._update(t));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(t),this._reseed++,xn.encode(o,r)};var Kn=Pn.assert;function jn(e,r){this.ec=e,this.priv=null,this.pub=null,r.priv&&this._importPrivate(r.priv,r.privEnc),r.pub&&this._importPublic(r.pub,r.pubEnc)}var Hn=jn;jn.fromPublic=function(e,r,t){return r instanceof jn?r:new jn(e,{pub:r,pubEnc:t})},jn.fromPrivate=function(e,r,t){return r instanceof jn?r:new jn(e,{priv:r,privEnc:t})},jn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},jn.prototype.getPublic=function(e,r){return"string"===typeof e&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},jn.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},jn.prototype._importPrivate=function(e,r){this.priv=new(be())(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},jn.prototype._importPublic=function(e,r){if(e.x||e.y)return"mont"===this.ec.curve.type?Kn(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Kn(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,r)},jn.prototype.derive=function(e){return e.validate()||Kn(e.validate(),"public point not validated"),e.mul(this.priv).getX()},jn.prototype.sign=function(e,r,t){return this.ec.sign(e,this,r,t)},jn.prototype.verify=function(e,r){return this.ec.verify(e,r,this)},jn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var qn=Pn.assert;function Zn(e,r){if(e instanceof Zn)return e;this._importDER(e,r)||(qn(e.r&&e.s,"Signature without r or s"),this.r=new(be())(e.r,16),this.s=new(be())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Vn=Zn;function Wn(){this.place=0}function Jn(e,r){var t=e[r.place++];if(!(128&t))return t;var n=15&t;if(0===n||n>4)return!1;for(var i=0,o=0,a=r.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(r.place=a,i)}function Xn(e){for(var r=0,t=e.length-1;!e[r]&&!(128&e[r+1])&&r<t;)r++;return 0===r?e:e.slice(r)}function $n(e,r){if(r<128)e.push(r);else{var t=1+(Math.log(r)/Math.LN2>>>3);for(e.push(128|t);--t;)e.push(r>>>(t<<3)&255);e.push(r)}}Zn.prototype._importDER=function(e,r){e=Pn.toArray(e,r);var t=new Wn;if(48!==e[t.place++])return!1;var n=Jn(e,t);if(!1===n)return!1;if(n+t.place!==e.length)return!1;if(2!==e[t.place++])return!1;var i=Jn(e,t);if(!1===i)return!1;var o=e.slice(t.place,i+t.place);if(t.place+=i,2!==e[t.place++])return!1;var a=Jn(e,t);if(!1===a)return!1;if(e.length!==a+t.place)return!1;var s=e.slice(t.place,a+t.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new(be())(o),this.s=new(be())(s),this.recoveryParam=null,!0},Zn.prototype.toDER=function(e){var r=this.r.toArray(),t=this.s.toArray();for(128&r[0]&&(r=[0].concat(r)),128&t[0]&&(t=[0].concat(t)),r=Xn(r),t=Xn(t);!t[0]&&!(128&t[1]);)t=t.slice(1);var n=[2];$n(n,r.length),(n=n.concat(r)).push(2),$n(n,t.length);var i=n.concat(t),o=[48];return $n(o,i.length),o=o.concat(i),Pn.encode(o,e)};var Yn=function(){throw new Error("unsupported")},Qn=Pn.assert;function ei(e){if(!(this instanceof ei))return new ei(e);"string"===typeof e&&(Qn(Object.prototype.hasOwnProperty.call(Dn,e),"Unknown curve "+e),e=Dn[e]),e instanceof Dn.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var ri=ei;ei.prototype.keyPair=function(e){return new Hn(this,e)},ei.prototype.keyFromPrivate=function(e,r){return Hn.fromPrivate(this,e,r)},ei.prototype.keyFromPublic=function(e,r){return Hn.fromPublic(this,e,r)},ei.prototype.genKeyPair=function(e){e||(e={});for(var r=new Gn({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Yn(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),t=this.n.byteLength(),n=this.n.sub(new(be())(2));;){var i=new(be())(r.generate(t));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},ei.prototype._truncateToN=function(e,r){var t=8*e.byteLength()-this.n.bitLength();return t>0&&(e=e.ushrn(t)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},ei.prototype.sign=function(e,r,t,n){"object"===typeof t&&(n=t,t=null),n||(n={}),r=this.keyFromPrivate(r,t),e=this._truncateToN(new(be())(e,16));for(var i=this.n.byteLength(),o=r.getPrivate().toArray("be",i),a=e.toArray("be",i),s=new Gn({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(be())(1)),f=0;;f++){var c=n.k?n.k(f):new(be())(s.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(u)>=0)){var l=this.g.mul(c);if(!l.isInfinity()){var h=l.getX(),d=h.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(r.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var v=(l.getY().isOdd()?1:0)|(0!==h.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),v^=1),new Vn({r:d,s:p,recoveryParam:v})}}}}}},ei.prototype.verify=function(e,r,t,n){e=this._truncateToN(new(be())(e,16)),t=this.keyFromPublic(t,n);var i=(r=new Vn(r,"hex")).r,o=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,s=o.invm(this.n),u=s.mul(e).umod(this.n),f=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,t.getPublic(),f)).isInfinity()&&a.eqXToP(i):!(a=this.g.mulAdd(u,t.getPublic(),f)).isInfinity()&&0===a.getX().umod(this.n).cmp(i)},ei.prototype.recoverPubKey=function(e,r,t,n){Qn((3&t)===t,"The recovery param is more than two bits"),r=new Vn(r,n);var i=this.n,o=new(be())(e),a=r.r,s=r.s,u=1&t,f=t>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");a=f?this.curve.pointFromX(a.add(this.curve.n),u):this.curve.pointFromX(a,u);var c=r.r.invm(i),l=i.sub(o).mul(c).umod(i),h=s.mul(c).umod(i);return this.g.mulAdd(l,a,h)},ei.prototype.getKeyRecoveryParam=function(e,r,t,n){if(null!==(r=new Vn(r,n)).recoveryParam)return r.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,r,i)}catch(e){continue}if(o.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var ti=An((function(e,r){var t=r;t.version="6.5.4",t.utils=Pn,t.rand=function(){throw new Error("unsupported")},t.curve=Ln,t.curves=Dn,t.ec=ri,t.eddsa=null})),ni=ti.ec,ii=new ce("signing-key/5.7.0"),oi=null;function ai(){return oi||(oi=new ni("secp256k1")),oi}var si=function(){function e(r){(0,l.Z)(this,e),Je(this,"curve","secp256k1"),Je(this,"privateKey",Bt(r)),32!==function(e){if("string"!==typeof e)e=Bt(e);else if(!Ot(e)||e.length%2)return null;return(e.length-2)/2}(this.privateKey)&&ii.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");var t=ai().keyFromPrivate(Ct(this.privateKey));Je(this,"publicKey","0x"+t.getPublic(!1,"hex")),Je(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),Je(this,"_isSigningKey",!0)}return(0,h.Z)(e,[{key:"_addPoint",value:function(e){var r=ai().keyFromPublic(Ct(this.publicKey)),t=ai().keyFromPublic(Ct(e));return"0x"+r.pub.add(t.pub).encodeCompressed("hex")}},{key:"signDigest",value:function(e){var r=ai().keyFromPrivate(Ct(this.privateKey)),t=Ct(e);32!==t.length&&ii.throwArgumentError("bad digest length","digest",e);var n=r.sign(t,{canonical:!0});return Dt({recoveryParam:n.recoveryParam,r:Lt("0x"+n.r.toString(16),32),s:Lt("0x"+n.s.toString(16),32)})}},{key:"computeSharedSecret",value:function(e){var r=ai().keyFromPrivate(Ct(this.privateKey)),t=ai().keyFromPublic(Ct(ui(e)));return Lt("0x"+r.derive(t.getPublic()).toString(16),32)}}],[{key:"isSigningKey",value:function(e){return!(!e||!e._isSigningKey)}}]),e}();function ui(e,r){var t=Ct(e);if(32===t.length){var n=new si(t);return r?"0x"+ai().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}return 33===t.length?r?Bt(t):"0x"+ai().keyFromPublic(t).getPublic(!1,"hex"):65===t.length?r?"0x"+ai().keyFromPublic(t).getPublic(!0,"hex"):Bt(t):ii.throwArgumentError("invalid public or private key","key","[REDACTED]")}function fi(e){return"0x"+c().keccak_256(Ct(e))}var ci=new ce("address/5.7.0");function li(e){Ot(e,20)||ci.throwArgumentError("invalid address","address",e);for(var r=(e=e.toLowerCase()).substring(2).split(""),t=new Uint8Array(40),n=0;n<40;n++)t[n]=r[n].charCodeAt(0);for(var i=Ct(fi(t)),o=0;o<40;o+=2)i[o>>1]>>4>=8&&(r[o]=r[o].toUpperCase()),(15&i[o>>1])>=8&&(r[o+1]=r[o+1].toUpperCase());return"0x"+r.join("")}for(var hi={},di=0;di<10;di++)hi[String(di)]=String(di);for(var pi=0;pi<26;pi++)hi[String.fromCharCode(65+pi)]=String(10+pi);var vi=Math.floor(function(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}(9007199254740991));function gi(e){for(var r=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((function(e){return hi[e]})).join("");r.length>=vi;){var t=r.substring(0,vi);r=parseInt(t,10)%97+r.substring(t.length)}for(var n=String(98-parseInt(r,10)%97);n.length<2;)n="0"+n;return n}function yi(e){var r,t=null;if("string"!==typeof e&&ci.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=li(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&ci.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==gi(e)&&ci.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new zt(r,36).toString(16);t.length<40;)t="0"+t;t=li("0x"+t)}else ci.throwArgumentError("invalid address","address",e);return t}var mi;new ce("transactions/5.7.0");!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(mi||(mi={}));function bi(e){return yi(Ft(fi(Ft(ui(e),1)),12))}var wi=new ce("wordlists/5.7.0"),Ai=function(){function e(r){(0,l.Z)(this,e),wi.checkAbstract(this instanceof e?this.constructor:void 0,e),Je(this,"locale",r)}return(0,h.Z)(e,[{key:"split",value:function(e){return e.toLowerCase().split(/ +/g)}},{key:"join",value:function(e){return e.join(" ")}}],[{key:"check",value:function(e){for(var r=[],t=0;t<2048;t++){var n=e.getWord(t);if(t!==e.getWordIndex(n))return"0x";r.push(n)}return fi(Ur(r.join("\n")+"\n"))}},{key:"register",value:function(e,r){r||(r=e.locale)}}]),e}(),Ei=null;function Si(e){if(null==Ei&&(Ei="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==Ai.check(e)))throw Ei=null,new Error("BIP39 Wordlist for en (English) FAILED")}var xi=new(function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(){return(0,l.Z)(this,t),r.call(this,"en")}return(0,h.Z)(t,[{key:"getWord",value:function(e){return Si(this),Ei[e]}},{key:"getWordIndex",value:function(e){return Si(this),Ei.indexOf(e)}}]),t}(Ai));Ai.register(xi);var Pi={en:xi},Ni=new ce("hdnode/5.6.2"),ki=qt.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_i=Ur("Bitcoin seed"),Ii=2147483648;function Ti(e){return(1<<e)-1<<8-e}function Ri(e){return Lt(Bt(e),32)}function Ci(e){return Nt.encode(Mt([e,Ft(mn(mn(e)),0,4)]))}function Mi(e){if(null==e)return Pi.en;if("string"===typeof e){var r=Pi[e];return null==r&&Ni.throwArgumentError("unknown locale","wordlist",e),r}return e}var Oi={},Ui="m/44'/60'/0'/0/0",Bi=function(){function e(r,t,n,i,o,a,s,u){if((0,l.Z)(this,e),r!==Oi)throw new Error("HDNode constructor cannot be called directly");if(t){var f=new si(t);Je(this,"privateKey",f.privateKey),Je(this,"publicKey",f.compressedPublicKey)}else Je(this,"privateKey",null),Je(this,"publicKey",Bt(n));Je(this,"parentFingerprint",i),Je(this,"fingerprint",Ft(yn(mn(this.publicKey)),0,4)),Je(this,"address",bi(this.publicKey)),Je(this,"chainCode",o),Je(this,"index",a),Je(this,"depth",s),null==u?(Je(this,"mnemonic",null),Je(this,"path",null)):"string"===typeof u?(Je(this,"mnemonic",null),Je(this,"path",u)):(Je(this,"mnemonic",u),Je(this,"path",u.path))}return(0,h.Z)(e,[{key:"extendedKey",get:function(){if(this.depth>=256)throw new Error("Depth too large!");return Ci(Mt([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",Bt(this.depth),this.parentFingerprint,Lt(Bt(this.index),4),this.chainCode,null!=this.privateKey?Mt(["0x00",this.privateKey]):this.publicKey]))}},{key:"neuter",value:function(){return new e(Oi,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}},{key:"_derive",value:function(r){if(r>4294967295)throw new Error("invalid index - "+String(r));var t=this.path;t&&(t+="/"+(2147483647&r));var n=new Uint8Array(37);if(r&Ii){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(Ct(this.privateKey),1),t&&(t+="'")}else n.set(Ct(this.publicKey));for(var i=24;i>=0;i-=8)n[33+(i>>3)]=r>>24-i&255;var o=Ct(bn(vn.sha512,this.chainCode,n)),a=o.slice(0,32),s=o.slice(32),u=null,f=null;this.privateKey?u=Ri(qt.from(a).add(this.privateKey).mod(ki)):f=new si(Bt(a))._addPoint(this.publicKey);var c=t,l=this.mnemonic;return l&&(c=Object.freeze({phrase:l.phrase,path:t,locale:l.locale||"en"})),new e(Oi,u,f,this.fingerprint,Ri(s),r,this.depth+1,c)}},{key:"derivePath",value:function(e){var r=e.split("/");if(0===r.length||"m"===r[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===r[0]&&r.shift();for(var t=this,n=0;n<r.length;n++){var i=r[n];if(i.match(/^[0-9]+'$/)){var o=parseInt(i.substring(0,i.length-1));if(o>=Ii)throw new Error("invalid path index - "+i);t=t._derive(Ii+o)}else{if(!i.match(/^[0-9]+$/))throw new Error("invalid path component - "+i);var a=parseInt(i);if(a>=Ii)throw new Error("invalid path index - "+i);t=t._derive(a)}}return t}}],[{key:"_fromSeed",value:function(r,t){var n=Ct(r);if(n.length<16||n.length>64)throw new Error("invalid seed");var i=Ct(bn(vn.sha512,_i,n));return new e(Oi,Ri(i.slice(0,32)),null,"0x00000000",Ri(i.slice(32)),0,0,t)}},{key:"fromMnemonic",value:function(r,t,n){return r=Li(Fi(r,n=Mi(n)),n),e._fromSeed(function(e,r){r||(r="");var t=Ur("mnemonic"+r,Rr.NFKD);return wn(Ur(e,Rr.NFKD),t,2048,64,"sha512")}(r,t),{phrase:r,path:"m",locale:n.locale})}},{key:"fromSeed",value:function(r){return e._fromSeed(r,null)}},{key:"fromExtendedKey",value:function(r){var t=Nt.decode(r);82===t.length&&Ci(t.slice(0,78))===r||Ni.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");var n=t[4],i=Bt(t.slice(5,9)),o=parseInt(Bt(t.slice(9,13)).substring(2),16),a=Bt(t.slice(13,45)),s=t.slice(45,78);switch(Bt(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new e(Oi,null,Bt(s),i,a,o,n,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new e(Oi,Bt(s.slice(1)),null,i,a,o,n,null)}return Ni.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}]),e}();function Fi(e,r){r=Mi(r),Ni.checkNormalize();var t=r.split(e);if(t.length%3!==0)throw new Error("invalid mnemonic");for(var n=Ct(new Uint8Array(Math.ceil(11*t.length/8))),i=0,o=0;o<t.length;o++){var a=r.getWordIndex(t[o].normalize("NFKD"));if(-1===a)throw new Error("invalid mnemonic");for(var s=0;s<11;s++)a&1<<10-s&&(n[i>>3]|=1<<7-i%8),i++}var u=32*t.length/3,f=Ti(t.length/3);if((Ct(mn(n.slice(0,u/8)))[0]&f)!==(n[n.length-1]&f))throw new Error("invalid checksum");return Bt(n.slice(0,u/8))}function Li(e,r){if(r=Mi(r),(e=Ct(e)).length%4!==0||e.length<16||e.length>32)throw new Error("invalid entropy");for(var t=[0],n=11,i=0;i<e.length;i++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=e[i],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=e[i]>>8-n,t.push(e[i]&(1<<8-n)-1),n+=3);var o=e.length/4,a=Ct(mn(e))[0]&Ti(o);return t[t.length-1]<<=o,t[t.length-1]|=a>>8-o,r.join(t.map((function(e){return r.getWord(e)})))}var Di=new ce("bytes/5.7.0");function zi(e){return!!e.toHexString}function Gi(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return Gi(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function Ki(e){return"number"===typeof e&&e==e&&e%1===0}function ji(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Ki(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!Ki(t)||t<0||t>=256)return!1}return!0}function Hi(e,r){if(r||(r={}),"number"===typeof e){Di.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Gi(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),zi(e)&&(e=e.toHexString()),qi(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":Di.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return Gi(new Uint8Array(i))}return ji(e)?Gi(new Uint8Array(e)):Di.throwArgumentError("invalid arrayify value","value",e)}function qi(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}function Zi(e){return"0x"+c().keccak_256(Hi(e))}var Vi=new ce("bytes/5.7.0");function Wi(e){return!!e.toHexString}function Ji(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return Ji(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function Xi(e){return"number"===typeof e&&e==e&&e%1===0}function $i(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Xi(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!Xi(t)||t<0||t>=256)return!1}return!0}function Yi(e,r){if(r||(r={}),"number"===typeof e){Vi.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Ji(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Wi(e)&&(e=e.toHexString()),Qi(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":Vi.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return Ji(new Uint8Array(i))}return $i(e)?Ji(new Uint8Array(e)):Vi.throwArgumentError("invalid arrayify value","value",e)}function Qi(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var eo=new ce("random/5.6.1");var ro=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof t.g)return t.g;throw new Error("unable to locate global object")}(),to=ro.crypto||ro.msCrypto;to&&to.getRandomValues||(eo.warn("WARNING: Missing strong random number source"),to={getRandomValues:function(e){return eo.throwError("no secure random source avaialble",ce.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t.g?t.g:"undefined"!==typeof self&&self;function no(e,r,t){return t={path:r,exports:{},require:function(e,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===r||null===r)&&t.path)}},e(t,t.exports),t.exports}var io=oo;function oo(e,r){if(!e)throw new Error(r||"Assertion failed")}oo.equal=function(e,r,t){if(e!=r)throw new Error(t||"Assertion failed: "+e+" != "+r)};var ao=no((function(e,r){var t=r;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var r="",t=0;t<e.length;t++)r+=n(e[t].toString(16));return r}t.toArray=function(e,r){if(Array.isArray(e))return e.slice();if(!e)return[];var t=[];if("string"!==typeof e){for(var n=0;n<e.length;n++)t[n]=0|e[n];return t}if("hex"===r){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(n=0;n<e.length;n+=2)t.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?t.push(o,a):t.push(a)}return t},t.zero2=n,t.toHex=i,t.encode=function(e,r){return"hex"===r?i(e):e}})),so=no((function(e,r){var t=r;t.assert=io,t.toArray=ao.toArray,t.zero2=ao.zero2,t.toHex=ao.toHex,t.encode=ao.encode,t.getNAF=function(e,r,t){var n=new Array(Math.max(e.bitLength(),t)+1);n.fill(0);for(var i=1<<r+1,o=e.clone(),a=0;a<n.length;a++){var s,u=o.andln(i-1);o.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,o.isubn(s)):s=0,n[a]=s,o.iushrn(1)}return n},t.getJSF=function(e,r){var t=[[],[]];e=e.clone(),r=r.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||r.cmpn(-o)>0;){var a,s,u=e.andln(3)+i&3,f=r.andln(3)+o&3;3===u&&(u=-1),3===f&&(f=-1),a=0===(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==f?u:-u,t[0].push(a),s=0===(1&f)?0:3!==(n=r.andln(7)+o&7)&&5!==n||2!==u?f:-f,t[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),e.iushrn(1),r.iushrn(1)}return t},t.cachedProperty=function(e,r,t){var n="_"+r;e.prototype[r]=function(){return void 0!==this[n]?this[n]:this[n]=t.call(this)}},t.parseBytes=function(e){return"string"===typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new(be())(e,"hex","le")}})),uo=so.getNAF,fo=so.getJSF,co=so.assert;function lo(e,r){this.type=e,this.p=new(be())(r.p,16),this.red=r.prime?be().red(r.prime):be().mont(this.p),this.zero=new(be())(0).toRed(this.red),this.one=new(be())(1).toRed(this.red),this.two=new(be())(2).toRed(this.red),this.n=r.n&&new(be())(r.n,16),this.g=r.g&&this.pointFromJSON(r.g,r.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ho=lo;function po(e,r){this.curve=e,this.type=r,this.precomputed=null}lo.prototype.point=function(){throw new Error("Not implemented")},lo.prototype.validate=function(){throw new Error("Not implemented")},lo.prototype._fixedNafMul=function(e,r){co(e.precomputed);var t=e._getDoubles(),n=uo(r,1,this._bitLength),i=(1<<t.step+1)-(t.step%2===0?2:1);i/=3;var o,a,s=[];for(o=0;o<n.length;o+=t.step){a=0;for(var u=o+t.step-1;u>=o;u--)a=(a<<1)+n[u];s.push(a)}for(var f=this.jpoint(null,null,null),c=this.jpoint(null,null,null),l=i;l>0;l--){for(o=0;o<s.length;o++)(a=s[o])===l?c=c.mixedAdd(t.points[o]):a===-l&&(c=c.mixedAdd(t.points[o].neg()));f=f.add(c)}return f.toP()},lo.prototype._wnafMul=function(e,r){var t=4,n=e._getNAFPoints(t);t=n.wnd;for(var i=n.points,o=uo(r,t,this._bitLength),a=this.jpoint(null,null,null),s=o.length-1;s>=0;s--){for(var u=0;s>=0&&0===o[s];s--)u++;if(s>=0&&u++,a=a.dblp(u),s<0)break;var f=o[s];co(0!==f),a="affine"===e.type?f>0?a.mixedAdd(i[f-1>>1]):a.mixedAdd(i[-f-1>>1].neg()):f>0?a.add(i[f-1>>1]):a.add(i[-f-1>>1].neg())}return"affine"===e.type?a.toP():a},lo.prototype._wnafMulAdd=function(e,r,t,n,i){var o,a,s,u=this._wnafT1,f=this._wnafT2,c=this._wnafT3,l=0;for(o=0;o<n;o++){var h=(s=r[o])._getNAFPoints(e);u[o]=h.wnd,f[o]=h.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var v=[r[d],null,null,r[p]];0===r[d].y.cmp(r[p].y)?(v[1]=r[d].add(r[p]),v[2]=r[d].toJ().mixedAdd(r[p].neg())):0===r[d].y.cmp(r[p].y.redNeg())?(v[1]=r[d].toJ().mixedAdd(r[p]),v[2]=r[d].add(r[p].neg())):(v[1]=r[d].toJ().mixedAdd(r[p]),v[2]=r[d].toJ().mixedAdd(r[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=fo(t[d],t[p]);for(l=Math.max(y[0].length,l),c[d]=new Array(l),c[p]=new Array(l),a=0;a<l;a++){var m=0|y[0][a],b=0|y[1][a];c[d][a]=g[3*(m+1)+(b+1)],c[p][a]=0,f[d]=v}}else c[d]=uo(t[d],u[d],this._bitLength),c[p]=uo(t[p],u[p],this._bitLength),l=Math.max(c[d].length,l),l=Math.max(c[p].length,l)}var w=this.jpoint(null,null,null),A=this._wnafT4;for(o=l;o>=0;o--){for(var E=0;o>=0;){var S=!0;for(a=0;a<n;a++)A[a]=0|c[a][o],0!==A[a]&&(S=!1);if(!S)break;E++,o--}if(o>=0&&E++,w=w.dblp(E),o<0)break;for(a=0;a<n;a++){var x=A[a];0!==x&&(x>0?s=f[a][x-1>>1]:x<0&&(s=f[a][-x-1>>1].neg()),w="affine"===s.type?w.mixedAdd(s):w.add(s))}}for(o=0;o<n;o++)f[o]=null;return i?w:w.toP()},lo.BasePoint=po,po.prototype.eq=function(){throw new Error("Not implemented")},po.prototype.validate=function(){return this.curve.validate(this)},lo.prototype.decodePoint=function(e,r){e=so.toArray(e,r);var t=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*t)return 6===e[0]?co(e[e.length-1]%2===0):7===e[0]&&co(e[e.length-1]%2===1),this.point(e.slice(1,1+t),e.slice(1+t,1+2*t));if((2===e[0]||3===e[0])&&e.length-1===t)return this.pointFromX(e.slice(1,1+t),3===e[0]);throw new Error("Unknown point format")},po.prototype.encodeCompressed=function(e){return this.encode(e,!0)},po.prototype._encode=function(e){var r=this.curve.p.byteLength(),t=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(t):[4].concat(t,this.getY().toArray("be",r))},po.prototype.encode=function(e,r){return so.encode(this._encode(r),e)},po.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},po.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return!!r&&r.points.length>=Math.ceil((e.bitLength()+1)/r.step)},po.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var t=[this],n=this,i=0;i<r;i+=e){for(var o=0;o<e;o++)n=n.dbl();t.push(n)}return{step:e,points:t}},po.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],t=(1<<e)-1,n=1===t?null:this.dbl(),i=1;i<t;i++)r[i]=r[i-1].add(n);return{wnd:e,points:r}},po.prototype._getBeta=function(){return null},po.prototype.dblp=function(e){for(var r=this,t=0;t<e;t++)r=r.dbl();return r};var vo=no((function(e){"function"===typeof Object.create?e.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,r){if(r){e.super_=r;var t=function(){};t.prototype=r.prototype,e.prototype=new t,e.prototype.constructor=e}}})),go=so.assert;function yo(e){ho.call(this,"short",e),this.a=new(be())(e.a,16).toRed(this.red),this.b=new(be())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}vo(yo,ho);var mo=yo;function bo(e,r,t,n){ho.BasePoint.call(this,e,"affine"),null===r&&null===t?(this.x=null,this.y=null,this.inf=!0):(this.x=new(be())(r,16),this.y=new(be())(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function wo(e,r,t,n){ho.BasePoint.call(this,e,"jacobian"),null===r&&null===t&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(be())(0)):(this.x=new(be())(r,16),this.y=new(be())(t,16),this.z=new(be())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}yo.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var r,t;if(e.beta)r=new(be())(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);r=(r=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)t=new(be())(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))?t=i[0]:(t=i[1],go(0===this.g.mul(t).x.cmp(this.g.x.redMul(r))))}return{beta:r,lambda:t,basis:e.basis?e.basis.map((function(e){return{a:new(be())(e.a,16),b:new(be())(e.b,16)}})):this._getEndoBasis(t)}}},yo.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:be().mont(e),t=new(be())(2).toRed(r).redInvm(),n=t.redNeg(),i=new(be())(3).toRed(r).redNeg().redSqrt().redMul(t);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},yo.prototype._getEndoBasis=function(e){for(var r,t,n,i,o,a,s,u,f,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,h=this.n.clone(),d=new(be())(1),p=new(be())(0),v=new(be())(0),g=new(be())(1),y=0;0!==l.cmpn(0);){var m=h.div(l);u=h.sub(m.mul(l)),f=v.sub(m.mul(d));var b=g.sub(m.mul(p));if(!n&&u.cmp(c)<0)r=s.neg(),t=d,n=u.neg(),i=f;else if(n&&2===++y)break;s=u,h=l,l=u,v=d,d=f,g=p,p=b}o=u.neg(),a=f;var w=n.sqr().add(i.sqr());return o.sqr().add(a.sqr()).cmp(w)>=0&&(o=r,a=t),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:i},{a:o,b:a}]},yo.prototype._endoSplit=function(e){var r=this.endo.basis,t=r[0],n=r[1],i=n.b.mul(e).divRound(this.n),o=t.b.neg().mul(e).divRound(this.n),a=i.mul(t.a),s=o.mul(n.a),u=i.mul(t.b),f=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:u.add(f).neg()}},yo.prototype.pointFromX=function(e,r){(e=new(be())(e,16)).red||(e=e.toRed(this.red));var t=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=t.redSqrt();if(0!==n.redSqr().redSub(t).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(r&&!i||!r&&i)&&(n=n.redNeg()),this.point(e,n)},yo.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,t=e.y,n=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);return 0===t.redSqr().redISub(i).cmpn(0)},yo.prototype._endoWnafMulAdd=function(e,r,t){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),s=e[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),n[2*o]=s,n[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var f=this._wnafMulAdd(1,n,i,2*o,t),c=0;c<2*o;c++)n[c]=null,i[c]=null;return f},vo(bo,ho.BasePoint),yo.prototype.point=function(e,r,t){return new bo(this,e,r,t)},yo.prototype.pointFromJSON=function(e,r){return bo.fromJSON(this,e,r)},bo.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var t=this.curve,n=function(e){return t.point(e.x.redMul(t.endo.beta),e.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return r}},bo.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},bo.fromJSON=function(e,r,t){"string"===typeof r&&(r=JSON.parse(r));var n=e.point(r[0],r[1],t);if(!r[2])return n;function i(r){return e.point(r[0],r[1],t)}var o=r[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},bo.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},bo.prototype.isInfinity=function(){return this.inf},bo.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var r=this.y.redSub(e.y);0!==r.cmpn(0)&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var t=r.redSqr().redISub(this.x).redISub(e.x),n=r.redMul(this.x.redSub(t)).redISub(this.y);return this.curve.point(t,n)},bo.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var r=this.curve.a,t=this.x.redSqr(),n=e.redInvm(),i=t.redAdd(t).redIAdd(t).redIAdd(r).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},bo.prototype.getX=function(){return this.x.fromRed()},bo.prototype.getY=function(){return this.y.fromRed()},bo.prototype.mul=function(e){return e=new(be())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},bo.prototype.mulAdd=function(e,r,t){var n=[this,r],i=[e,t];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},bo.prototype.jmulAdd=function(e,r,t){var n=[this,r],i=[e,t];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},bo.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},bo.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var t=this.precomputed,n=function(e){return e.neg()};r.precomputed={naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return r},bo.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},vo(wo,ho.BasePoint),yo.prototype.jpoint=function(e,r,t){return new wo(this,e,r,t)},wo.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),t=this.x.redMul(r),n=this.y.redMul(r).redMul(e);return this.curve.point(t,n)},wo.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},wo.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),t=this.z.redSqr(),n=this.x.redMul(r),i=e.x.redMul(t),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(t.redMul(this.z)),s=n.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var f=s.redSqr(),c=f.redMul(s),l=n.redMul(f),h=u.redSqr().redIAdd(c).redISub(l).redISub(l),d=u.redMul(l.redISub(h)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(h,d,p)},wo.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),t=this.x,n=e.x.redMul(r),i=this.y,o=e.y.redMul(r).redMul(this.z),a=t.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),f=u.redMul(a),c=t.redMul(u),l=s.redSqr().redIAdd(f).redISub(c).redISub(c),h=s.redMul(c.redISub(l)).redISub(i.redMul(f)),d=this.z.redMul(a);return this.curve.jpoint(l,h,d)},wo.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var t=this;for(r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),f=a.redAdd(a);for(r=0;r<e;r++){var c=o.redSqr(),l=f.redSqr(),h=l.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(u)),p=o.redMul(l),v=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(v),y=d.redMul(g);y=y.redIAdd(y).redISub(h);var m=f.redMul(s);r+1<e&&(u=u.redMul(h)),o=v,s=m,f=y}return this.curve.jpoint(o,f.redMul(i),s)},wo.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},wo.prototype._zeroDbl=function(){var e,r,t;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(a).redISub(a),f=o.redIAdd(o);f=(f=f.redIAdd(f)).redIAdd(f),e=u,r=s.redMul(a.redISub(u)).redISub(f),t=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),l=this.y.redSqr(),h=l.redSqr(),d=this.x.redAdd(l).redSqr().redISub(c).redISub(h);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),v=p.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),e=v.redISub(d).redISub(d),r=p.redMul(d.redISub(e)).redISub(g),t=(t=this.y.redMul(this.z)).redIAdd(t)}return this.curve.jpoint(e,r,t)},wo.prototype._threeDbl=function(){var e,r,t;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);e=u;var f=o.redIAdd(o);f=(f=f.redIAdd(f)).redIAdd(f),r=s.redMul(a.redISub(u)).redISub(f),t=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),l=this.y.redSqr(),h=this.x.redMul(l),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),v=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(v),t=this.y.redAdd(this.z).redSqr().redISub(l).redISub(c);var g=l.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),r=d.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,r,t)},wo.prototype._dbl=function(){var e=this.curve.a,r=this.x,t=this.y,n=this.z,i=n.redSqr().redSqr(),o=r.redSqr(),a=t.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=r.redAdd(r),f=(u=u.redIAdd(u)).redMul(a),c=s.redSqr().redISub(f.redAdd(f)),l=f.redISub(c),h=a.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=s.redMul(l).redISub(h),p=t.redAdd(t).redMul(n);return this.curve.jpoint(c,d,p)},wo.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),t=this.z.redSqr(),n=r.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var f=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),c=r.redMul(f);c=(c=c.redIAdd(c)).redIAdd(c);var l=this.x.redMul(s).redISub(c);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.y.redMul(f.redMul(u.redISub(f)).redISub(a.redMul(s)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(a).redSqr().redISub(t).redISub(s);return this.curve.jpoint(l,h,d)},wo.prototype.mul=function(e,r){return e=new(be())(e,r),this.curve._wnafMul(this,e)},wo.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),t=e.z.redSqr();if(0!==this.x.redMul(t).redISub(e.x.redMul(r)).cmpn(0))return!1;var n=r.redMul(this.z),i=t.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},wo.prototype.eqXToP=function(e){var r=this.z.redSqr(),t=e.toRed(this.curve.red).redMul(r);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(r);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},wo.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},wo.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Ao=no((function(e,r){var t=r;t.base=ho,t.short=mo,t.mont=null,t.edwards=null})),Eo=no((function(e,r){var t,n=r,i=so.assert;function o(e){"short"===e.type?this.curve=new Ao.short(e):"edwards"===e.type?this.curve=new Ao.edwards(e):this.curve=new Ao.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,r){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var t=new o(r);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:t}),t}})}n.PresetCurve=o,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:sn().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:sn().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:sn().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:sn().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:sn().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:sn().sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:sn().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{t=null.crash()}catch(s){t=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:sn().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",t]})}));function So(e){if(!(this instanceof So))return new So(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var r=ao.toArray(e.entropy,e.entropyEnc||"hex"),t=ao.toArray(e.nonce,e.nonceEnc||"hex"),n=ao.toArray(e.pers,e.persEnc||"hex");io(r.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(r,t,n)}var xo=So;So.prototype._init=function(e,r,t){var n=e.concat(r).concat(t);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},So.prototype._hmac=function(){return new(sn().hmac)(this.hash,this.K)},So.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},So.prototype.reseed=function(e,r,t,n){"string"!==typeof r&&(n=t,t=r,r=null),e=ao.toArray(e,r),t=ao.toArray(t,n),io(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(t||[])),this._reseed=1},So.prototype.generate=function(e,r,t,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof r&&(n=t,t=r,r=null),t&&(t=ao.toArray(t,n||"hex"),this._update(t));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(t),this._reseed++,ao.encode(o,r)};var Po=so.assert;function No(e,r){this.ec=e,this.priv=null,this.pub=null,r.priv&&this._importPrivate(r.priv,r.privEnc),r.pub&&this._importPublic(r.pub,r.pubEnc)}var ko=No;No.fromPublic=function(e,r,t){return r instanceof No?r:new No(e,{pub:r,pubEnc:t})},No.fromPrivate=function(e,r,t){return r instanceof No?r:new No(e,{priv:r,privEnc:t})},No.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},No.prototype.getPublic=function(e,r){return"string"===typeof e&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},No.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},No.prototype._importPrivate=function(e,r){this.priv=new(be())(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},No.prototype._importPublic=function(e,r){if(e.x||e.y)return"mont"===this.ec.curve.type?Po(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Po(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,r)},No.prototype.derive=function(e){return e.validate()||Po(e.validate(),"public point not validated"),e.mul(this.priv).getX()},No.prototype.sign=function(e,r,t){return this.ec.sign(e,this,r,t)},No.prototype.verify=function(e,r){return this.ec.verify(e,r,this)},No.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var _o=so.assert;function Io(e,r){if(e instanceof Io)return e;this._importDER(e,r)||(_o(e.r&&e.s,"Signature without r or s"),this.r=new(be())(e.r,16),this.s=new(be())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var To=Io;function Ro(){this.place=0}function Co(e,r){var t=e[r.place++];if(!(128&t))return t;var n=15&t;if(0===n||n>4)return!1;for(var i=0,o=0,a=r.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(r.place=a,i)}function Mo(e){for(var r=0,t=e.length-1;!e[r]&&!(128&e[r+1])&&r<t;)r++;return 0===r?e:e.slice(r)}function Oo(e,r){if(r<128)e.push(r);else{var t=1+(Math.log(r)/Math.LN2>>>3);for(e.push(128|t);--t;)e.push(r>>>(t<<3)&255);e.push(r)}}Io.prototype._importDER=function(e,r){e=so.toArray(e,r);var t=new Ro;if(48!==e[t.place++])return!1;var n=Co(e,t);if(!1===n)return!1;if(n+t.place!==e.length)return!1;if(2!==e[t.place++])return!1;var i=Co(e,t);if(!1===i)return!1;var o=e.slice(t.place,i+t.place);if(t.place+=i,2!==e[t.place++])return!1;var a=Co(e,t);if(!1===a)return!1;if(e.length!==a+t.place)return!1;var s=e.slice(t.place,a+t.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new(be())(o),this.s=new(be())(s),this.recoveryParam=null,!0},Io.prototype.toDER=function(e){var r=this.r.toArray(),t=this.s.toArray();for(128&r[0]&&(r=[0].concat(r)),128&t[0]&&(t=[0].concat(t)),r=Mo(r),t=Mo(t);!t[0]&&!(128&t[1]);)t=t.slice(1);var n=[2];Oo(n,r.length),(n=n.concat(r)).push(2),Oo(n,t.length);var i=n.concat(t),o=[48];return Oo(o,i.length),o=o.concat(i),so.encode(o,e)};var Uo=function(){throw new Error("unsupported")},Bo=so.assert;function Fo(e){if(!(this instanceof Fo))return new Fo(e);"string"===typeof e&&(Bo(Object.prototype.hasOwnProperty.call(Eo,e),"Unknown curve "+e),e=Eo[e]),e instanceof Eo.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Lo=Fo;Fo.prototype.keyPair=function(e){return new ko(this,e)},Fo.prototype.keyFromPrivate=function(e,r){return ko.fromPrivate(this,e,r)},Fo.prototype.keyFromPublic=function(e,r){return ko.fromPublic(this,e,r)},Fo.prototype.genKeyPair=function(e){e||(e={});for(var r=new xo({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Uo(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),t=this.n.byteLength(),n=this.n.sub(new(be())(2));;){var i=new(be())(r.generate(t));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Fo.prototype._truncateToN=function(e,r){var t=8*e.byteLength()-this.n.bitLength();return t>0&&(e=e.ushrn(t)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},Fo.prototype.sign=function(e,r,t,n){"object"===typeof t&&(n=t,t=null),n||(n={}),r=this.keyFromPrivate(r,t),e=this._truncateToN(new(be())(e,16));for(var i=this.n.byteLength(),o=r.getPrivate().toArray("be",i),a=e.toArray("be",i),s=new xo({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(be())(1)),f=0;;f++){var c=n.k?n.k(f):new(be())(s.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(u)>=0)){var l=this.g.mul(c);if(!l.isInfinity()){var h=l.getX(),d=h.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(r.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var v=(l.getY().isOdd()?1:0)|(0!==h.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),v^=1),new To({r:d,s:p,recoveryParam:v})}}}}}},Fo.prototype.verify=function(e,r,t,n){e=this._truncateToN(new(be())(e,16)),t=this.keyFromPublic(t,n);var i=(r=new To(r,"hex")).r,o=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,s=o.invm(this.n),u=s.mul(e).umod(this.n),f=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,t.getPublic(),f)).isInfinity()&&a.eqXToP(i):!(a=this.g.mulAdd(u,t.getPublic(),f)).isInfinity()&&0===a.getX().umod(this.n).cmp(i)},Fo.prototype.recoverPubKey=function(e,r,t,n){Bo((3&t)===t,"The recovery param is more than two bits"),r=new To(r,n);var i=this.n,o=new(be())(e),a=r.r,s=r.s,u=1&t,f=t>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");a=f?this.curve.pointFromX(a.add(this.curve.n),u):this.curve.pointFromX(a,u);var c=r.r.invm(i),l=i.sub(o).mul(c).umod(i),h=s.mul(c).umod(i);return this.g.mulAdd(l,a,h)},Fo.prototype.getKeyRecoveryParam=function(e,r,t,n){if(null!==(r=new To(r,n)).recoveryParam)return r.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,r,i)}catch(e){continue}if(o.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var Do=no((function(e,r){var t=r;t.version="6.5.4",t.utils=so,t.rand=function(){throw new Error("unsupported")},t.curve=Ao,t.curves=Eo,t.ec=Lo,t.eddsa=null})),zo=Do.ec,Go=new ce("bytes/5.7.0");function Ko(e){return!!e.toHexString}function jo(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return jo(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function Ho(e){return"number"===typeof e&&e==e&&e%1===0}function qo(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Ho(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!Ho(t)||t<0||t>=256)return!1}return!0}function Zo(e,r){if(r||(r={}),"number"===typeof e){Go.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),jo(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Ko(e)&&(e=e.toHexString()),Vo(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":Go.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return jo(new Uint8Array(i))}return qo(e)?jo(new Uint8Array(e)):Go.throwArgumentError("invalid arrayify value","value",e)}function Vo(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var Wo="0123456789abcdef";function Jo(e,r){if(r||(r={}),"number"===typeof e){Go.checkSafeUint53(e,"invalid hexlify value");for(var t="";e;)t=Wo[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Ko(e))return e.toHexString();if(Vo(e))return e.length%2&&("left"===r.hexPad?e="0x0"+e.substring(2):"right"===r.hexPad?e+="0":Go.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(qo(e)){for(var n="0x",i=0;i<e.length;i++){var o=e[i];n+=Wo[(240&o)>>4]+Wo[15&o]}return n}return Go.throwArgumentError("invalid hexlify value","value",e)}function Xo(e,r){for("string"!==typeof e?e=Jo(e):Vo(e)||Go.throwArgumentError("invalid hex string","value",e),e.length>2*r+2&&Go.throwArgumentError("value out of range","value",arguments[1]);e.length<2*r+2;)e="0x0"+e.substring(2);return e}function $o(e){var r,t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Vo(r=e)&&!(r.length%2)||qo(r)){var n=Zo(e);64===n.length?(t.v=27+(n[32]>>7),n[32]&=127,t.r=Jo(n.slice(0,32)),t.s=Jo(n.slice(32,64))):65===n.length?(t.r=Jo(n.slice(0,32)),t.s=Jo(n.slice(32,64)),t.v=n[64]):Go.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:Go.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(n[32]|=128),t._vs=Jo(n.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){var i=function(e,r){(e=Zo(e)).length>r&&Go.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(r);return t.set(e,r-e.length),jo(t)}(Zo(t._vs),32);t._vs=Jo(i);var o=i[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=o:t.recoveryParam!==o&&Go.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),i[0]&=127;var a=Jo(i);null==t.s?t.s=a:t.s!==a&&Go.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?Go.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{var s=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==s&&Go.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&Vo(t.r)?t.r=Xo(t.r,32):Go.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&Vo(t.s)?t.s=Xo(t.s,32):Go.throwArgumentError("signature missing or invalid s","signature",e);var u=Zo(t.s);u[0]>=128&&Go.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(u[0]|=128);var f=Jo(u);t._vs&&(Vo(t._vs)||Go.throwArgumentError("signature invalid _vs","signature",e),t._vs=Xo(t._vs,32)),null==t._vs?t._vs=f:t._vs!==f&&Go.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}var Yo=new ce("signing-key/5.6.2"),Qo=null;function ea(){return Qo||(Qo=new zo("secp256k1")),Qo}var ra=function(){function e(r){(0,l.Z)(this,e),Je(this,"curve","secp256k1"),Je(this,"privateKey",Jo(r)),32!==function(e){if("string"!==typeof e)e=Jo(e);else if(!Vo(e)||e.length%2)return null;return(e.length-2)/2}(this.privateKey)&&Yo.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");var t=ea().keyFromPrivate(Zo(this.privateKey));Je(this,"publicKey","0x"+t.getPublic(!1,"hex")),Je(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),Je(this,"_isSigningKey",!0)}return(0,h.Z)(e,[{key:"_addPoint",value:function(e){var r=ea().keyFromPublic(Zo(this.publicKey)),t=ea().keyFromPublic(Zo(e));return"0x"+r.pub.add(t.pub).encodeCompressed("hex")}},{key:"signDigest",value:function(e){var r=ea().keyFromPrivate(Zo(this.privateKey)),t=Zo(e);32!==t.length&&Yo.throwArgumentError("bad digest length","digest",e);var n=r.sign(t,{canonical:!0});return $o({recoveryParam:n.recoveryParam,r:Xo("0x"+n.r.toString(16),32),s:Xo("0x"+n.s.toString(16),32)})}},{key:"computeSharedSecret",value:function(e){var r=ea().keyFromPrivate(Zo(this.privateKey)),t=ea().keyFromPublic(Zo(function(e,r){var t=Zo(e);if(32===t.length){var n=new ra(t);return r?"0x"+ea().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}if(33===t.length)return r?Jo(t):"0x"+ea().keyFromPublic(t).getPublic(!1,"hex");if(65===t.length)return r?"0x"+ea().keyFromPublic(t).getPublic(!0,"hex"):Jo(t);return Yo.throwArgumentError("invalid public or private key","key","[REDACTED]")}(e)));return Xo("0x"+r.derive(t.getPublic()).toString(16),32)}}],[{key:"isSigningKey",value:function(e){return!(!e||!e._isSigningKey)}}]),e}();var ta=t(30084),na=t.n(ta),ia=t(14703),oa=t.n(ia),aa=new ce("bytes/5.7.0");function sa(e){return!!e.toHexString}function ua(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return ua(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function fa(e){return"number"===typeof e&&e==e&&e%1===0}function ca(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!fa(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!fa(t)||t<0||t>=256)return!1}return!0}function la(e,r){if(r||(r={}),"number"===typeof e){aa.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),ua(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),sa(e)&&(e=e.toHexString()),da(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":aa.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return ua(new Uint8Array(i))}return ca(e)?ua(new Uint8Array(e)):aa.throwArgumentError("invalid arrayify value","value",e)}function ha(e){var r=e.map((function(e){return la(e)})),t=r.reduce((function(e,r){return e+r.length}),0),n=new Uint8Array(t);return r.reduce((function(e,r){return n.set(r,e),e+r.length}),0),ua(n)}function da(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var pa="0123456789abcdef";function va(e,r){if(r||(r={}),"number"===typeof e){aa.checkSafeUint53(e,"invalid hexlify value");for(var t="";e;)t=pa[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),sa(e))return e.toHexString();if(da(e))return e.length%2&&("left"===r.hexPad?e="0x0"+e.substring(2):"right"===r.hexPad?e+="0":aa.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(ca(e)){for(var n="0x",i=0;i<e.length;i++){var o=e[i];n+=pa[(240&o)>>4]+pa[15&o]}return n}return aa.throwArgumentError("invalid hexlify value","value",e)}function ga(e,r,t){return"string"!==typeof e?e=va(e):(!da(e)||e.length%2)&&aa.throwArgumentError("invalid hexData","value",e),r=2+2*r,null!=t?"0x"+e.substring(r,2+2*t):"0x"+e.substring(r)}function ya(e,r){for("string"!==typeof e?e=va(e):da(e)||aa.throwArgumentError("invalid hex string","value",e),e.length>2*r+2&&aa.throwArgumentError("value out of range","value",arguments[1]);e.length<2*r+2;)e="0x0"+e.substring(2);return e}function ma(e){var r,t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(da(r=e)&&!(r.length%2)||ca(r)){var n=la(e);64===n.length?(t.v=27+(n[32]>>7),n[32]&=127,t.r=va(n.slice(0,32)),t.s=va(n.slice(32,64))):65===n.length?(t.r=va(n.slice(0,32)),t.s=va(n.slice(32,64)),t.v=n[64]):aa.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:aa.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(n[32]|=128),t._vs=va(n.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){var i=function(e,r){(e=la(e)).length>r&&aa.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(r);return t.set(e,r-e.length),ua(t)}(la(t._vs),32);t._vs=va(i);var o=i[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=o:t.recoveryParam!==o&&aa.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),i[0]&=127;var a=va(i);null==t.s?t.s=a:t.s!==a&&aa.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?aa.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{var s=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==s&&aa.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&da(t.r)?t.r=ya(t.r,32):aa.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&da(t.s)?t.s=ya(t.s,32):aa.throwArgumentError("signature missing or invalid s","signature",e);var u=la(t.s);u[0]>=128&&aa.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(u[0]|=128);var f=va(u);t._vs&&(da(t._vs)||aa.throwArgumentError("signature invalid _vs","signature",e),t._vs=ya(t._vs,32)),null==t._vs?t._vs=f:t._vs!==f&&aa.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}var ba=be().BN,wa=new ce("bignumber/5.7.0"),Aa={},Ea=9007199254740991;var Sa=!1,xa=function(){function e(r,t){(0,l.Z)(this,e),r!==Aa&&wa.throwError("cannot call constructor directly; use BigNumber.from",ce.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}return(0,h.Z)(e,[{key:"fromTwos",value:function(e){return Na(ka(this).fromTwos(e))}},{key:"toTwos",value:function(e){return Na(ka(this).toTwos(e))}},{key:"abs",value:function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this}},{key:"add",value:function(e){return Na(ka(this).add(ka(e)))}},{key:"sub",value:function(e){return Na(ka(this).sub(ka(e)))}},{key:"div",value:function(r){return e.from(r).isZero()&&_a("division-by-zero","div"),Na(ka(this).div(ka(r)))}},{key:"mul",value:function(e){return Na(ka(this).mul(ka(e)))}},{key:"mod",value:function(e){var r=ka(e);return r.isNeg()&&_a("division-by-zero","mod"),Na(ka(this).umod(r))}},{key:"pow",value:function(e){var r=ka(e);return r.isNeg()&&_a("negative-power","pow"),Na(ka(this).pow(r))}},{key:"and",value:function(e){var r=ka(e);return(this.isNegative()||r.isNeg())&&_a("unbound-bitwise-result","and"),Na(ka(this).and(r))}},{key:"or",value:function(e){var r=ka(e);return(this.isNegative()||r.isNeg())&&_a("unbound-bitwise-result","or"),Na(ka(this).or(r))}},{key:"xor",value:function(e){var r=ka(e);return(this.isNegative()||r.isNeg())&&_a("unbound-bitwise-result","xor"),Na(ka(this).xor(r))}},{key:"mask",value:function(e){return(this.isNegative()||e<0)&&_a("negative-width","mask"),Na(ka(this).maskn(e))}},{key:"shl",value:function(e){return(this.isNegative()||e<0)&&_a("negative-width","shl"),Na(ka(this).shln(e))}},{key:"shr",value:function(e){return(this.isNegative()||e<0)&&_a("negative-width","shr"),Na(ka(this).shrn(e))}},{key:"eq",value:function(e){return ka(this).eq(ka(e))}},{key:"lt",value:function(e){return ka(this).lt(ka(e))}},{key:"lte",value:function(e){return ka(this).lte(ka(e))}},{key:"gt",value:function(e){return ka(this).gt(ka(e))}},{key:"gte",value:function(e){return ka(this).gte(ka(e))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return ka(this).isZero()}},{key:"toNumber",value:function(){try{return ka(this).toNumber()}catch(e){_a("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(e){}return wa.throwError("this platform does not support BigInt",ce.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?Sa||(Sa=!0,wa.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?wa.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ce.errors.UNEXPECTED_ARGUMENT,{}):wa.throwError("BigNumber.toString does not accept parameters",ce.errors.UNEXPECTED_ARGUMENT,{})),ka(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(e){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(r){if(r instanceof e)return r;if("string"===typeof r)return r.match(/^-?0x[0-9a-f]+$/i)?new e(Aa,Pa(r)):r.match(/^-?[0-9]+$/)?new e(Aa,Pa(new ba(r))):wa.throwArgumentError("invalid BigNumber string","value",r);if("number"===typeof r)return r%1&&_a("underflow","BigNumber.from",r),(r>=Ea||r<=-9007199254740991)&&_a("overflow","BigNumber.from",r),e.from(String(r));var t=r;if("bigint"===typeof t)return e.from(t.toString());if(ca(t))return e.from(va(t));if(t)if(t.toHexString){var n=t.toHexString();if("string"===typeof n)return e.from(n)}else{var i=t._hex;if(null==i&&"BigNumber"===t.type&&(i=t.hex),"string"===typeof i&&(da(i)||"-"===i[0]&&da(i.substring(1))))return e.from(i)}return wa.throwArgumentError("invalid BigNumber value","value",r)}},{key:"isBigNumber",value:function(e){return!(!e||!e._isBigNumber)}}]),e}();function Pa(e){if("string"!==typeof e)return Pa(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&wa.throwArgumentError("invalid hex","value",e),"0x00"===(e=Pa(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function Na(e){return xa.from(Pa(e))}function ka(e){var r=xa.from(e).toHexString();return"-"===r[0]?new ba("-"+r.substring(3),16):new ba(r.substring(2),16)}function _a(e,r,t){var n={fault:e,operation:r};return null!=t&&(n.value=t),wa.throwError(e,ce.errors.NUMERIC_FAULT,n)}function Ia(e){return"0x"+c().keccak_256(la(e))}var Ta=new ce("address/5.7.0");function Ra(e){da(e,20)||Ta.throwArgumentError("invalid address","address",e);for(var r=(e=e.toLowerCase()).substring(2).split(""),t=new Uint8Array(40),n=0;n<40;n++)t[n]=r[n].charCodeAt(0);for(var i=la(Ia(t)),o=0;o<40;o+=2)i[o>>1]>>4>=8&&(r[o]=r[o].toUpperCase()),(15&i[o>>1])>=8&&(r[o+1]=r[o+1].toUpperCase());return"0x"+r.join("")}for(var Ca={},Ma=0;Ma<10;Ma++)Ca[String(Ma)]=String(Ma);for(var Oa=0;Oa<26;Oa++)Ca[String.fromCharCode(65+Oa)]=String(10+Oa);var Ua=Math.floor(function(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}(9007199254740991));function Ba(e){for(var r=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((function(e){return Ca[e]})).join("");r.length>=Ua;){var t=r.substring(0,Ua);r=parseInt(t,10)%97+r.substring(t.length)}for(var n=String(98-parseInt(r,10)%97);n.length<2;)n="0"+n;return n}function Fa(e){var r,t=null;if("string"!==typeof e&&Ta.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=Ra(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&Ta.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==Ba(e)&&Ta.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new ba(r,36).toString(16);t.length<40;)t="0"+t;t=Ra("0x"+t)}else Ta.throwArgumentError("invalid address","address",e);return t}"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t.g?t.g:"undefined"!==typeof self&&self;function La(e,r,t){return t={path:r,exports:{},require:function(e,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===r||null===r)&&t.path)}},e(t,t.exports),t.exports}var Da=za;function za(e,r){if(!e)throw new Error(r||"Assertion failed")}za.equal=function(e,r,t){if(e!=r)throw new Error(t||"Assertion failed: "+e+" != "+r)};var Ga=La((function(e,r){var t=r;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var r="",t=0;t<e.length;t++)r+=n(e[t].toString(16));return r}t.toArray=function(e,r){if(Array.isArray(e))return e.slice();if(!e)return[];var t=[];if("string"!==typeof e){for(var n=0;n<e.length;n++)t[n]=0|e[n];return t}if("hex"===r){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(n=0;n<e.length;n+=2)t.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?t.push(o,a):t.push(a)}return t},t.zero2=n,t.toHex=i,t.encode=function(e,r){return"hex"===r?i(e):e}})),Ka=La((function(e,r){var t=r;t.assert=Da,t.toArray=Ga.toArray,t.zero2=Ga.zero2,t.toHex=Ga.toHex,t.encode=Ga.encode,t.getNAF=function(e,r,t){var n=new Array(Math.max(e.bitLength(),t)+1);n.fill(0);for(var i=1<<r+1,o=e.clone(),a=0;a<n.length;a++){var s,u=o.andln(i-1);o.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,o.isubn(s)):s=0,n[a]=s,o.iushrn(1)}return n},t.getJSF=function(e,r){var t=[[],[]];e=e.clone(),r=r.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||r.cmpn(-o)>0;){var a,s,u=e.andln(3)+i&3,f=r.andln(3)+o&3;3===u&&(u=-1),3===f&&(f=-1),a=0===(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==f?u:-u,t[0].push(a),s=0===(1&f)?0:3!==(n=r.andln(7)+o&7)&&5!==n||2!==u?f:-f,t[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),e.iushrn(1),r.iushrn(1)}return t},t.cachedProperty=function(e,r,t){var n="_"+r;e.prototype[r]=function(){return void 0!==this[n]?this[n]:this[n]=t.call(this)}},t.parseBytes=function(e){return"string"===typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new(be())(e,"hex","le")}})),ja=Ka.getNAF,Ha=Ka.getJSF,qa=Ka.assert;function Za(e,r){this.type=e,this.p=new(be())(r.p,16),this.red=r.prime?be().red(r.prime):be().mont(this.p),this.zero=new(be())(0).toRed(this.red),this.one=new(be())(1).toRed(this.red),this.two=new(be())(2).toRed(this.red),this.n=r.n&&new(be())(r.n,16),this.g=r.g&&this.pointFromJSON(r.g,r.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Va=Za;function Wa(e,r){this.curve=e,this.type=r,this.precomputed=null}Za.prototype.point=function(){throw new Error("Not implemented")},Za.prototype.validate=function(){throw new Error("Not implemented")},Za.prototype._fixedNafMul=function(e,r){qa(e.precomputed);var t=e._getDoubles(),n=ja(r,1,this._bitLength),i=(1<<t.step+1)-(t.step%2===0?2:1);i/=3;var o,a,s=[];for(o=0;o<n.length;o+=t.step){a=0;for(var u=o+t.step-1;u>=o;u--)a=(a<<1)+n[u];s.push(a)}for(var f=this.jpoint(null,null,null),c=this.jpoint(null,null,null),l=i;l>0;l--){for(o=0;o<s.length;o++)(a=s[o])===l?c=c.mixedAdd(t.points[o]):a===-l&&(c=c.mixedAdd(t.points[o].neg()));f=f.add(c)}return f.toP()},Za.prototype._wnafMul=function(e,r){var t=4,n=e._getNAFPoints(t);t=n.wnd;for(var i=n.points,o=ja(r,t,this._bitLength),a=this.jpoint(null,null,null),s=o.length-1;s>=0;s--){for(var u=0;s>=0&&0===o[s];s--)u++;if(s>=0&&u++,a=a.dblp(u),s<0)break;var f=o[s];qa(0!==f),a="affine"===e.type?f>0?a.mixedAdd(i[f-1>>1]):a.mixedAdd(i[-f-1>>1].neg()):f>0?a.add(i[f-1>>1]):a.add(i[-f-1>>1].neg())}return"affine"===e.type?a.toP():a},Za.prototype._wnafMulAdd=function(e,r,t,n,i){var o,a,s,u=this._wnafT1,f=this._wnafT2,c=this._wnafT3,l=0;for(o=0;o<n;o++){var h=(s=r[o])._getNAFPoints(e);u[o]=h.wnd,f[o]=h.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var v=[r[d],null,null,r[p]];0===r[d].y.cmp(r[p].y)?(v[1]=r[d].add(r[p]),v[2]=r[d].toJ().mixedAdd(r[p].neg())):0===r[d].y.cmp(r[p].y.redNeg())?(v[1]=r[d].toJ().mixedAdd(r[p]),v[2]=r[d].add(r[p].neg())):(v[1]=r[d].toJ().mixedAdd(r[p]),v[2]=r[d].toJ().mixedAdd(r[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=Ha(t[d],t[p]);for(l=Math.max(y[0].length,l),c[d]=new Array(l),c[p]=new Array(l),a=0;a<l;a++){var m=0|y[0][a],b=0|y[1][a];c[d][a]=g[3*(m+1)+(b+1)],c[p][a]=0,f[d]=v}}else c[d]=ja(t[d],u[d],this._bitLength),c[p]=ja(t[p],u[p],this._bitLength),l=Math.max(c[d].length,l),l=Math.max(c[p].length,l)}var w=this.jpoint(null,null,null),A=this._wnafT4;for(o=l;o>=0;o--){for(var E=0;o>=0;){var S=!0;for(a=0;a<n;a++)A[a]=0|c[a][o],0!==A[a]&&(S=!1);if(!S)break;E++,o--}if(o>=0&&E++,w=w.dblp(E),o<0)break;for(a=0;a<n;a++){var x=A[a];0!==x&&(x>0?s=f[a][x-1>>1]:x<0&&(s=f[a][-x-1>>1].neg()),w="affine"===s.type?w.mixedAdd(s):w.add(s))}}for(o=0;o<n;o++)f[o]=null;return i?w:w.toP()},Za.BasePoint=Wa,Wa.prototype.eq=function(){throw new Error("Not implemented")},Wa.prototype.validate=function(){return this.curve.validate(this)},Za.prototype.decodePoint=function(e,r){e=Ka.toArray(e,r);var t=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*t)return 6===e[0]?qa(e[e.length-1]%2===0):7===e[0]&&qa(e[e.length-1]%2===1),this.point(e.slice(1,1+t),e.slice(1+t,1+2*t));if((2===e[0]||3===e[0])&&e.length-1===t)return this.pointFromX(e.slice(1,1+t),3===e[0]);throw new Error("Unknown point format")},Wa.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Wa.prototype._encode=function(e){var r=this.curve.p.byteLength(),t=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(t):[4].concat(t,this.getY().toArray("be",r))},Wa.prototype.encode=function(e,r){return Ka.encode(this._encode(r),e)},Wa.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},Wa.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return!!r&&r.points.length>=Math.ceil((e.bitLength()+1)/r.step)},Wa.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var t=[this],n=this,i=0;i<r;i+=e){for(var o=0;o<e;o++)n=n.dbl();t.push(n)}return{step:e,points:t}},Wa.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],t=(1<<e)-1,n=1===t?null:this.dbl(),i=1;i<t;i++)r[i]=r[i-1].add(n);return{wnd:e,points:r}},Wa.prototype._getBeta=function(){return null},Wa.prototype.dblp=function(e){for(var r=this,t=0;t<e;t++)r=r.dbl();return r};var Ja=La((function(e){"function"===typeof Object.create?e.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,r){if(r){e.super_=r;var t=function(){};t.prototype=r.prototype,e.prototype=new t,e.prototype.constructor=e}}})),Xa=Ka.assert;function $a(e){Va.call(this,"short",e),this.a=new(be())(e.a,16).toRed(this.red),this.b=new(be())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ja($a,Va);var Ya=$a;function Qa(e,r,t,n){Va.BasePoint.call(this,e,"affine"),null===r&&null===t?(this.x=null,this.y=null,this.inf=!0):(this.x=new(be())(r,16),this.y=new(be())(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function es(e,r,t,n){Va.BasePoint.call(this,e,"jacobian"),null===r&&null===t&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(be())(0)):(this.x=new(be())(r,16),this.y=new(be())(t,16),this.z=new(be())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}$a.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var r,t;if(e.beta)r=new(be())(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);r=(r=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)t=new(be())(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))?t=i[0]:(t=i[1],Xa(0===this.g.mul(t).x.cmp(this.g.x.redMul(r))))}return{beta:r,lambda:t,basis:e.basis?e.basis.map((function(e){return{a:new(be())(e.a,16),b:new(be())(e.b,16)}})):this._getEndoBasis(t)}}},$a.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:be().mont(e),t=new(be())(2).toRed(r).redInvm(),n=t.redNeg(),i=new(be())(3).toRed(r).redNeg().redSqrt().redMul(t);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},$a.prototype._getEndoBasis=function(e){for(var r,t,n,i,o,a,s,u,f,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,h=this.n.clone(),d=new(be())(1),p=new(be())(0),v=new(be())(0),g=new(be())(1),y=0;0!==l.cmpn(0);){var m=h.div(l);u=h.sub(m.mul(l)),f=v.sub(m.mul(d));var b=g.sub(m.mul(p));if(!n&&u.cmp(c)<0)r=s.neg(),t=d,n=u.neg(),i=f;else if(n&&2===++y)break;s=u,h=l,l=u,v=d,d=f,g=p,p=b}o=u.neg(),a=f;var w=n.sqr().add(i.sqr());return o.sqr().add(a.sqr()).cmp(w)>=0&&(o=r,a=t),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:i},{a:o,b:a}]},$a.prototype._endoSplit=function(e){var r=this.endo.basis,t=r[0],n=r[1],i=n.b.mul(e).divRound(this.n),o=t.b.neg().mul(e).divRound(this.n),a=i.mul(t.a),s=o.mul(n.a),u=i.mul(t.b),f=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:u.add(f).neg()}},$a.prototype.pointFromX=function(e,r){(e=new(be())(e,16)).red||(e=e.toRed(this.red));var t=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=t.redSqrt();if(0!==n.redSqr().redSub(t).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(r&&!i||!r&&i)&&(n=n.redNeg()),this.point(e,n)},$a.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,t=e.y,n=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);return 0===t.redSqr().redISub(i).cmpn(0)},$a.prototype._endoWnafMulAdd=function(e,r,t){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),s=e[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),n[2*o]=s,n[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var f=this._wnafMulAdd(1,n,i,2*o,t),c=0;c<2*o;c++)n[c]=null,i[c]=null;return f},Ja(Qa,Va.BasePoint),$a.prototype.point=function(e,r,t){return new Qa(this,e,r,t)},$a.prototype.pointFromJSON=function(e,r){return Qa.fromJSON(this,e,r)},Qa.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var t=this.curve,n=function(e){return t.point(e.x.redMul(t.endo.beta),e.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return r}},Qa.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Qa.fromJSON=function(e,r,t){"string"===typeof r&&(r=JSON.parse(r));var n=e.point(r[0],r[1],t);if(!r[2])return n;function i(r){return e.point(r[0],r[1],t)}var o=r[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Qa.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Qa.prototype.isInfinity=function(){return this.inf},Qa.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var r=this.y.redSub(e.y);0!==r.cmpn(0)&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var t=r.redSqr().redISub(this.x).redISub(e.x),n=r.redMul(this.x.redSub(t)).redISub(this.y);return this.curve.point(t,n)},Qa.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var r=this.curve.a,t=this.x.redSqr(),n=e.redInvm(),i=t.redAdd(t).redIAdd(t).redIAdd(r).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},Qa.prototype.getX=function(){return this.x.fromRed()},Qa.prototype.getY=function(){return this.y.fromRed()},Qa.prototype.mul=function(e){return e=new(be())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Qa.prototype.mulAdd=function(e,r,t){var n=[this,r],i=[e,t];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Qa.prototype.jmulAdd=function(e,r,t){var n=[this,r],i=[e,t];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Qa.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Qa.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var t=this.precomputed,n=function(e){return e.neg()};r.precomputed={naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return r},Qa.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Ja(es,Va.BasePoint),$a.prototype.jpoint=function(e,r,t){return new es(this,e,r,t)},es.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),t=this.x.redMul(r),n=this.y.redMul(r).redMul(e);return this.curve.point(t,n)},es.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},es.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),t=this.z.redSqr(),n=this.x.redMul(r),i=e.x.redMul(t),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(t.redMul(this.z)),s=n.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var f=s.redSqr(),c=f.redMul(s),l=n.redMul(f),h=u.redSqr().redIAdd(c).redISub(l).redISub(l),d=u.redMul(l.redISub(h)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(h,d,p)},es.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),t=this.x,n=e.x.redMul(r),i=this.y,o=e.y.redMul(r).redMul(this.z),a=t.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),f=u.redMul(a),c=t.redMul(u),l=s.redSqr().redIAdd(f).redISub(c).redISub(c),h=s.redMul(c.redISub(l)).redISub(i.redMul(f)),d=this.z.redMul(a);return this.curve.jpoint(l,h,d)},es.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var t=this;for(r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),f=a.redAdd(a);for(r=0;r<e;r++){var c=o.redSqr(),l=f.redSqr(),h=l.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(u)),p=o.redMul(l),v=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(v),y=d.redMul(g);y=y.redIAdd(y).redISub(h);var m=f.redMul(s);r+1<e&&(u=u.redMul(h)),o=v,s=m,f=y}return this.curve.jpoint(o,f.redMul(i),s)},es.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},es.prototype._zeroDbl=function(){var e,r,t;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(a).redISub(a),f=o.redIAdd(o);f=(f=f.redIAdd(f)).redIAdd(f),e=u,r=s.redMul(a.redISub(u)).redISub(f),t=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),l=this.y.redSqr(),h=l.redSqr(),d=this.x.redAdd(l).redSqr().redISub(c).redISub(h);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),v=p.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),e=v.redISub(d).redISub(d),r=p.redMul(d.redISub(e)).redISub(g),t=(t=this.y.redMul(this.z)).redIAdd(t)}return this.curve.jpoint(e,r,t)},es.prototype._threeDbl=function(){var e,r,t;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);e=u;var f=o.redIAdd(o);f=(f=f.redIAdd(f)).redIAdd(f),r=s.redMul(a.redISub(u)).redISub(f),t=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),l=this.y.redSqr(),h=this.x.redMul(l),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),v=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(v),t=this.y.redAdd(this.z).redSqr().redISub(l).redISub(c);var g=l.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),r=d.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,r,t)},es.prototype._dbl=function(){var e=this.curve.a,r=this.x,t=this.y,n=this.z,i=n.redSqr().redSqr(),o=r.redSqr(),a=t.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=r.redAdd(r),f=(u=u.redIAdd(u)).redMul(a),c=s.redSqr().redISub(f.redAdd(f)),l=f.redISub(c),h=a.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=s.redMul(l).redISub(h),p=t.redAdd(t).redMul(n);return this.curve.jpoint(c,d,p)},es.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),t=this.z.redSqr(),n=r.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var f=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),c=r.redMul(f);c=(c=c.redIAdd(c)).redIAdd(c);var l=this.x.redMul(s).redISub(c);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.y.redMul(f.redMul(u.redISub(f)).redISub(a.redMul(s)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(a).redSqr().redISub(t).redISub(s);return this.curve.jpoint(l,h,d)},es.prototype.mul=function(e,r){return e=new(be())(e,r),this.curve._wnafMul(this,e)},es.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),t=e.z.redSqr();if(0!==this.x.redMul(t).redISub(e.x.redMul(r)).cmpn(0))return!1;var n=r.redMul(this.z),i=t.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},es.prototype.eqXToP=function(e){var r=this.z.redSqr(),t=e.toRed(this.curve.red).redMul(r);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(r);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},es.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},es.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var rs=La((function(e,r){var t=r;t.base=Va,t.short=Ya,t.mont=null,t.edwards=null})),ts=La((function(e,r){var t,n=r,i=Ka.assert;function o(e){"short"===e.type?this.curve=new rs.short(e):"edwards"===e.type?this.curve=new rs.edwards(e):this.curve=new rs.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,r){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var t=new o(r);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:t}),t}})}n.PresetCurve=o,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:sn().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:sn().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:sn().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:sn().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:sn().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:sn().sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:sn().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{t=null.crash()}catch(s){t=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:sn().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",t]})}));function ns(e){if(!(this instanceof ns))return new ns(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var r=Ga.toArray(e.entropy,e.entropyEnc||"hex"),t=Ga.toArray(e.nonce,e.nonceEnc||"hex"),n=Ga.toArray(e.pers,e.persEnc||"hex");Da(r.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(r,t,n)}var is=ns;ns.prototype._init=function(e,r,t){var n=e.concat(r).concat(t);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},ns.prototype._hmac=function(){return new(sn().hmac)(this.hash,this.K)},ns.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},ns.prototype.reseed=function(e,r,t,n){"string"!==typeof r&&(n=t,t=r,r=null),e=Ga.toArray(e,r),t=Ga.toArray(t,n),Da(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(t||[])),this._reseed=1},ns.prototype.generate=function(e,r,t,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof r&&(n=t,t=r,r=null),t&&(t=Ga.toArray(t,n||"hex"),this._update(t));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(t),this._reseed++,Ga.encode(o,r)};var os=Ka.assert;function as(e,r){this.ec=e,this.priv=null,this.pub=null,r.priv&&this._importPrivate(r.priv,r.privEnc),r.pub&&this._importPublic(r.pub,r.pubEnc)}var ss=as;as.fromPublic=function(e,r,t){return r instanceof as?r:new as(e,{pub:r,pubEnc:t})},as.fromPrivate=function(e,r,t){return r instanceof as?r:new as(e,{priv:r,privEnc:t})},as.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},as.prototype.getPublic=function(e,r){return"string"===typeof e&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},as.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},as.prototype._importPrivate=function(e,r){this.priv=new(be())(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},as.prototype._importPublic=function(e,r){if(e.x||e.y)return"mont"===this.ec.curve.type?os(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||os(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,r)},as.prototype.derive=function(e){return e.validate()||os(e.validate(),"public point not validated"),e.mul(this.priv).getX()},as.prototype.sign=function(e,r,t){return this.ec.sign(e,this,r,t)},as.prototype.verify=function(e,r){return this.ec.verify(e,r,this)},as.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var us=Ka.assert;function fs(e,r){if(e instanceof fs)return e;this._importDER(e,r)||(us(e.r&&e.s,"Signature without r or s"),this.r=new(be())(e.r,16),this.s=new(be())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var cs=fs;function ls(){this.place=0}function hs(e,r){var t=e[r.place++];if(!(128&t))return t;var n=15&t;if(0===n||n>4)return!1;for(var i=0,o=0,a=r.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(r.place=a,i)}function ds(e){for(var r=0,t=e.length-1;!e[r]&&!(128&e[r+1])&&r<t;)r++;return 0===r?e:e.slice(r)}function ps(e,r){if(r<128)e.push(r);else{var t=1+(Math.log(r)/Math.LN2>>>3);for(e.push(128|t);--t;)e.push(r>>>(t<<3)&255);e.push(r)}}fs.prototype._importDER=function(e,r){e=Ka.toArray(e,r);var t=new ls;if(48!==e[t.place++])return!1;var n=hs(e,t);if(!1===n)return!1;if(n+t.place!==e.length)return!1;if(2!==e[t.place++])return!1;var i=hs(e,t);if(!1===i)return!1;var o=e.slice(t.place,i+t.place);if(t.place+=i,2!==e[t.place++])return!1;var a=hs(e,t);if(!1===a)return!1;if(e.length!==a+t.place)return!1;var s=e.slice(t.place,a+t.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new(be())(o),this.s=new(be())(s),this.recoveryParam=null,!0},fs.prototype.toDER=function(e){var r=this.r.toArray(),t=this.s.toArray();for(128&r[0]&&(r=[0].concat(r)),128&t[0]&&(t=[0].concat(t)),r=ds(r),t=ds(t);!t[0]&&!(128&t[1]);)t=t.slice(1);var n=[2];ps(n,r.length),(n=n.concat(r)).push(2),ps(n,t.length);var i=n.concat(t),o=[48];return ps(o,i.length),o=o.concat(i),Ka.encode(o,e)};var vs=function(){throw new Error("unsupported")},gs=Ka.assert;function ys(e){if(!(this instanceof ys))return new ys(e);"string"===typeof e&&(gs(Object.prototype.hasOwnProperty.call(ts,e),"Unknown curve "+e),e=ts[e]),e instanceof ts.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var ms=ys;ys.prototype.keyPair=function(e){return new ss(this,e)},ys.prototype.keyFromPrivate=function(e,r){return ss.fromPrivate(this,e,r)},ys.prototype.keyFromPublic=function(e,r){return ss.fromPublic(this,e,r)},ys.prototype.genKeyPair=function(e){e||(e={});for(var r=new is({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||vs(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),t=this.n.byteLength(),n=this.n.sub(new(be())(2));;){var i=new(be())(r.generate(t));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},ys.prototype._truncateToN=function(e,r){var t=8*e.byteLength()-this.n.bitLength();return t>0&&(e=e.ushrn(t)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},ys.prototype.sign=function(e,r,t,n){"object"===typeof t&&(n=t,t=null),n||(n={}),r=this.keyFromPrivate(r,t),e=this._truncateToN(new(be())(e,16));for(var i=this.n.byteLength(),o=r.getPrivate().toArray("be",i),a=e.toArray("be",i),s=new is({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(be())(1)),f=0;;f++){var c=n.k?n.k(f):new(be())(s.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(u)>=0)){var l=this.g.mul(c);if(!l.isInfinity()){var h=l.getX(),d=h.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(r.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var v=(l.getY().isOdd()?1:0)|(0!==h.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),v^=1),new cs({r:d,s:p,recoveryParam:v})}}}}}},ys.prototype.verify=function(e,r,t,n){e=this._truncateToN(new(be())(e,16)),t=this.keyFromPublic(t,n);var i=(r=new cs(r,"hex")).r,o=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,s=o.invm(this.n),u=s.mul(e).umod(this.n),f=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,t.getPublic(),f)).isInfinity()&&a.eqXToP(i):!(a=this.g.mulAdd(u,t.getPublic(),f)).isInfinity()&&0===a.getX().umod(this.n).cmp(i)},ys.prototype.recoverPubKey=function(e,r,t,n){gs((3&t)===t,"The recovery param is more than two bits"),r=new cs(r,n);var i=this.n,o=new(be())(e),a=r.r,s=r.s,u=1&t,f=t>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");a=f?this.curve.pointFromX(a.add(this.curve.n),u):this.curve.pointFromX(a,u);var c=r.r.invm(i),l=i.sub(o).mul(c).umod(i),h=s.mul(c).umod(i);return this.g.mulAdd(l,a,h)},ys.prototype.getKeyRecoveryParam=function(e,r,t,n){if(null!==(r=new cs(r,n)).recoveryParam)return r.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,r,i)}catch(e){continue}if(o.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var bs=La((function(e,r){var t=r;t.version="6.5.4",t.utils=Ka,t.rand=function(){throw new Error("unsupported")},t.curve=rs,t.curves=ts,t.ec=ms,t.eddsa=null})),ws=bs.ec,As=new ce("signing-key/5.7.0"),Es=null;function Ss(){return Es||(Es=new ws("secp256k1")),Es}var xs=function(){function e(r){(0,l.Z)(this,e),Je(this,"curve","secp256k1"),Je(this,"privateKey",va(r)),32!==function(e){if("string"!==typeof e)e=va(e);else if(!da(e)||e.length%2)return null;return(e.length-2)/2}(this.privateKey)&&As.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");var t=Ss().keyFromPrivate(la(this.privateKey));Je(this,"publicKey","0x"+t.getPublic(!1,"hex")),Je(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),Je(this,"_isSigningKey",!0)}return(0,h.Z)(e,[{key:"_addPoint",value:function(e){var r=Ss().keyFromPublic(la(this.publicKey)),t=Ss().keyFromPublic(la(e));return"0x"+r.pub.add(t.pub).encodeCompressed("hex")}},{key:"signDigest",value:function(e){var r=Ss().keyFromPrivate(la(this.privateKey)),t=la(e);32!==t.length&&As.throwArgumentError("bad digest length","digest",e);var n=r.sign(t,{canonical:!0});return ma({recoveryParam:n.recoveryParam,r:ya("0x"+n.r.toString(16),32),s:ya("0x"+n.s.toString(16),32)})}},{key:"computeSharedSecret",value:function(e){var r=Ss().keyFromPrivate(la(this.privateKey)),t=Ss().keyFromPublic(la(Ps(e)));return ya("0x"+r.derive(t.getPublic()).toString(16),32)}}],[{key:"isSigningKey",value:function(e){return!(!e||!e._isSigningKey)}}]),e}();function Ps(e,r){var t=la(e);if(32===t.length){var n=new xs(t);return r?"0x"+Ss().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}return 33===t.length?r?va(t):"0x"+Ss().keyFromPublic(t).getPublic(!1,"hex"):65===t.length?r?"0x"+Ss().keyFromPublic(t).getPublic(!0,"hex"):va(t):As.throwArgumentError("invalid public or private key","key","[REDACTED]")}var Ns;new ce("transactions/5.7.0");!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(Ns||(Ns={}));function ks(e){return Fa(ga(Ia(ga(Ps(e),1)),12))}var _s=new ce("wordlists/5.7.0"),Is=function(){function e(r){(0,l.Z)(this,e),_s.checkAbstract(this instanceof e?this.constructor:void 0,e),Je(this,"locale",r)}return(0,h.Z)(e,[{key:"split",value:function(e){return e.toLowerCase().split(/ +/g)}},{key:"join",value:function(e){return e.join(" ")}}],[{key:"check",value:function(e){for(var r=[],t=0;t<2048;t++){var n=e.getWord(t);if(t!==e.getWordIndex(n))return"0x";r.push(n)}return Ia(Ur(r.join("\n")+"\n"))}},{key:"register",value:function(e,r){r||(r=e.locale)}}]),e}(),Ts=null;function Rs(e){if(null==Ts&&(Ts="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==Is.check(e)))throw Ts=null,new Error("BIP39 Wordlist for en (English) FAILED")}var Cs=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(){return(0,l.Z)(this,t),r.call(this,"en")}return(0,h.Z)(t,[{key:"getWord",value:function(e){return Rs(this),Ts[e]}},{key:"getWordIndex",value:function(e){return Rs(this),Ts.indexOf(e)}}]),t}(Is),Ms=new Cs;Is.register(Ms);var Os={en:Ms},Us=new ce("hdnode/5.7.0"),Bs=xa.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Fs=Ur("Bitcoin seed"),Ls=2147483648;function Ds(e){return(1<<e)-1<<8-e}function zs(e){return ya(va(e),32)}function Gs(e){return Nt.encode(ha([e,ga(mn(mn(e)),0,4)]))}function Ks(e){if(null==e)return Os.en;if("string"===typeof e){var r=Os[e];return null==r&&Us.throwArgumentError("unknown locale","wordlist",e),r}return e}var js={},Hs="m/44'/60'/0'/0/0",qs=function(){function e(r,t,n,i,o,a,s,u){if((0,l.Z)(this,e),r!==js)throw new Error("HDNode constructor cannot be called directly");if(t){var f=new xs(t);Je(this,"privateKey",f.privateKey),Je(this,"publicKey",f.compressedPublicKey)}else Je(this,"privateKey",null),Je(this,"publicKey",va(n));Je(this,"parentFingerprint",i),Je(this,"fingerprint",ga(yn(mn(this.publicKey)),0,4)),Je(this,"address",ks(this.publicKey)),Je(this,"chainCode",o),Je(this,"index",a),Je(this,"depth",s),null==u?(Je(this,"mnemonic",null),Je(this,"path",null)):"string"===typeof u?(Je(this,"mnemonic",null),Je(this,"path",u)):(Je(this,"mnemonic",u),Je(this,"path",u.path))}return(0,h.Z)(e,[{key:"extendedKey",get:function(){if(this.depth>=256)throw new Error("Depth too large!");return Gs(ha([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",va(this.depth),this.parentFingerprint,ya(va(this.index),4),this.chainCode,null!=this.privateKey?ha(["0x00",this.privateKey]):this.publicKey]))}},{key:"neuter",value:function(){return new e(js,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}},{key:"_derive",value:function(r){if(r>4294967295)throw new Error("invalid index - "+String(r));var t=this.path;t&&(t+="/"+(2147483647&r));var n=new Uint8Array(37);if(r&Ls){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(la(this.privateKey),1),t&&(t+="'")}else n.set(la(this.publicKey));for(var i=24;i>=0;i-=8)n[33+(i>>3)]=r>>24-i&255;var o=la(bn(vn.sha512,this.chainCode,n)),a=o.slice(0,32),s=o.slice(32),u=null,f=null;this.privateKey?u=zs(xa.from(a).add(this.privateKey).mod(Bs)):f=new xs(va(a))._addPoint(this.publicKey);var c=t,l=this.mnemonic;return l&&(c=Object.freeze({phrase:l.phrase,path:t,locale:l.locale||"en"})),new e(js,u,f,this.fingerprint,zs(s),r,this.depth+1,c)}},{key:"derivePath",value:function(e){var r=e.split("/");if(0===r.length||"m"===r[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===r[0]&&r.shift();for(var t=this,n=0;n<r.length;n++){var i=r[n];if(i.match(/^[0-9]+'$/)){var o=parseInt(i.substring(0,i.length-1));if(o>=Ls)throw new Error("invalid path index - "+i);t=t._derive(Ls+o)}else{if(!i.match(/^[0-9]+$/))throw new Error("invalid path component - "+i);var a=parseInt(i);if(a>=Ls)throw new Error("invalid path index - "+i);t=t._derive(a)}}return t}}],[{key:"_fromSeed",value:function(r,t){var n=la(r);if(n.length<16||n.length>64)throw new Error("invalid seed");var i=la(bn(vn.sha512,Fs,n));return new e(js,zs(i.slice(0,32)),null,"0x00000000",zs(i.slice(32)),0,0,t)}},{key:"fromMnemonic",value:function(r,t,n){return r=Vs(Zs(r,n=Ks(n)),n),e._fromSeed(function(e,r){r||(r="");var t=Ur("mnemonic"+r,Rr.NFKD);return wn(Ur(e,Rr.NFKD),t,2048,64,"sha512")}(r,t),{phrase:r,path:"m",locale:n.locale})}},{key:"fromSeed",value:function(r){return e._fromSeed(r,null)}},{key:"fromExtendedKey",value:function(r){var t=Nt.decode(r);82===t.length&&Gs(t.slice(0,78))===r||Us.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");var n=t[4],i=va(t.slice(5,9)),o=parseInt(va(t.slice(9,13)).substring(2),16),a=va(t.slice(13,45)),s=t.slice(45,78);switch(va(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new e(js,null,va(s),i,a,o,n,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new e(js,va(s.slice(1)),null,i,a,o,n,null)}return Us.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}]),e}();function Zs(e,r){r=Ks(r),Us.checkNormalize();var t=r.split(e);if(t.length%3!==0)throw new Error("invalid mnemonic");for(var n=la(new Uint8Array(Math.ceil(11*t.length/8))),i=0,o=0;o<t.length;o++){var a=r.getWordIndex(t[o].normalize("NFKD"));if(-1===a)throw new Error("invalid mnemonic");for(var s=0;s<11;s++)a&1<<10-s&&(n[i>>3]|=1<<7-i%8),i++}var u=32*t.length/3,f=Ds(t.length/3);if((la(mn(n.slice(0,u/8)))[0]&f)!==(n[n.length-1]&f))throw new Error("invalid checksum");return va(n.slice(0,u/8))}function Vs(e,r){if(r=Ks(r),(e=la(e)).length%4!==0||e.length<16||e.length>32)throw new Error("invalid entropy");for(var t=[0],n=11,i=0;i<e.length;i++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=e[i],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=e[i]>>8-n,t.push(e[i]&(1<<8-n)-1),n+=3);var o=e.length/4,a=la(mn(e))[0]&Ds(o);return t[t.length-1]<<=o,t[t.length-1]|=a>>8-o,r.join(t.map((function(e){return r.getWord(e)})))}var Ws=new ce("random/5.7.0");var Js=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof t.g)return t.g;throw new Error("unable to locate global object")}(),Xs=Js.crypto||Js.msCrypto;function $s(e){(e<=0||e>1024||e%1||e!=e)&&Ws.throwArgumentError("invalid length","length",e);var r=new Uint8Array(e);return Xs.getRandomValues(r),la(r)}function Ys(e){return"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),la(e)}function Qs(e,r){for(e=String(e);e.length<r;)e="0"+e;return e}function eu(e){return"string"===typeof e?Ur(e,Rr.NFKC):la(e)}function ru(e,r){for(var t=e,n=r.toLowerCase().split("/"),i=0;i<n.length;i++){var o=null;for(var a in t)if(a.toLowerCase()===n[i]){o=t[a];break}if(null===o)return null;t=o}return t}function tu(e){var r=la(e);r[6]=15&r[6]|64,r[8]=63&r[8]|128;var t=va(r);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}Xs&&Xs.getRandomValues||(Ws.warn("WARNING: Missing strong random number source"),Xs={getRandomValues:function(e){return Ws.throwError("no secure random source avaialble",ce.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var nu="json-wallets/5.6.1",iu=function(e,r,t,n){return new(t||(t=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(r){o(r)}}function s(e){try{u(n.throw(e))}catch(r){o(r)}}function u(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}u((n=n.apply(e,r||[])).next())}))},ou=new ce(nu);function au(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}var su=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(){return(0,l.Z)(this,t),r.apply(this,arguments)}return(0,h.Z)(t,[{key:"isKeystoreAccount",value:function(e){return!(!e||!e._isKeystoreAccount)}}]),t}(tr);function uu(e,r){var t=Ys(ru(e,"crypto/ciphertext"));if(va(Ia(ha([r.slice(16,32),t]))).substring(2)!==ru(e,"crypto/mac").toLowerCase())throw new Error("invalid password");var n=function(e,r,t){if("aes-128-ctr"===ru(e,"crypto/cipher")){var n=Ys(ru(e,"crypto/cipherparams/iv")),i=new(na().Counter)(n);return la(new(na().ModeOfOperation.ctr)(r,i).decrypt(t))}return null}(e,r.slice(0,16),t);n||ou.throwError("unsupported cipher",ce.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});var i=r.slice(32,64),o=ks(n);if(e.address){var a=e.address.toLowerCase();if("0x"!==a.substring(0,2)&&(a="0x"+a),Fa(a)!==o)throw new Error("address mismatch")}var s={_isKeystoreAccount:!0,address:o,privateKey:va(n)};if("0.1"===ru(e,"x-ethers/version")){var u=Ys(ru(e,"x-ethers/mnemonicCiphertext")),f=Ys(ru(e,"x-ethers/mnemonicCounter")),c=new(na().Counter)(f),l=new(na().ModeOfOperation.ctr)(i,c),h=ru(e,"x-ethers/path")||Hs,d=ru(e,"x-ethers/locale")||"en",p=la(l.decrypt(u));try{var v=Vs(p,d),g=qs.fromMnemonic(v,null,d).derivePath(h);if(g.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=g.mnemonic}catch(y){if(y.code!==ce.errors.INVALID_ARGUMENT||"wordlist"!==y.argument)throw y}}return new su(s)}function fu(e,r,t,n,i){return la(wn(e,r,t,n,i))}function cu(e,r,t,n,i){return Promise.resolve(fu(e,r,t,n,i))}function lu(e,r,t,n,i){var o=eu(r),a=ru(e,"crypto/kdf");if(a&&"string"===typeof a){var s=function(e,r){return ou.throwArgumentError("invalid key-derivation function parameters",e,r)};if("scrypt"===a.toLowerCase()){var u=Ys(ru(e,"crypto/kdfparams/salt")),f=parseInt(ru(e,"crypto/kdfparams/n")),c=parseInt(ru(e,"crypto/kdfparams/r")),l=parseInt(ru(e,"crypto/kdfparams/p"));f&&c&&l||s("kdf",a),0!==(f&f-1)&&s("N",f);var h=parseInt(ru(e,"crypto/kdfparams/dklen"));return 32!==h&&s("dklen",h),n(o,u,f,c,l,64,i)}if("pbkdf2"===a.toLowerCase()){var d=Ys(ru(e,"crypto/kdfparams/salt")),p=null,v=ru(e,"crypto/kdfparams/prf");"hmac-sha256"===v?p="sha256":"hmac-sha512"===v?p="sha512":s("prf",v);var g=parseInt(ru(e,"crypto/kdfparams/c")),y=parseInt(ru(e,"crypto/kdfparams/dklen"));return 32!==y&&s("dklen",y),t(o,d,g,y,p)}}return ou.throwArgumentError("unsupported key-derivation function","kdf",a)}var hu=new ce(nu),du=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(){return(0,l.Z)(this,t),r.apply(this,arguments)}return(0,h.Z)(t,[{key:"isCrowdsaleAccount",value:function(e){return!(!e||!e._isCrowdsaleAccount)}}]),t}(tr);function pu(e,r){var t=JSON.parse(e);r=eu(r);var n=Fa(ru(t,"ethaddr")),i=Ys(ru(t,"encseed"));i&&i.length%16===0||hu.throwArgumentError("invalid encseed","json",e);for(var o=la(wn(r,r,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),s=i.slice(16),u=new(na().ModeOfOperation.cbc)(o,a),f=na().padding.pkcs7.strip(la(u.decrypt(s))),c="",l=0;l<f.length;l++)c+=String.fromCharCode(f[l]);var h=Ia(Ur(c));return new du({_isCrowdsaleAccount:!0,address:n,privateKey:h})}function vu(e){var r=null;try{r=JSON.parse(e)}catch(t){return!1}return r.encseed&&r.ethaddr}function gu(e){var r=null;try{r=JSON.parse(e)}catch(t){return!1}return!(!r.version||parseInt(r.version)!==r.version||3!==parseInt(r.version))}function yu(e,r,t){if(vu(e)){t&&t(0);var n=pu(e,r);return t&&t(1),Promise.resolve(n)}return gu(e)?function(e,r,t){return iu(this,void 0,void 0,(0,$.Z)().mark((function n(){var i,o;return(0,$.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=JSON.parse(e),n.next=3,lu(i,r,cu,oa().scrypt,t);case 3:return o=n.sent,n.abrupt("return",uu(i,o));case 5:case"end":return n.stop()}}),n)})))}(e,r,t):Promise.reject(new Error("invalid JSON wallet"))}function mu(e,r){if(vu(e))return pu(e,r);if(gu(e))return function(e,r){var t=JSON.parse(e);return uu(t,lu(t,r,fu,oa().syncScrypt))}(e,r);throw new Error("invalid JSON wallet")}var bu=new ce("bytes/5.7.0");function wu(e){return!!e.toHexString}function Au(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return Au(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function Eu(e){return ku(e)&&!(e.length%2)||xu(e)}function Su(e){return"number"===typeof e&&e==e&&e%1===0}function xu(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Su(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!Su(t)||t<0||t>=256)return!1}return!0}function Pu(e,r){if(r||(r={}),"number"===typeof e){bu.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Au(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),wu(e)&&(e=e.toHexString()),ku(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":bu.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return Au(new Uint8Array(i))}return xu(e)?Au(new Uint8Array(e)):bu.throwArgumentError("invalid arrayify value","value",e)}function Nu(e){var r=Pu(e);if(0===r.length)return r;for(var t=0;t<r.length&&0===r[t];)t++;return t&&(r=r.slice(t)),r}function ku(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var _u="0123456789abcdef";function Iu(e,r){if(r||(r={}),"number"===typeof e){bu.checkSafeUint53(e,"invalid hexlify value");for(var t="";e;)t=_u[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),wu(e))return e.toHexString();if(ku(e))return e.length%2&&("left"===r.hexPad?e="0x0"+e.substring(2):"right"===r.hexPad?e+="0":bu.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(xu(e)){for(var n="0x",i=0;i<e.length;i++){var o=e[i];n+=_u[(240&o)>>4]+_u[15&o]}return n}return bu.throwArgumentError("invalid hexlify value","value",e)}function Tu(e){if("string"!==typeof e)e=Iu(e);else if(!ku(e)||e.length%2)return null;return(e.length-2)/2}function Ru(e,r,t){return"string"!==typeof e?e=Iu(e):(!ku(e)||e.length%2)&&bu.throwArgumentError("invalid hexData","value",e),r=2+2*r,null!=t?"0x"+e.substring(r,2+2*t):"0x"+e.substring(r)}function Cu(e){var r="0x";return e.forEach((function(e){r+=Iu(e).substring(2)})),r}function Mu(e,r){for("string"!==typeof e?e=Iu(e):ku(e)||bu.throwArgumentError("invalid hex string","value",e),e.length>2*r+2&&bu.throwArgumentError("value out of range","value",arguments[1]);e.length<2*r+2;)e="0x0"+e.substring(2);return e}function Ou(e){var r={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Eu(e)){var t=Pu(e);64===t.length?(r.v=27+(t[32]>>7),t[32]&=127,r.r=Iu(t.slice(0,32)),r.s=Iu(t.slice(32,64))):65===t.length?(r.r=Iu(t.slice(0,32)),r.s=Iu(t.slice(32,64)),r.v=t[64]):bu.throwArgumentError("invalid signature string","signature",e),r.v<27&&(0===r.v||1===r.v?r.v+=27:bu.throwArgumentError("signature invalid v byte","signature",e)),r.recoveryParam=1-r.v%2,r.recoveryParam&&(t[32]|=128),r._vs=Iu(t.slice(32,64))}else{if(r.r=e.r,r.s=e.s,r.v=e.v,r.recoveryParam=e.recoveryParam,r._vs=e._vs,null!=r._vs){var n=function(e,r){(e=Pu(e)).length>r&&bu.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(r);return t.set(e,r-e.length),Au(t)}(Pu(r._vs),32);r._vs=Iu(n);var i=n[0]>=128?1:0;null==r.recoveryParam?r.recoveryParam=i:r.recoveryParam!==i&&bu.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;var o=Iu(n);null==r.s?r.s=o:r.s!==o&&bu.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==r.recoveryParam)null==r.v?bu.throwArgumentError("signature missing v and recoveryParam","signature",e):0===r.v||1===r.v?r.recoveryParam=r.v:r.recoveryParam=1-r.v%2;else if(null==r.v)r.v=27+r.recoveryParam;else{var a=0===r.v||1===r.v?r.v:1-r.v%2;r.recoveryParam!==a&&bu.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=r.r&&ku(r.r)?r.r=Mu(r.r,32):bu.throwArgumentError("signature missing or invalid r","signature",e),null!=r.s&&ku(r.s)?r.s=Mu(r.s,32):bu.throwArgumentError("signature missing or invalid s","signature",e);var s=Pu(r.s);s[0]>=128&&bu.throwArgumentError("signature s out of range","signature",e),r.recoveryParam&&(s[0]|=128);var u=Iu(s);r._vs&&(ku(r._vs)||bu.throwArgumentError("signature invalid _vs","signature",e),r._vs=Mu(r._vs,32)),null==r._vs?r._vs=u:r._vs!==u&&bu.throwArgumentError("signature _vs mismatch v and s","signature",e)}return r.yParityAndS=r._vs,r.compact=r.r+r.yParityAndS.substring(2),r}var Uu=be().BN,Bu=new ce("bignumber/5.7.0"),Fu={},Lu=9007199254740991;var Du=!1,zu=function(){function e(r,t){(0,l.Z)(this,e),r!==Fu&&Bu.throwError("cannot call constructor directly; use BigNumber.from",ce.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}return(0,h.Z)(e,[{key:"fromTwos",value:function(e){return Ku(ju(this).fromTwos(e))}},{key:"toTwos",value:function(e){return Ku(ju(this).toTwos(e))}},{key:"abs",value:function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this}},{key:"add",value:function(e){return Ku(ju(this).add(ju(e)))}},{key:"sub",value:function(e){return Ku(ju(this).sub(ju(e)))}},{key:"div",value:function(r){return e.from(r).isZero()&&Hu("division-by-zero","div"),Ku(ju(this).div(ju(r)))}},{key:"mul",value:function(e){return Ku(ju(this).mul(ju(e)))}},{key:"mod",value:function(e){var r=ju(e);return r.isNeg()&&Hu("division-by-zero","mod"),Ku(ju(this).umod(r))}},{key:"pow",value:function(e){var r=ju(e);return r.isNeg()&&Hu("negative-power","pow"),Ku(ju(this).pow(r))}},{key:"and",value:function(e){var r=ju(e);return(this.isNegative()||r.isNeg())&&Hu("unbound-bitwise-result","and"),Ku(ju(this).and(r))}},{key:"or",value:function(e){var r=ju(e);return(this.isNegative()||r.isNeg())&&Hu("unbound-bitwise-result","or"),Ku(ju(this).or(r))}},{key:"xor",value:function(e){var r=ju(e);return(this.isNegative()||r.isNeg())&&Hu("unbound-bitwise-result","xor"),Ku(ju(this).xor(r))}},{key:"mask",value:function(e){return(this.isNegative()||e<0)&&Hu("negative-width","mask"),Ku(ju(this).maskn(e))}},{key:"shl",value:function(e){return(this.isNegative()||e<0)&&Hu("negative-width","shl"),Ku(ju(this).shln(e))}},{key:"shr",value:function(e){return(this.isNegative()||e<0)&&Hu("negative-width","shr"),Ku(ju(this).shrn(e))}},{key:"eq",value:function(e){return ju(this).eq(ju(e))}},{key:"lt",value:function(e){return ju(this).lt(ju(e))}},{key:"lte",value:function(e){return ju(this).lte(ju(e))}},{key:"gt",value:function(e){return ju(this).gt(ju(e))}},{key:"gte",value:function(e){return ju(this).gte(ju(e))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return ju(this).isZero()}},{key:"toNumber",value:function(){try{return ju(this).toNumber()}catch(e){Hu("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(e){}return Bu.throwError("this platform does not support BigInt",ce.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?Du||(Du=!0,Bu.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Bu.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ce.errors.UNEXPECTED_ARGUMENT,{}):Bu.throwError("BigNumber.toString does not accept parameters",ce.errors.UNEXPECTED_ARGUMENT,{})),ju(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(e){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(r){if(r instanceof e)return r;if("string"===typeof r)return r.match(/^-?0x[0-9a-f]+$/i)?new e(Fu,Gu(r)):r.match(/^-?[0-9]+$/)?new e(Fu,Gu(new Uu(r))):Bu.throwArgumentError("invalid BigNumber string","value",r);if("number"===typeof r)return r%1&&Hu("underflow","BigNumber.from",r),(r>=Lu||r<=-9007199254740991)&&Hu("overflow","BigNumber.from",r),e.from(String(r));var t=r;if("bigint"===typeof t)return e.from(t.toString());if(xu(t))return e.from(Iu(t));if(t)if(t.toHexString){var n=t.toHexString();if("string"===typeof n)return e.from(n)}else{var i=t._hex;if(null==i&&"BigNumber"===t.type&&(i=t.hex),"string"===typeof i&&(ku(i)||"-"===i[0]&&ku(i.substring(1))))return e.from(i)}return Bu.throwArgumentError("invalid BigNumber value","value",r)}},{key:"isBigNumber",value:function(e){return!(!e||!e._isBigNumber)}}]),e}();function Gu(e){if("string"!==typeof e)return Gu(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&Bu.throwArgumentError("invalid hex","value",e),"0x00"===(e=Gu(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function Ku(e){return zu.from(Gu(e))}function ju(e){var r=zu.from(e).toHexString();return"-"===r[0]?new Uu("-"+r.substring(3),16):new Uu(r.substring(2),16)}function Hu(e,r,t){var n={fault:e,operation:r};return null!=t&&(n.value=t),Bu.throwError(e,ce.errors.NUMERIC_FAULT,n)}function qu(e){return"0x"+c().keccak_256(Pu(e))}var Zu=new ce("address/5.7.0");function Vu(e){ku(e,20)||Zu.throwArgumentError("invalid address","address",e);for(var r=(e=e.toLowerCase()).substring(2).split(""),t=new Uint8Array(40),n=0;n<40;n++)t[n]=r[n].charCodeAt(0);for(var i=Pu(qu(t)),o=0;o<40;o+=2)i[o>>1]>>4>=8&&(r[o]=r[o].toUpperCase()),(15&i[o>>1])>=8&&(r[o+1]=r[o+1].toUpperCase());return"0x"+r.join("")}for(var Wu={},Ju=0;Ju<10;Ju++)Wu[String(Ju)]=String(Ju);for(var Xu=0;Xu<26;Xu++)Wu[String.fromCharCode(65+Xu)]=String(10+Xu);var $u=Math.floor(function(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}(9007199254740991));function Yu(e){for(var r=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((function(e){return Wu[e]})).join("");r.length>=$u;){var t=r.substring(0,$u);r=parseInt(t,10)%97+r.substring(t.length)}for(var n=String(98-parseInt(r,10)%97);n.length<2;)n="0"+n;return n}function Qu(e){var r,t=null;if("string"!==typeof e&&Zu.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=Vu(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&Zu.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==Yu(e)&&Zu.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new Uu(r,36).toString(16);t.length<40;)t="0"+t;t=Vu("0x"+t)}else Zu.throwArgumentError("invalid address","address",e);return t}var ef=new ce("bytes/5.7.0");function rf(e){return!!e.toHexString}function tf(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return tf(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function nf(e){return uf(e)&&!(e.length%2)||af(e)}function of(e){return"number"===typeof e&&e==e&&e%1===0}function af(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!of(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!of(t)||t<0||t>=256)return!1}return!0}function sf(e,r){if(r||(r={}),"number"===typeof e){ef.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),tf(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),rf(e)&&(e=e.toHexString()),uf(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":ef.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return tf(new Uint8Array(i))}return af(e)?tf(new Uint8Array(e)):ef.throwArgumentError("invalid arrayify value","value",e)}function uf(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var ff="0123456789abcdef";function cf(e,r){if(r||(r={}),"number"===typeof e){ef.checkSafeUint53(e,"invalid hexlify value");for(var t="";e;)t=ff[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),rf(e))return e.toHexString();if(uf(e))return e.length%2&&("left"===r.hexPad?e="0x0"+e.substring(2):"right"===r.hexPad?e+="0":ef.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(af(e)){for(var n="0x",i=0;i<e.length;i++){var o=e[i];n+=ff[(240&o)>>4]+ff[15&o]}return n}return ef.throwArgumentError("invalid hexlify value","value",e)}var lf=new ce("rlp/5.7.0");function hf(e){for(var r=[];e;)r.unshift(255&e),e>>=8;return r}function df(e){if(Array.isArray(e)){var r=[];if(e.forEach((function(e){r=r.concat(df(e))})),r.length<=55)return r.unshift(192+r.length),r;var t=hf(r.length);return t.unshift(247+t.length),t.concat(r)}nf(e)||lf.throwArgumentError("RLP object must be BytesLike","object",e);var n=Array.prototype.slice.call(sf(e));if(1===n.length&&n[0]<=127)return n;if(n.length<=55)return n.unshift(128+n.length),n;var i=hf(n.length);return i.unshift(183+i.length),i.concat(n)}function pf(e){return cf(df(e))}"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t.g?t.g:"undefined"!==typeof self&&self;function vf(e,r,t){return t={path:r,exports:{},require:function(e,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===r||null===r)&&t.path)}},e(t,t.exports),t.exports}var gf=yf;function yf(e,r){if(!e)throw new Error(r||"Assertion failed")}yf.equal=function(e,r,t){if(e!=r)throw new Error(t||"Assertion failed: "+e+" != "+r)};var mf=vf((function(e,r){var t=r;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var r="",t=0;t<e.length;t++)r+=n(e[t].toString(16));return r}t.toArray=function(e,r){if(Array.isArray(e))return e.slice();if(!e)return[];var t=[];if("string"!==typeof e){for(var n=0;n<e.length;n++)t[n]=0|e[n];return t}if("hex"===r){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(n=0;n<e.length;n+=2)t.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?t.push(o,a):t.push(a)}return t},t.zero2=n,t.toHex=i,t.encode=function(e,r){return"hex"===r?i(e):e}})),bf=vf((function(e,r){var t=r;t.assert=gf,t.toArray=mf.toArray,t.zero2=mf.zero2,t.toHex=mf.toHex,t.encode=mf.encode,t.getNAF=function(e,r,t){var n=new Array(Math.max(e.bitLength(),t)+1);n.fill(0);for(var i=1<<r+1,o=e.clone(),a=0;a<n.length;a++){var s,u=o.andln(i-1);o.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,o.isubn(s)):s=0,n[a]=s,o.iushrn(1)}return n},t.getJSF=function(e,r){var t=[[],[]];e=e.clone(),r=r.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||r.cmpn(-o)>0;){var a,s,u=e.andln(3)+i&3,f=r.andln(3)+o&3;3===u&&(u=-1),3===f&&(f=-1),a=0===(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==f?u:-u,t[0].push(a),s=0===(1&f)?0:3!==(n=r.andln(7)+o&7)&&5!==n||2!==u?f:-f,t[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),e.iushrn(1),r.iushrn(1)}return t},t.cachedProperty=function(e,r,t){var n="_"+r;e.prototype[r]=function(){return void 0!==this[n]?this[n]:this[n]=t.call(this)}},t.parseBytes=function(e){return"string"===typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new(be())(e,"hex","le")}})),wf=bf.getNAF,Af=bf.getJSF,Ef=bf.assert;function Sf(e,r){this.type=e,this.p=new(be())(r.p,16),this.red=r.prime?be().red(r.prime):be().mont(this.p),this.zero=new(be())(0).toRed(this.red),this.one=new(be())(1).toRed(this.red),this.two=new(be())(2).toRed(this.red),this.n=r.n&&new(be())(r.n,16),this.g=r.g&&this.pointFromJSON(r.g,r.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var xf=Sf;function Pf(e,r){this.curve=e,this.type=r,this.precomputed=null}Sf.prototype.point=function(){throw new Error("Not implemented")},Sf.prototype.validate=function(){throw new Error("Not implemented")},Sf.prototype._fixedNafMul=function(e,r){Ef(e.precomputed);var t=e._getDoubles(),n=wf(r,1,this._bitLength),i=(1<<t.step+1)-(t.step%2===0?2:1);i/=3;var o,a,s=[];for(o=0;o<n.length;o+=t.step){a=0;for(var u=o+t.step-1;u>=o;u--)a=(a<<1)+n[u];s.push(a)}for(var f=this.jpoint(null,null,null),c=this.jpoint(null,null,null),l=i;l>0;l--){for(o=0;o<s.length;o++)(a=s[o])===l?c=c.mixedAdd(t.points[o]):a===-l&&(c=c.mixedAdd(t.points[o].neg()));f=f.add(c)}return f.toP()},Sf.prototype._wnafMul=function(e,r){var t=4,n=e._getNAFPoints(t);t=n.wnd;for(var i=n.points,o=wf(r,t,this._bitLength),a=this.jpoint(null,null,null),s=o.length-1;s>=0;s--){for(var u=0;s>=0&&0===o[s];s--)u++;if(s>=0&&u++,a=a.dblp(u),s<0)break;var f=o[s];Ef(0!==f),a="affine"===e.type?f>0?a.mixedAdd(i[f-1>>1]):a.mixedAdd(i[-f-1>>1].neg()):f>0?a.add(i[f-1>>1]):a.add(i[-f-1>>1].neg())}return"affine"===e.type?a.toP():a},Sf.prototype._wnafMulAdd=function(e,r,t,n,i){var o,a,s,u=this._wnafT1,f=this._wnafT2,c=this._wnafT3,l=0;for(o=0;o<n;o++){var h=(s=r[o])._getNAFPoints(e);u[o]=h.wnd,f[o]=h.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var v=[r[d],null,null,r[p]];0===r[d].y.cmp(r[p].y)?(v[1]=r[d].add(r[p]),v[2]=r[d].toJ().mixedAdd(r[p].neg())):0===r[d].y.cmp(r[p].y.redNeg())?(v[1]=r[d].toJ().mixedAdd(r[p]),v[2]=r[d].add(r[p].neg())):(v[1]=r[d].toJ().mixedAdd(r[p]),v[2]=r[d].toJ().mixedAdd(r[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=Af(t[d],t[p]);for(l=Math.max(y[0].length,l),c[d]=new Array(l),c[p]=new Array(l),a=0;a<l;a++){var m=0|y[0][a],b=0|y[1][a];c[d][a]=g[3*(m+1)+(b+1)],c[p][a]=0,f[d]=v}}else c[d]=wf(t[d],u[d],this._bitLength),c[p]=wf(t[p],u[p],this._bitLength),l=Math.max(c[d].length,l),l=Math.max(c[p].length,l)}var w=this.jpoint(null,null,null),A=this._wnafT4;for(o=l;o>=0;o--){for(var E=0;o>=0;){var S=!0;for(a=0;a<n;a++)A[a]=0|c[a][o],0!==A[a]&&(S=!1);if(!S)break;E++,o--}if(o>=0&&E++,w=w.dblp(E),o<0)break;for(a=0;a<n;a++){var x=A[a];0!==x&&(x>0?s=f[a][x-1>>1]:x<0&&(s=f[a][-x-1>>1].neg()),w="affine"===s.type?w.mixedAdd(s):w.add(s))}}for(o=0;o<n;o++)f[o]=null;return i?w:w.toP()},Sf.BasePoint=Pf,Pf.prototype.eq=function(){throw new Error("Not implemented")},Pf.prototype.validate=function(){return this.curve.validate(this)},Sf.prototype.decodePoint=function(e,r){e=bf.toArray(e,r);var t=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*t)return 6===e[0]?Ef(e[e.length-1]%2===0):7===e[0]&&Ef(e[e.length-1]%2===1),this.point(e.slice(1,1+t),e.slice(1+t,1+2*t));if((2===e[0]||3===e[0])&&e.length-1===t)return this.pointFromX(e.slice(1,1+t),3===e[0]);throw new Error("Unknown point format")},Pf.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Pf.prototype._encode=function(e){var r=this.curve.p.byteLength(),t=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(t):[4].concat(t,this.getY().toArray("be",r))},Pf.prototype.encode=function(e,r){return bf.encode(this._encode(r),e)},Pf.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},Pf.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return!!r&&r.points.length>=Math.ceil((e.bitLength()+1)/r.step)},Pf.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var t=[this],n=this,i=0;i<r;i+=e){for(var o=0;o<e;o++)n=n.dbl();t.push(n)}return{step:e,points:t}},Pf.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],t=(1<<e)-1,n=1===t?null:this.dbl(),i=1;i<t;i++)r[i]=r[i-1].add(n);return{wnd:e,points:r}},Pf.prototype._getBeta=function(){return null},Pf.prototype.dblp=function(e){for(var r=this,t=0;t<e;t++)r=r.dbl();return r};var Nf=vf((function(e){"function"===typeof Object.create?e.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,r){if(r){e.super_=r;var t=function(){};t.prototype=r.prototype,e.prototype=new t,e.prototype.constructor=e}}})),kf=bf.assert;function _f(e){xf.call(this,"short",e),this.a=new(be())(e.a,16).toRed(this.red),this.b=new(be())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Nf(_f,xf);var If=_f;function Tf(e,r,t,n){xf.BasePoint.call(this,e,"affine"),null===r&&null===t?(this.x=null,this.y=null,this.inf=!0):(this.x=new(be())(r,16),this.y=new(be())(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Rf(e,r,t,n){xf.BasePoint.call(this,e,"jacobian"),null===r&&null===t&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(be())(0)):(this.x=new(be())(r,16),this.y=new(be())(t,16),this.z=new(be())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}_f.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var r,t;if(e.beta)r=new(be())(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);r=(r=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)t=new(be())(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))?t=i[0]:(t=i[1],kf(0===this.g.mul(t).x.cmp(this.g.x.redMul(r))))}return{beta:r,lambda:t,basis:e.basis?e.basis.map((function(e){return{a:new(be())(e.a,16),b:new(be())(e.b,16)}})):this._getEndoBasis(t)}}},_f.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:be().mont(e),t=new(be())(2).toRed(r).redInvm(),n=t.redNeg(),i=new(be())(3).toRed(r).redNeg().redSqrt().redMul(t);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},_f.prototype._getEndoBasis=function(e){for(var r,t,n,i,o,a,s,u,f,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,h=this.n.clone(),d=new(be())(1),p=new(be())(0),v=new(be())(0),g=new(be())(1),y=0;0!==l.cmpn(0);){var m=h.div(l);u=h.sub(m.mul(l)),f=v.sub(m.mul(d));var b=g.sub(m.mul(p));if(!n&&u.cmp(c)<0)r=s.neg(),t=d,n=u.neg(),i=f;else if(n&&2===++y)break;s=u,h=l,l=u,v=d,d=f,g=p,p=b}o=u.neg(),a=f;var w=n.sqr().add(i.sqr());return o.sqr().add(a.sqr()).cmp(w)>=0&&(o=r,a=t),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:i},{a:o,b:a}]},_f.prototype._endoSplit=function(e){var r=this.endo.basis,t=r[0],n=r[1],i=n.b.mul(e).divRound(this.n),o=t.b.neg().mul(e).divRound(this.n),a=i.mul(t.a),s=o.mul(n.a),u=i.mul(t.b),f=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:u.add(f).neg()}},_f.prototype.pointFromX=function(e,r){(e=new(be())(e,16)).red||(e=e.toRed(this.red));var t=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=t.redSqrt();if(0!==n.redSqr().redSub(t).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(r&&!i||!r&&i)&&(n=n.redNeg()),this.point(e,n)},_f.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,t=e.y,n=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);return 0===t.redSqr().redISub(i).cmpn(0)},_f.prototype._endoWnafMulAdd=function(e,r,t){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),s=e[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),n[2*o]=s,n[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var f=this._wnafMulAdd(1,n,i,2*o,t),c=0;c<2*o;c++)n[c]=null,i[c]=null;return f},Nf(Tf,xf.BasePoint),_f.prototype.point=function(e,r,t){return new Tf(this,e,r,t)},_f.prototype.pointFromJSON=function(e,r){return Tf.fromJSON(this,e,r)},Tf.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var t=this.curve,n=function(e){return t.point(e.x.redMul(t.endo.beta),e.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return r}},Tf.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Tf.fromJSON=function(e,r,t){"string"===typeof r&&(r=JSON.parse(r));var n=e.point(r[0],r[1],t);if(!r[2])return n;function i(r){return e.point(r[0],r[1],t)}var o=r[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Tf.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Tf.prototype.isInfinity=function(){return this.inf},Tf.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var r=this.y.redSub(e.y);0!==r.cmpn(0)&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var t=r.redSqr().redISub(this.x).redISub(e.x),n=r.redMul(this.x.redSub(t)).redISub(this.y);return this.curve.point(t,n)},Tf.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var r=this.curve.a,t=this.x.redSqr(),n=e.redInvm(),i=t.redAdd(t).redIAdd(t).redIAdd(r).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},Tf.prototype.getX=function(){return this.x.fromRed()},Tf.prototype.getY=function(){return this.y.fromRed()},Tf.prototype.mul=function(e){return e=new(be())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Tf.prototype.mulAdd=function(e,r,t){var n=[this,r],i=[e,t];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Tf.prototype.jmulAdd=function(e,r,t){var n=[this,r],i=[e,t];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Tf.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Tf.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var t=this.precomputed,n=function(e){return e.neg()};r.precomputed={naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return r},Tf.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Nf(Rf,xf.BasePoint),_f.prototype.jpoint=function(e,r,t){return new Rf(this,e,r,t)},Rf.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),t=this.x.redMul(r),n=this.y.redMul(r).redMul(e);return this.curve.point(t,n)},Rf.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Rf.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),t=this.z.redSqr(),n=this.x.redMul(r),i=e.x.redMul(t),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(t.redMul(this.z)),s=n.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var f=s.redSqr(),c=f.redMul(s),l=n.redMul(f),h=u.redSqr().redIAdd(c).redISub(l).redISub(l),d=u.redMul(l.redISub(h)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(h,d,p)},Rf.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),t=this.x,n=e.x.redMul(r),i=this.y,o=e.y.redMul(r).redMul(this.z),a=t.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),f=u.redMul(a),c=t.redMul(u),l=s.redSqr().redIAdd(f).redISub(c).redISub(c),h=s.redMul(c.redISub(l)).redISub(i.redMul(f)),d=this.z.redMul(a);return this.curve.jpoint(l,h,d)},Rf.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var t=this;for(r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),f=a.redAdd(a);for(r=0;r<e;r++){var c=o.redSqr(),l=f.redSqr(),h=l.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(u)),p=o.redMul(l),v=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(v),y=d.redMul(g);y=y.redIAdd(y).redISub(h);var m=f.redMul(s);r+1<e&&(u=u.redMul(h)),o=v,s=m,f=y}return this.curve.jpoint(o,f.redMul(i),s)},Rf.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Rf.prototype._zeroDbl=function(){var e,r,t;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(a).redISub(a),f=o.redIAdd(o);f=(f=f.redIAdd(f)).redIAdd(f),e=u,r=s.redMul(a.redISub(u)).redISub(f),t=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),l=this.y.redSqr(),h=l.redSqr(),d=this.x.redAdd(l).redSqr().redISub(c).redISub(h);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),v=p.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),e=v.redISub(d).redISub(d),r=p.redMul(d.redISub(e)).redISub(g),t=(t=this.y.redMul(this.z)).redIAdd(t)}return this.curve.jpoint(e,r,t)},Rf.prototype._threeDbl=function(){var e,r,t;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);e=u;var f=o.redIAdd(o);f=(f=f.redIAdd(f)).redIAdd(f),r=s.redMul(a.redISub(u)).redISub(f),t=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),l=this.y.redSqr(),h=this.x.redMul(l),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),v=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(v),t=this.y.redAdd(this.z).redSqr().redISub(l).redISub(c);var g=l.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),r=d.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,r,t)},Rf.prototype._dbl=function(){var e=this.curve.a,r=this.x,t=this.y,n=this.z,i=n.redSqr().redSqr(),o=r.redSqr(),a=t.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=r.redAdd(r),f=(u=u.redIAdd(u)).redMul(a),c=s.redSqr().redISub(f.redAdd(f)),l=f.redISub(c),h=a.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=s.redMul(l).redISub(h),p=t.redAdd(t).redMul(n);return this.curve.jpoint(c,d,p)},Rf.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),t=this.z.redSqr(),n=r.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var f=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),c=r.redMul(f);c=(c=c.redIAdd(c)).redIAdd(c);var l=this.x.redMul(s).redISub(c);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.y.redMul(f.redMul(u.redISub(f)).redISub(a.redMul(s)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(a).redSqr().redISub(t).redISub(s);return this.curve.jpoint(l,h,d)},Rf.prototype.mul=function(e,r){return e=new(be())(e,r),this.curve._wnafMul(this,e)},Rf.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),t=e.z.redSqr();if(0!==this.x.redMul(t).redISub(e.x.redMul(r)).cmpn(0))return!1;var n=r.redMul(this.z),i=t.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},Rf.prototype.eqXToP=function(e){var r=this.z.redSqr(),t=e.toRed(this.curve.red).redMul(r);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(r);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},Rf.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Rf.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Cf=vf((function(e,r){var t=r;t.base=xf,t.short=If,t.mont=null,t.edwards=null})),Mf=vf((function(e,r){var t,n=r,i=bf.assert;function o(e){"short"===e.type?this.curve=new Cf.short(e):"edwards"===e.type?this.curve=new Cf.edwards(e):this.curve=new Cf.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,r){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var t=new o(r);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:t}),t}})}n.PresetCurve=o,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:sn().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:sn().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:sn().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:sn().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:sn().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:sn().sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:sn().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{t=null.crash()}catch(s){t=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:sn().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",t]})}));function Of(e){if(!(this instanceof Of))return new Of(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var r=mf.toArray(e.entropy,e.entropyEnc||"hex"),t=mf.toArray(e.nonce,e.nonceEnc||"hex"),n=mf.toArray(e.pers,e.persEnc||"hex");gf(r.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(r,t,n)}var Uf=Of;Of.prototype._init=function(e,r,t){var n=e.concat(r).concat(t);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Of.prototype._hmac=function(){return new(sn().hmac)(this.hash,this.K)},Of.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Of.prototype.reseed=function(e,r,t,n){"string"!==typeof r&&(n=t,t=r,r=null),e=mf.toArray(e,r),t=mf.toArray(t,n),gf(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(t||[])),this._reseed=1},Of.prototype.generate=function(e,r,t,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof r&&(n=t,t=r,r=null),t&&(t=mf.toArray(t,n||"hex"),this._update(t));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(t),this._reseed++,mf.encode(o,r)};var Bf=bf.assert;function Ff(e,r){this.ec=e,this.priv=null,this.pub=null,r.priv&&this._importPrivate(r.priv,r.privEnc),r.pub&&this._importPublic(r.pub,r.pubEnc)}var Lf=Ff;Ff.fromPublic=function(e,r,t){return r instanceof Ff?r:new Ff(e,{pub:r,pubEnc:t})},Ff.fromPrivate=function(e,r,t){return r instanceof Ff?r:new Ff(e,{priv:r,privEnc:t})},Ff.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Ff.prototype.getPublic=function(e,r){return"string"===typeof e&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},Ff.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},Ff.prototype._importPrivate=function(e,r){this.priv=new(be())(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},Ff.prototype._importPublic=function(e,r){if(e.x||e.y)return"mont"===this.ec.curve.type?Bf(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Bf(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,r)},Ff.prototype.derive=function(e){return e.validate()||Bf(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Ff.prototype.sign=function(e,r,t){return this.ec.sign(e,this,r,t)},Ff.prototype.verify=function(e,r){return this.ec.verify(e,r,this)},Ff.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Df=bf.assert;function zf(e,r){if(e instanceof zf)return e;this._importDER(e,r)||(Df(e.r&&e.s,"Signature without r or s"),this.r=new(be())(e.r,16),this.s=new(be())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Gf=zf;function Kf(){this.place=0}function jf(e,r){var t=e[r.place++];if(!(128&t))return t;var n=15&t;if(0===n||n>4)return!1;for(var i=0,o=0,a=r.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(r.place=a,i)}function Hf(e){for(var r=0,t=e.length-1;!e[r]&&!(128&e[r+1])&&r<t;)r++;return 0===r?e:e.slice(r)}function qf(e,r){if(r<128)e.push(r);else{var t=1+(Math.log(r)/Math.LN2>>>3);for(e.push(128|t);--t;)e.push(r>>>(t<<3)&255);e.push(r)}}zf.prototype._importDER=function(e,r){e=bf.toArray(e,r);var t=new Kf;if(48!==e[t.place++])return!1;var n=jf(e,t);if(!1===n)return!1;if(n+t.place!==e.length)return!1;if(2!==e[t.place++])return!1;var i=jf(e,t);if(!1===i)return!1;var o=e.slice(t.place,i+t.place);if(t.place+=i,2!==e[t.place++])return!1;var a=jf(e,t);if(!1===a)return!1;if(e.length!==a+t.place)return!1;var s=e.slice(t.place,a+t.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new(be())(o),this.s=new(be())(s),this.recoveryParam=null,!0},zf.prototype.toDER=function(e){var r=this.r.toArray(),t=this.s.toArray();for(128&r[0]&&(r=[0].concat(r)),128&t[0]&&(t=[0].concat(t)),r=Hf(r),t=Hf(t);!t[0]&&!(128&t[1]);)t=t.slice(1);var n=[2];qf(n,r.length),(n=n.concat(r)).push(2),qf(n,t.length);var i=n.concat(t),o=[48];return qf(o,i.length),o=o.concat(i),bf.encode(o,e)};var Zf=function(){throw new Error("unsupported")},Vf=bf.assert;function Wf(e){if(!(this instanceof Wf))return new Wf(e);"string"===typeof e&&(Vf(Object.prototype.hasOwnProperty.call(Mf,e),"Unknown curve "+e),e=Mf[e]),e instanceof Mf.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Jf=Wf;Wf.prototype.keyPair=function(e){return new Lf(this,e)},Wf.prototype.keyFromPrivate=function(e,r){return Lf.fromPrivate(this,e,r)},Wf.prototype.keyFromPublic=function(e,r){return Lf.fromPublic(this,e,r)},Wf.prototype.genKeyPair=function(e){e||(e={});for(var r=new Uf({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Zf(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),t=this.n.byteLength(),n=this.n.sub(new(be())(2));;){var i=new(be())(r.generate(t));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Wf.prototype._truncateToN=function(e,r){var t=8*e.byteLength()-this.n.bitLength();return t>0&&(e=e.ushrn(t)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},Wf.prototype.sign=function(e,r,t,n){"object"===typeof t&&(n=t,t=null),n||(n={}),r=this.keyFromPrivate(r,t),e=this._truncateToN(new(be())(e,16));for(var i=this.n.byteLength(),o=r.getPrivate().toArray("be",i),a=e.toArray("be",i),s=new Uf({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(be())(1)),f=0;;f++){var c=n.k?n.k(f):new(be())(s.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(u)>=0)){var l=this.g.mul(c);if(!l.isInfinity()){var h=l.getX(),d=h.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(r.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var v=(l.getY().isOdd()?1:0)|(0!==h.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),v^=1),new Gf({r:d,s:p,recoveryParam:v})}}}}}},Wf.prototype.verify=function(e,r,t,n){e=this._truncateToN(new(be())(e,16)),t=this.keyFromPublic(t,n);var i=(r=new Gf(r,"hex")).r,o=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,s=o.invm(this.n),u=s.mul(e).umod(this.n),f=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,t.getPublic(),f)).isInfinity()&&a.eqXToP(i):!(a=this.g.mulAdd(u,t.getPublic(),f)).isInfinity()&&0===a.getX().umod(this.n).cmp(i)},Wf.prototype.recoverPubKey=function(e,r,t,n){Vf((3&t)===t,"The recovery param is more than two bits"),r=new Gf(r,n);var i=this.n,o=new(be())(e),a=r.r,s=r.s,u=1&t,f=t>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");a=f?this.curve.pointFromX(a.add(this.curve.n),u):this.curve.pointFromX(a,u);var c=r.r.invm(i),l=i.sub(o).mul(c).umod(i),h=s.mul(c).umod(i);return this.g.mulAdd(l,a,h)},Wf.prototype.getKeyRecoveryParam=function(e,r,t,n){if(null!==(r=new Gf(r,n)).recoveryParam)return r.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,r,i)}catch(e){continue}if(o.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var Xf=vf((function(e,r){var t=r;t.version="6.5.4",t.utils=bf,t.rand=function(){throw new Error("unsupported")},t.curve=Cf,t.curves=Mf,t.ec=Jf,t.eddsa=null})),$f=Xf.ec,Yf=new ce("signing-key/5.7.0"),Qf=null;function ec(){return Qf||(Qf=new $f("secp256k1")),Qf}var rc=function(){function e(r){(0,l.Z)(this,e),Je(this,"curve","secp256k1"),Je(this,"privateKey",Iu(r)),32!==Tu(this.privateKey)&&Yf.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");var t=ec().keyFromPrivate(Pu(this.privateKey));Je(this,"publicKey","0x"+t.getPublic(!1,"hex")),Je(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),Je(this,"_isSigningKey",!0)}return(0,h.Z)(e,[{key:"_addPoint",value:function(e){var r=ec().keyFromPublic(Pu(this.publicKey)),t=ec().keyFromPublic(Pu(e));return"0x"+r.pub.add(t.pub).encodeCompressed("hex")}},{key:"signDigest",value:function(e){var r=ec().keyFromPrivate(Pu(this.privateKey)),t=Pu(e);32!==t.length&&Yf.throwArgumentError("bad digest length","digest",e);var n=r.sign(t,{canonical:!0});return Ou({recoveryParam:n.recoveryParam,r:Mu("0x"+n.r.toString(16),32),s:Mu("0x"+n.s.toString(16),32)})}},{key:"computeSharedSecret",value:function(e){var r=ec().keyFromPrivate(Pu(this.privateKey)),t=ec().keyFromPublic(Pu(tc(e)));return Mu("0x"+r.derive(t.getPublic()).toString(16),32)}}],[{key:"isSigningKey",value:function(e){return!(!e||!e._isSigningKey)}}]),e}();function tc(e,r){var t=Pu(e);if(32===t.length){var n=new rc(t);return r?"0x"+ec().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}return 33===t.length?r?Iu(t):"0x"+ec().keyFromPublic(t).getPublic(!1,"hex"):65===t.length?r?"0x"+ec().keyFromPublic(t).getPublic(!0,"hex"):Iu(t):Yf.throwArgumentError("invalid public or private key","key","[REDACTED]")}var nc,ic=new ce("transactions/5.6.2");!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(nc||(nc={}));var oc=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],ac={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function sc(e){return Qu(Ru(qu(Ru(tc(e),1)),12))}function uc(e,r){var t=Nu(zu.from(e).toHexString());return t.length>32&&ic.throwArgumentError("invalid length for "+r,"transaction:"+r,e),t}function fc(e,r){return{address:Qu(e),storageKeys:(r||[]).map((function(r,t){return 32!==Tu(r)&&ic.throwArgumentError("invalid access list storageKey","accessList[".concat(e,":").concat(t,"]"),r),r.toLowerCase()}))}}function cc(e){if(Array.isArray(e))return e.map((function(e,r){return Array.isArray(e)?(e.length>2&&ic.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value[".concat(r,"]"),e),fc(e[0],e[1])):fc(e.address,e.storageKeys)}));var r=Object.keys(e).map((function(r){var t=e[r].reduce((function(e,r){return e[r]=!0,e}),{});return fc(r,Object.keys(t).sort())}));return r.sort((function(e,r){return e.address.localeCompare(r.address)})),r}function lc(e){return cc(e).map((function(e){return[e.address,e.storageKeys]}))}function hc(e,r){if(null!=e.gasPrice){var t=zu.from(e.gasPrice),n=zu.from(e.maxFeePerGas||0);t.eq(n)||ic.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:n})}var i=[uc(e.chainId||0,"chainId"),uc(e.nonce||0,"nonce"),uc(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),uc(e.maxFeePerGas||0,"maxFeePerGas"),uc(e.gasLimit||0,"gasLimit"),null!=e.to?Qu(e.to):"0x",uc(e.value||0,"value"),e.data||"0x",lc(e.accessList||[])];if(r){var o=Ou(r);i.push(uc(o.recoveryParam,"recoveryParam")),i.push(Nu(o.r)),i.push(Nu(o.s))}return Cu(["0x02",pf(i)])}function dc(e,r){var t=[uc(e.chainId||0,"chainId"),uc(e.nonce||0,"nonce"),uc(e.gasPrice||0,"gasPrice"),uc(e.gasLimit||0,"gasLimit"),null!=e.to?Qu(e.to):"0x",uc(e.value||0,"value"),e.data||"0x",lc(e.accessList||[])];if(r){var n=Ou(r);t.push(uc(n.recoveryParam,"recoveryParam")),t.push(Nu(n.r)),t.push(Nu(n.s))}return Cu(["0x01",pf(t)])}function pc(e,r){var t,n;n=ac,(t=e)&&"object"===typeof t||We.throwArgumentError("invalid object","object",t),Object.keys(t).forEach((function(e){n[e]||We.throwArgumentError("invalid object key - "+e,"transaction:"+e,t)}));var i=[];oc.forEach((function(r){var t=e[r.name]||[],n={};r.numeric&&(n.hexPad="left"),t=Pu(Iu(t,n)),r.length&&t.length!==r.length&&t.length>0&&ic.throwArgumentError("invalid length for "+r.name,"transaction:"+r.name,t),r.maxLength&&(t=Nu(t)).length>r.maxLength&&ic.throwArgumentError("invalid length for "+r.name,"transaction:"+r.name,t),i.push(Iu(t))}));var o=0;if(null!=e.chainId?"number"!==typeof(o=e.chainId)&&ic.throwArgumentError("invalid transaction.chainId","transaction",e):r&&!Eu(r)&&r.v>28&&(o=Math.floor((r.v-35)/2)),0!==o&&(i.push(Iu(o)),i.push("0x"),i.push("0x")),!r)return pf(i);var a=Ou(r),s=27+a.recoveryParam;return 0!==o?(i.pop(),i.pop(),i.pop(),s+=2*o+8,a.v>28&&a.v!==s&&ic.throwArgumentError("transaction.chainId/signature.v mismatch","signature",r)):a.v!==s&&ic.throwArgumentError("transaction.chainId/signature.v mismatch","signature",r),i.push(Iu(s)),i.push(Nu(Pu(a.r))),i.push(Nu(Pu(a.s))),pf(i)}function vc(e,r){if(null==e.type||0===e.type)return null!=e.accessList&&ic.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),pc(e,r);switch(e.type){case 1:return dc(e,r);case 2:return hc(e,r)}return ic.throwError("unsupported transaction type: ".concat(e.type),ce.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}var gc=function(e,r,t,n){return new(t||(t=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(r){o(r)}}function s(e){try{u(n.throw(e))}catch(r){o(r)}}function u(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}u((n=n.apply(e,r||[])).next())}))},yc=new ce("wallet/5.6.0");var mc=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(e,n){var i,o;if((0,l.Z)(this,t),yc.checkNew(this instanceof t?this.constructor:void 0,t),i=r.call(this),null!=(o=e)&&R(o.privateKey,32)&&null!=o.address){var a=new ra(e.privateKey);if(Je((0,Y.Z)(i),"_signingKey",(function(){return a})),Je((0,Y.Z)(i),"address",sc(i.publicKey)),i.address!==Ie(e.address)&&yc.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){var r=e.mnemonic;return r&&r.phrase}(e)){var s=e.mnemonic;Je((0,Y.Z)(i),"_mnemonic",(function(){return{phrase:s.phrase,path:s.path||Ui,locale:s.locale||"en"}}));var u=i.mnemonic;sc(Bi.fromMnemonic(u.phrase,null,u.locale).derivePath(u.path).privateKey)!==i.address&&yc.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Je((0,Y.Z)(i),"_mnemonic",(function(){return null}))}else{if(ra.isSigningKey(e))"secp256k1"!==e.curve&&yc.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Je((0,Y.Z)(i),"_signingKey",(function(){return e}));else{"string"===typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);var f=new ra(e);Je((0,Y.Z)(i),"_signingKey",(function(){return f}))}Je((0,Y.Z)(i),"_mnemonic",(function(){return null})),Je((0,Y.Z)(i),"address",sc(i.publicKey))}return n&&!or.isProvider(n)&&yc.throwArgumentError("invalid provider","provider",n),Je((0,Y.Z)(i),"provider",n||null),i}return(0,h.Z)(t,[{key:"mnemonic",get:function(){return this._mnemonic()}},{key:"privateKey",get:function(){return this._signingKey().privateKey}},{key:"publicKey",get:function(){return this._signingKey().publicKey}},{key:"getAddress",value:function(){return Promise.resolve(this.address)}},{key:"connect",value:function(e){return new t(this,e)}},{key:"signTransaction",value:function(e){var r=this;return Xe(e).then((function(t){null!=t.from&&(Ie(t.from)!==r.address&&yc.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);var n=r._signingKey().signDigest(Zi(vc(t)));return vc(t,n)}))}},{key:"signMessage",value:function(e){return gc(this,void 0,void 0,(0,$.Z)().mark((function r(){return(0,$.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",B(this._signingKey().signDigest(Br(e))));case 1:case"end":return r.stop()}}),r,this)})))}},{key:"_signTypedData",value:function(e,r,t){return gc(this,void 0,void 0,(0,$.Z)().mark((function n(){var i,o=this;return(0,$.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,yt.resolveNames(e,r,t,(function(e){return null==o.provider&&yc.throwError("cannot resolve ENS names without a provider",ce.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),o.provider.resolveName(e)}));case 2:return i=n.sent,n.abrupt("return",B(this._signingKey().signDigest(yt.hash(i.domain,r,i.value))));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"encrypt",value:function(e,r,t){if("function"!==typeof r||t||(t=r,r={}),t&&"function"!==typeof t)throw new Error("invalid callback");return r||(r={}),function(e,r,t,n){try{if(Fa(e.address)!==ks(e.privateKey))throw new Error("address/privateKey mismatch");if(au(e)){var i=e.mnemonic;if(qs.fromMnemonic(i.phrase,null,i.locale).derivePath(i.path||Hs).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(m){return Promise.reject(m)}"function"!==typeof t||n||(n=t,t={}),t||(t={});var o=la(e.privateKey),a=eu(r),s=null,u=null,f=null;if(au(e)){var c=e.mnemonic;s=la(Zs(c.phrase,c.locale||"en")),u=c.path||Hs,f=c.locale||"en"}var l=t.client;l||(l="ethers.js");var h=null;h=t.salt?la(t.salt):$s(32);var d=null;if(t.iv){if(16!==(d=la(t.iv)).length)throw new Error("invalid iv")}else d=$s(16);var p=null;if(t.uuid){if(16!==(p=la(t.uuid)).length)throw new Error("invalid uuid")}else p=$s(16);var v=1<<17,g=8,y=1;return t.scrypt&&(t.scrypt.N&&(v=t.scrypt.N),t.scrypt.r&&(g=t.scrypt.r),t.scrypt.p&&(y=t.scrypt.p)),oa().scrypt(a,h,v,g,y,64,n).then((function(r){var t=(r=la(r)).slice(0,16),n=r.slice(16,32),i=r.slice(32,64),a=new(na().Counter)(d),c=la(new(na().ModeOfOperation.ctr)(t,a).encrypt(o)),m=Ia(ha([n,c])),b={address:e.address.substring(2).toLowerCase(),id:tu(p),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:va(d).substring(2)},ciphertext:va(c).substring(2),kdf:"scrypt",kdfparams:{salt:va(h).substring(2),n:v,dklen:32,p:y,r:g},mac:m.substring(2)}};if(s){var w=$s(16),A=new(na().Counter)(w),E=la(new(na().ModeOfOperation.ctr)(i,A).encrypt(s)),S=new Date,x=S.getUTCFullYear()+"-"+Qs(S.getUTCMonth()+1,2)+"-"+Qs(S.getUTCDate(),2)+"T"+Qs(S.getUTCHours(),2)+"-"+Qs(S.getUTCMinutes(),2)+"-"+Qs(S.getUTCSeconds(),2)+".0Z";b["x-ethers"]={client:l,gethFilename:"UTC--"+x+"--"+b.address,mnemonicCounter:va(w).substring(2),mnemonicCiphertext:va(E).substring(2),path:u,locale:f,version:"0.1"}}return JSON.stringify(b)}))}(this,e,r,t)}}],[{key:"createRandom",value:function(e){var r,n,i,o=function(e){(e<=0||e>1024||e%1||e!=e)&&eo.throwArgumentError("invalid length","length",e);var r=new Uint8Array(e);return to.getRandomValues(r),Yi(r)}(16);e||(e={}),e.extraEntropy&&(o=_((r=Zi(I([o,e.extraEntropy])),n=0,i=16,"string"!==typeof r?r=M(r):(!R(r)||r.length%2)&&S.throwArgumentError("invalid hexData","value",r),n=2+2*n,null!=i?"0x"+r.substring(n,2+2*i):"0x"+r.substring(n))));var a=Li(o,e.locale);return t.fromMnemonic(a,e.path,e.locale)}},{key:"fromEncryptedJson",value:function(e,r,n){return yu(e,r,n).then((function(e){return new t(e)}))}},{key:"fromEncryptedJsonSync",value:function(e,r){return new t(mu(e,r))}},{key:"fromMnemonic",value:function(e,r,n){return r||(r=Ui),new t(Bi.fromMnemonic(e,null,n).derivePath(r))}}]),t}(cr);var bc=t(41399),wc=t(30261).Buffer,Ac=function(e){return"0x"+c().keccak_256(_(e))};function Ec(e){var r=function(e){if(e){if(!wc.isBuffer(e))throw new Error("EthCrypto.createPrivateKey(): given entropy is no Buffer");if(wc.byteLength(e,"utf8")<128)throw new Error("EthCrypto.createPrivateKey(): Entropy-size must be at least 128");return Ac(e)}var r=Ac(I([X(32),X(32)])),t=I([I([X(32),r]),X(32)]);return Ac(t)}(e),t=new mc(r);return{privateKey:r,publicKey:(0,bc.stripHexPrefix)(t.publicKey).slice(2),address:t.address}}var Sc=t(13689),xc=t(30261).Buffer;function Pc(e){return e.startsWith("0x")?e.substring(2):e}function Nc(e){return e.startsWith("0x")?e:"0x"+e}function kc(e){return xc.from(e).toString("hex")}function _c(e){return new Uint8Array(xc.from(e,"hex"))}var Ic=t(30261).Buffer;function Tc(e){return 64===Ic.from(e,"hex").length&&(e="04"+e),kc((0,Sc.publicKeyConvert)(_c(e),!0))}function Rc(e){64===Ic.from(e,"hex").length&&(e="04"+e);var r=kc((0,Sc.publicKeyConvert)(_c(e),!1));return r=r.substring(2)}function Cc(e){e=Rc(e);var r=(0,bc.pubToAddress)((0,bc.toBuffer)(Nc(e)));return(0,bc.toChecksumAddress)(Nc(r.toString("hex")))}var Mc=t(1538),Oc=t(30261).Buffer;function Uc(e){if("string"===typeof e)return e;var r=Tc(e.ephemPublicKey);return Oc.concat([Oc.from(e.iv,"hex"),Oc.from(r,"hex"),Oc.from(e.mac,"hex"),Oc.from(e.ciphertext,"hex")]).toString("hex")}function Bc(e){if("string"!==typeof e)return e;var r=Oc.from(e,"hex"),t={iv:r.toString("hex",0,16),ephemPublicKey:r.toString("hex",16,49),mac:r.toString("hex",49,81),ciphertext:r.toString("hex",81,r.length)};return t.ephemPublicKey="04"+Rc(t.ephemPublicKey),t}var Fc=t(30261).Buffer;function Lc(e,r){r=Bc(r);var t=Pc(e),n={iv:Fc.from(r.iv,"hex"),ephemPublicKey:Fc.from(r.ephemPublicKey,"hex"),ciphertext:Fc.from(r.ciphertext,"hex"),mac:Fc.from(r.mac,"hex")};return(0,Mc.pe)(Fc.from(t,"hex"),n).then((function(e){return e.toString()}))}var Dc=t(30261).Buffer;function zc(e,r,t){var n="04"+(e=Rc(e));return(0,Mc.HI)(Dc.from(n,"hex"),Dc.from(r),t||{}).then((function(e){return{iv:e.iv.toString("hex"),ephemPublicKey:e.ephemPublicKey.toString("hex"),ciphertext:e.ciphertext.toString("hex"),mac:e.mac.toString("hex")}}))}function Gc(e){return e=Nc(e),(0,bc.privateToPublic)((0,bc.toBuffer)(e)).toString("hex")}function Kc(e,r){var t=(e=Pc(e)).substring(0,e.length-2),n="1c"===e.slice(-2)?1:0,i=kc((0,Sc.ecdsaRecover)(_c(t),n,_c(Pc(r)),!1));return i=i.slice(2)}function jc(e,r){return Cc(Kc(e,r))}var Hc=t(30261).Buffer;function qc(e,r){if(66!==(r=Nc(r)).length)throw new Error("EthCrypto.sign(): Can only sign hashes, given: "+r);var t=(0,Sc.ecdsaSign)(new Uint8Array(Hc.from(Pc(r),"hex")),new Uint8Array(Hc.from(Pc(e),"hex"))),n=1===t.recid?"1c":"1b";return"0x"+Hc.from(t.signature).toString("hex")+n}var Zc=t(21846),Vc=t(30261).Buffer;function Wc(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Gc(r),i=Cc(n);if(i!=e.from)throw new Error("EthCrypto.signTransaction(): rawTx.from does not match the address of the privateKey");var o=Vc.from(r.replace(/^.{2}/g,""),"hex"),a=Zc.Transaction.fromTxData(e,t),s=a.sign(o),u=s.serialize().toString("hex");return u}function Jc(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Xc(e){return function(e){if(Array.isArray(e))return Jc(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"===typeof e)return Jc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Jc(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $c=t(19961),Yc=t(12731),Qc=t(70886),el=!1,rl=!1,tl={debug:1,default:2,info:2,warning:3,error:4,off:5},nl=tl.default,il=null;var ol,al,sl=function(){try{var e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((function(r){try{if("test"!=="test".normalize(r))throw new Error("bad normalize")}catch(t){e.push(r)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(ol||(ol={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(al||(al={}));var ul="0123456789abcdef",fl=function(){function e(r){(0,l.Z)(this,e),Object.defineProperty(this,"version",{enumerable:!0,value:r,writable:!1})}return(0,h.Z)(e,[{key:"_log",value:function(e,r){var t=e.toLowerCase();null==tl[t]&&this.throwArgumentError("invalid log level name","logLevel",e),nl>tl[t]||console.log.apply(console,r)}},{key:"debug",value:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];this._log(e.levels.DEBUG,t)}},{key:"info",value:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];this._log(e.levels.INFO,t)}},{key:"warn",value:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];this._log(e.levels.WARNING,t)}},{key:"makeError",value:function(r,t,n){if(rl)return this.makeError("censored error",t,{});t||(t=e.errors.UNKNOWN_ERROR),n||(n={});var i=[];Object.keys(n).forEach((function(e){var r=n[e];try{if(r instanceof Uint8Array){for(var t="",o=0;o<r.length;o++)t+=ul[r[o]>>4],t+=ul[15&r[o]];i.push(e+"=Uint8Array(0x"+t+")")}else i.push(e+"="+JSON.stringify(r))}catch(u){i.push(e+"="+JSON.stringify(n[e].toString()))}})),i.push("code=".concat(t)),i.push("version=".concat(this.version));var o=r,a="";switch(t){case al.NUMERIC_FAULT:a="NUMERIC_FAULT";var s=r;switch(s){case"overflow":case"underflow":case"division-by-zero":a+="-"+s;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result"}break;case al.CALL_EXCEPTION:case al.INSUFFICIENT_FUNDS:case al.MISSING_NEW:case al.NONCE_EXPIRED:case al.REPLACEMENT_UNDERPRICED:case al.TRANSACTION_REPLACED:case al.UNPREDICTABLE_GAS_LIMIT:a=t}a&&(r+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(r+=" ("+i.join(", ")+")");var u=new Error(r);return u.reason=o,u.code=t,Object.keys(n).forEach((function(e){u[e]=n[e]})),u}},{key:"throwError",value:function(e,r,t){throw this.makeError(e,r,t)}},{key:"throwArgumentError",value:function(r,t,n){return this.throwError(r,e.errors.INVALID_ARGUMENT,{argument:t,value:n})}},{key:"assert",value:function(e,r,t,n){e||this.throwError(r,t,n)}},{key:"assertArgument",value:function(e,r,t,n){e||this.throwArgumentError(r,t,n)}},{key:"checkNormalize",value:function(r){null==r&&(r="platform missing String.prototype.normalize"),sl&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:sl})}},{key:"checkSafeUint53",value:function(r,t){"number"===typeof r&&(null==t&&(t="value not safe"),(r<0||r>=9007199254740991)&&this.throwError(t,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:r}),r%1&&this.throwError(t,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:r}))}},{key:"checkArgumentCount",value:function(r,t,n){n=n?": "+n:"",r<t&&this.throwError("missing argument"+n,e.errors.MISSING_ARGUMENT,{count:r,expectedCount:t}),r>t&&this.throwError("too many arguments"+n,e.errors.UNEXPECTED_ARGUMENT,{count:r,expectedCount:t})}},{key:"checkNew",value:function(r,t){r!==Object&&null!=r||this.throwError("missing new",e.errors.MISSING_NEW,{name:t.name})}},{key:"checkAbstract",value:function(r,t){r===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:r.name,operation:"new"}):r!==Object&&null!=r||this.throwError("missing new",e.errors.MISSING_NEW,{name:t.name})}}],[{key:"globalLogger",value:function(){return il||(il=new e("logger/5.7.0")),il}},{key:"setCensorship",value:function(r,t){if(!r&&t&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),el){if(!r)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}rl=!!r,el=!!t}},{key:"setLogLevel",value:function(r){var t=tl[r.toLowerCase()];null!=t?nl=t:e.globalLogger().warn("invalid log level - "+r)}},{key:"from",value:function(r){return new e(r)}}]),e}();fl.errors=al,fl.levels=ol;var cl=new fl("bytes/5.7.0");function ll(e){return!!e.toHexString}function hl(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return hl(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function dl(e){return"number"===typeof e&&e==e&&e%1===0}function pl(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!dl(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!dl(t)||t<0||t>=256)return!1}return!0}function vl(e,r){if(r||(r={}),"number"===typeof e){cl.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),hl(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),ll(e)&&(e=e.toHexString()),yl(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":cl.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return hl(new Uint8Array(i))}return pl(e)?hl(new Uint8Array(e)):cl.throwArgumentError("invalid arrayify value","value",e)}function gl(e){var r=e.map((function(e){return vl(e)})),t=r.reduce((function(e,r){return e+r.length}),0),n=new Uint8Array(t);return r.reduce((function(e,r){return n.set(r,e),e+r.length}),0),hl(n)}function yl(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var ml="0123456789abcdef";function bl(e,r){if(r||(r={}),"number"===typeof e){cl.checkSafeUint53(e,"invalid hexlify value");for(var t="";e;)t=ml[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),ll(e))return e.toHexString();if(yl(e))return e.length%2&&("left"===r.hexPad?e="0x0"+e.substring(2):"right"===r.hexPad?e+="0":cl.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(pl(e)){for(var n="0x",i=0;i<e.length;i++){var o=e[i];n+=ml[(240&o)>>4]+ml[15&o]}return n}return cl.throwArgumentError("invalid hexlify value","value",e)}function wl(e,r){for("string"!==typeof e?e=bl(e):yl(e)||cl.throwArgumentError("invalid hex string","value",e),e.length>2*r+2&&cl.throwArgumentError("value out of range","value",arguments[1]);e.length<2*r+2;)e="0x0"+e.substring(2);return e}var Al=be().BN,El=new fl("bignumber/5.7.0"),Sl={},xl=9007199254740991;var Pl=!1,Nl=function(){function e(r,t){(0,l.Z)(this,e),r!==Sl&&El.throwError("cannot call constructor directly; use BigNumber.from",fl.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}return(0,h.Z)(e,[{key:"fromTwos",value:function(e){return _l(Il(this).fromTwos(e))}},{key:"toTwos",value:function(e){return _l(Il(this).toTwos(e))}},{key:"abs",value:function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this}},{key:"add",value:function(e){return _l(Il(this).add(Il(e)))}},{key:"sub",value:function(e){return _l(Il(this).sub(Il(e)))}},{key:"div",value:function(r){return e.from(r).isZero()&&Tl("division-by-zero","div"),_l(Il(this).div(Il(r)))}},{key:"mul",value:function(e){return _l(Il(this).mul(Il(e)))}},{key:"mod",value:function(e){var r=Il(e);return r.isNeg()&&Tl("division-by-zero","mod"),_l(Il(this).umod(r))}},{key:"pow",value:function(e){var r=Il(e);return r.isNeg()&&Tl("negative-power","pow"),_l(Il(this).pow(r))}},{key:"and",value:function(e){var r=Il(e);return(this.isNegative()||r.isNeg())&&Tl("unbound-bitwise-result","and"),_l(Il(this).and(r))}},{key:"or",value:function(e){var r=Il(e);return(this.isNegative()||r.isNeg())&&Tl("unbound-bitwise-result","or"),_l(Il(this).or(r))}},{key:"xor",value:function(e){var r=Il(e);return(this.isNegative()||r.isNeg())&&Tl("unbound-bitwise-result","xor"),_l(Il(this).xor(r))}},{key:"mask",value:function(e){return(this.isNegative()||e<0)&&Tl("negative-width","mask"),_l(Il(this).maskn(e))}},{key:"shl",value:function(e){return(this.isNegative()||e<0)&&Tl("negative-width","shl"),_l(Il(this).shln(e))}},{key:"shr",value:function(e){return(this.isNegative()||e<0)&&Tl("negative-width","shr"),_l(Il(this).shrn(e))}},{key:"eq",value:function(e){return Il(this).eq(Il(e))}},{key:"lt",value:function(e){return Il(this).lt(Il(e))}},{key:"lte",value:function(e){return Il(this).lte(Il(e))}},{key:"gt",value:function(e){return Il(this).gt(Il(e))}},{key:"gte",value:function(e){return Il(this).gte(Il(e))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return Il(this).isZero()}},{key:"toNumber",value:function(){try{return Il(this).toNumber()}catch(e){Tl("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(e){}return El.throwError("this platform does not support BigInt",fl.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?Pl||(Pl=!0,El.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?El.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",fl.errors.UNEXPECTED_ARGUMENT,{}):El.throwError("BigNumber.toString does not accept parameters",fl.errors.UNEXPECTED_ARGUMENT,{})),Il(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(e){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(r){if(r instanceof e)return r;if("string"===typeof r)return r.match(/^-?0x[0-9a-f]+$/i)?new e(Sl,kl(r)):r.match(/^-?[0-9]+$/)?new e(Sl,kl(new Al(r))):El.throwArgumentError("invalid BigNumber string","value",r);if("number"===typeof r)return r%1&&Tl("underflow","BigNumber.from",r),(r>=xl||r<=-9007199254740991)&&Tl("overflow","BigNumber.from",r),e.from(String(r));var t=r;if("bigint"===typeof t)return e.from(t.toString());if(pl(t))return e.from(bl(t));if(t)if(t.toHexString){var n=t.toHexString();if("string"===typeof n)return e.from(n)}else{var i=t._hex;if(null==i&&"BigNumber"===t.type&&(i=t.hex),"string"===typeof i&&(yl(i)||"-"===i[0]&&yl(i.substring(1))))return e.from(i)}return El.throwArgumentError("invalid BigNumber value","value",r)}},{key:"isBigNumber",value:function(e){return!(!e||!e._isBigNumber)}}]),e}();function kl(e){if("string"!==typeof e)return kl(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&El.throwArgumentError("invalid hex","value",e),"0x00"===(e=kl(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function _l(e){return Nl.from(kl(e))}function Il(e){var r=Nl.from(e).toHexString();return"-"===r[0]?new Al("-"+r.substring(3),16):new Al(r.substring(2),16)}function Tl(e,r,t){var n={fault:e,operation:r};return null!=t&&(n.value=t),El.throwError(e,fl.errors.NUMERIC_FAULT,n)}var Rl=function(e,r,t,n){return new(t||(t=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(r){o(r)}}function s(e){try{u(n.throw(e))}catch(r){o(r)}}function u(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}u((n=n.apply(e,r||[])).next())}))},Cl=new fl("properties/5.7.0");function Ml(e,r,t){Object.defineProperty(e,r,{enumerable:!0,value:t,writable:!1})}function Ol(e,r){for(var t=0;t<32;t++){if(e[r])return e[r];if(!e.prototype||"object"!==typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function Ul(e){return Rl(this,void 0,void 0,(0,$.Z)().mark((function r(){var t,n;return(0,$.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=Object.keys(e).map((function(r){var t=e[r];return Promise.resolve(t).then((function(e){return{key:r,value:e}}))})),r.next=3,Promise.all(t);case 3:return n=r.sent,r.abrupt("return",n.reduce((function(e,r){return e[r.key]=r.value,e}),{}));case 5:case"end":return r.stop()}}),r)})))}function Bl(e){var r={};for(var t in e)r[t]=e[t];return r}var Fl={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Ll(e){if(void 0===e||null===e||Fl[typeof e])return!0;if(Array.isArray(e)||"object"===typeof e){if(!Object.isFrozen(e))return!1;for(var r=Object.keys(e),t=0;t<r.length;t++){var n=null;try{n=e[r[t]]}catch(i){continue}if(!Ll(n))return!1}return!0}return Cl.throwArgumentError("Cannot deepCopy ".concat(typeof e),"object",e)}function Dl(e){if(Ll(e))return e;if(Array.isArray(e))return Object.freeze(e.map((function(e){return zl(e)})));if("object"===typeof e){var r={};for(var t in e){var n=e[t];void 0!==n&&Ml(r,t,zl(n))}return r}return Cl.throwArgumentError("Cannot deepCopy ".concat(typeof e),"object",e)}function zl(e){return Dl(e)}var Gl=(0,h.Z)((function e(r){for(var t in(0,l.Z)(this,e),r)this[t]=zl(r[t])})),Kl="abi/5.6.4",jl=new fl(Kl);var Hl=function(){function e(r,t,n,i){(0,l.Z)(this,e),this.name=r,this.type=t,this.localName=n,this.dynamic=i}return(0,h.Z)(e,[{key:"_throwError",value:function(e,r){jl.throwArgumentError(e,this.localName,r)}}]),e}(),ql=function(){function e(r){(0,l.Z)(this,e),Ml(this,"wordSize",r||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(r)}return(0,h.Z)(e,[{key:"data",get:function(){return function(e){var r="0x";return e.forEach((function(e){r+=bl(e).substring(2)})),r}(this._data)}},{key:"length",get:function(){return this._dataLength}},{key:"_writeData",value:function(e){return this._data.push(e),this._dataLength+=e.length,e.length}},{key:"appendWriter",value:function(e){return this._writeData(gl(e._data))}},{key:"writeBytes",value:function(e){var r=vl(e),t=r.length%this.wordSize;return t&&(r=gl([r,this._padding.slice(t)])),this._writeData(r)}},{key:"_getValue",value:function(e){var r=vl(Nl.from(e));return r.length>this.wordSize&&jl.throwError("value out-of-bounds",fl.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=gl([this._padding.slice(r.length%this.wordSize),r])),r}},{key:"writeValue",value:function(e){return this._writeData(this._getValue(e))}},{key:"writeUpdatableValue",value:function(){var e=this,r=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,function(t){e._data[r]=e._getValue(t)}}}]),e}(),Zl=function(){function e(r,t,n,i){(0,l.Z)(this,e),Ml(this,"_data",vl(r)),Ml(this,"wordSize",t||32),Ml(this,"_coerceFunc",n),Ml(this,"allowLoose",i),this._offset=0}return(0,h.Z)(e,[{key:"data",get:function(){return bl(this._data)}},{key:"consumed",get:function(){return this._offset}},{key:"coerce",value:function(r,t){return this._coerceFunc?this._coerceFunc(r,t):e.coerce(r,t)}},{key:"_peekBytes",value:function(e,r,t){var n=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&t&&this._offset+r<=this._data.length?n=r:jl.throwError("data out-of-bounds",fl.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}},{key:"subReader",value:function(r){return new e(this._data.slice(this._offset+r),this.wordSize,this._coerceFunc,this.allowLoose)}},{key:"readBytes",value:function(e,r){var t=this._peekBytes(0,e,!!r);return this._offset+=t.length,t.slice(0,e)}},{key:"readValue",value:function(){return Nl.from(this.readBytes(this.wordSize))}}],[{key:"coerce",value:function(e,r){var t=e.match("^u?int([0-9]+)$");return t&&parseInt(t[1])<=48&&(r=r.toNumber()),r}}]),e}(),Vl=new fl("bytes/5.7.0");function Wl(e){return!!e.toHexString}function Jl(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return Jl(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function Xl(e){return"number"===typeof e&&e==e&&e%1===0}function $l(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Xl(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!Xl(t)||t<0||t>=256)return!1}return!0}function Yl(e,r){if(r||(r={}),"number"===typeof e){Vl.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Jl(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Wl(e)&&(e=e.toHexString()),Ql(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":Vl.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return Jl(new Uint8Array(i))}return $l(e)?Jl(new Uint8Array(e)):Vl.throwArgumentError("invalid arrayify value","value",e)}function Ql(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}function eh(e){return"0x"+c().keccak_256(Yl(e))}var rh=new fl("address/5.7.0");function th(e){yl(e,20)||rh.throwArgumentError("invalid address","address",e);for(var r=(e=e.toLowerCase()).substring(2).split(""),t=new Uint8Array(40),n=0;n<40;n++)t[n]=r[n].charCodeAt(0);for(var i=vl(eh(t)),o=0;o<40;o+=2)i[o>>1]>>4>=8&&(r[o]=r[o].toUpperCase()),(15&i[o>>1])>=8&&(r[o+1]=r[o+1].toUpperCase());return"0x"+r.join("")}for(var nh={},ih=0;ih<10;ih++)nh[String(ih)]=String(ih);for(var oh=0;oh<26;oh++)nh[String.fromCharCode(65+oh)]=String(10+oh);var ah=Math.floor(function(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}(9007199254740991));function sh(e){for(var r=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((function(e){return nh[e]})).join("");r.length>=ah;){var t=r.substring(0,ah);r=parseInt(t,10)%97+r.substring(t.length)}for(var n=String(98-parseInt(r,10)%97);n.length<2;)n="0"+n;return n}function uh(e){var r,t=null;if("string"!==typeof e&&rh.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=th(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&rh.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==sh(e)&&rh.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new Al(r,36).toString(16);t.length<40;)t="0"+t;t=th("0x"+t)}else rh.throwArgumentError("invalid address","address",e);return t}var fh=new fl("bytes/5.7.0");function ch(e){return!!e.toHexString}function lh(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return lh(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function hh(e){return"number"===typeof e&&e==e&&e%1===0}function dh(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!hh(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!hh(t)||t<0||t>=256)return!1}return!0}function ph(e,r){if(r||(r={}),"number"===typeof e){fh.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),lh(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),ch(e)&&(e=e.toHexString()),vh(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":fh.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return lh(new Uint8Array(i))}return dh(e)?lh(new Uint8Array(e)):fh.throwArgumentError("invalid arrayify value","value",e)}function vh(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var gh,yh,mh=new fl("strings/5.7.0");function bh(e,r,t,n,i){if(e===yh.BAD_PREFIX||e===yh.UNEXPECTED_CONTINUE){for(var o=0,a=r+1;a<t.length&&t[a]>>6===2;a++)o++;return o}return e===yh.OVERRUN?t.length-r-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(gh||(gh={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(yh||(yh={}));var wh=Object.freeze({error:function(e,r,t,n,i){return mh.throwArgumentError("invalid codepoint at offset ".concat(r,"; ").concat(e),"bytes",t)},ignore:bh,replace:function(e,r,t,n,i){return e===yh.OVERLONG?(n.push(i),0):(n.push(65533),bh(e,r,t))}});function Ah(e,r){null==r&&(r=wh.error),e=ph(e);for(var t=[],n=0;n<e.length;){var i=e[n++];if(i>>7!==0){var o=null,a=null;if(192===(224&i))o=1,a=127;else if(224===(240&i))o=2,a=2047;else{if(240!==(248&i)){n+=r(128===(192&i)?yh.UNEXPECTED_CONTINUE:yh.BAD_PREFIX,n-1,e,t);continue}o=3,a=65535}if(n-1+o>=e.length)n+=r(yh.OVERRUN,n-1,e,t);else{for(var s=i&(1<<8-o-1)-1,u=0;u<o;u++){var f=e[n];if(128!=(192&f)){n+=r(yh.MISSING_CONTINUE,n,e,t),s=null;break}s=s<<6|63&f,n++}null!==s&&(s>1114111?n+=r(yh.OUT_OF_RANGE,n-1-o,e,t,s):s>=55296&&s<=57343?n+=r(yh.UTF16_SURROGATE,n-1-o,e,t,s):s<=a?n+=r(yh.OVERLONG,n-1-o,e,t,s):t.push(s))}}else t.push(i)}return t}function Eh(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gh.current;r!=gh.current&&(mh.checkNormalize(),e=e.normalize(r));for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(63&i|128);else if(55296==(64512&i)){n++;var o=e.charCodeAt(n);if(n>=e.length||56320!==(64512&o))throw new Error("invalid utf-8 string");var a=65536+((1023&i)<<10)+(1023&o);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(63&a|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(63&i|128)}return ph(t)}function Sh(e,r){return Ah(e,r).map((function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))})).join("")}function xh(e){return eh(Eh(e))}var Ph=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(e){return(0,l.Z)(this,t),r.call(this,"address","address",e,!1)}return(0,h.Z)(t,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000"}},{key:"encode",value:function(e,r){try{r=uh(r)}catch(t){this._throwError(t.message,r)}return e.writeValue(r)}},{key:"decode",value:function(e){return uh(wl(e.readValue().toHexString(),20))}}]),t}(Hl),Nh=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(e){var n;return(0,l.Z)(this,t),(n=r.call(this,e.name,e.type,void 0,e.dynamic)).coder=e,n}return(0,h.Z)(t,[{key:"defaultValue",value:function(){return this.coder.defaultValue()}},{key:"encode",value:function(e,r){return this.coder.encode(e,r)}},{key:"decode",value:function(e){return this.coder.decode(e)}}]),t}(Hl),kh=new fl(Kl);function _h(e,r,t){var n=null;if(Array.isArray(t))n=t;else if(t&&"object"===typeof t){var i={};n=r.map((function(e){var r=e.localName;return r||kh.throwError("cannot encode object for signature with missing names",fl.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:t}),i[r]&&kh.throwError("cannot encode object for signature with duplicate names",fl.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:t}),i[r]=!0,t[r]}))}else kh.throwArgumentError("invalid tuple value","tuple",t);r.length!==n.length&&kh.throwArgumentError("types/value length mismatch","tuple",t);var o=new ql(e.wordSize),a=new ql(e.wordSize),s=[];r.forEach((function(e,r){var t=n[r];if(e.dynamic){var i=a.length;e.encode(a,t);var u=o.writeUpdatableValue();s.push((function(e){u(e+i)}))}else e.encode(o,t)})),s.forEach((function(e){e(o.length)}));var u=e.appendWriter(o);return u+=e.appendWriter(a)}function Ih(e,r){var t=[],n=e.subReader(0);r.forEach((function(r){var i=null;if(r.dynamic){var o=e.readValue(),a=n.subReader(o.toNumber());try{i=r.decode(a)}catch(s){if(s.code===fl.errors.BUFFER_OVERRUN)throw s;(i=s).baseType=r.name,i.name=r.localName,i.type=r.type}}else try{i=r.decode(e)}catch(s){if(s.code===fl.errors.BUFFER_OVERRUN)throw s;(i=s).baseType=r.name,i.name=r.localName,i.type=r.type}void 0!=i&&t.push(i)}));var i=r.reduce((function(e,r){var t=r.localName;return t&&(e[t]||(e[t]=0),e[t]++),e}),{});r.forEach((function(e,r){var n=e.localName;if(n&&1===i[n]&&("length"===n&&(n="_length"),null==t[n])){var o=t[r];o instanceof Error?Object.defineProperty(t,n,{enumerable:!0,get:function(){throw o}}):t[n]=o}}));for(var o=function(e){var r=t[e];r instanceof Error&&Object.defineProperty(t,e,{enumerable:!0,get:function(){throw r}})},a=0;a<t.length;a++)o(a);return Object.freeze(t)}var Th=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(e,n,i){var o;(0,l.Z)(this,t);var a=e.type+"["+(n>=0?n:"")+"]",s=-1===n||e.dynamic;return(o=r.call(this,"array",a,i,s)).coder=e,o.length=n,o}return(0,h.Z)(t,[{key:"defaultValue",value:function(){for(var e=this.coder.defaultValue(),r=[],t=0;t<this.length;t++)r.push(e);return r}},{key:"encode",value:function(e,r){Array.isArray(r)||this._throwError("expected array value",r);var t=this.length;-1===t&&(t=r.length,e.writeValue(r.length)),kh.checkArgumentCount(r.length,t,"coder array"+(this.localName?" "+this.localName:""));for(var n=[],i=0;i<r.length;i++)n.push(this.coder);return _h(e,n,r)}},{key:"decode",value:function(e){var r=this.length;-1===r&&32*(r=e.readValue().toNumber())>e._data.length&&kh.throwError("insufficient data length",fl.errors.BUFFER_OVERRUN,{length:e._data.length,count:r});for(var t=[],n=0;n<r;n++)t.push(new Nh(this.coder));return e.coerce(this.name,Ih(e,t))}}]),t}(Hl),Rh=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(e){return(0,l.Z)(this,t),r.call(this,"bool","bool",e,!1)}return(0,h.Z)(t,[{key:"defaultValue",value:function(){return!1}},{key:"encode",value:function(e,r){return e.writeValue(r?1:0)}},{key:"decode",value:function(e){return e.coerce(this.type,!e.readValue().isZero())}}]),t}(Hl),Ch=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(e,n){return(0,l.Z)(this,t),r.call(this,e,e,n,!0)}return(0,h.Z)(t,[{key:"defaultValue",value:function(){return"0x"}},{key:"encode",value:function(e,r){r=vl(r);var t=e.writeValue(r.length);return t+=e.writeBytes(r)}},{key:"decode",value:function(e){return e.readBytes(e.readValue().toNumber(),!0)}}]),t}(Hl),Mh=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(e){return(0,l.Z)(this,t),r.call(this,"bytes",e)}return(0,h.Z)(t,[{key:"decode",value:function(e){return e.coerce(this.name,bl((0,Yc.Z)((0,Qc.Z)(t.prototype),"decode",this).call(this,e)))}}]),t}(Ch),Oh=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(e,n){var i;(0,l.Z)(this,t);var o="bytes"+String(e);return(i=r.call(this,o,o,n,!1)).size=e,i}return(0,h.Z)(t,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}},{key:"encode",value:function(e,r){var t=vl(r);return t.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(t)}},{key:"decode",value:function(e){return e.coerce(this.name,bl(e.readBytes(this.size)))}}]),t}(Hl),Uh=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(e){return(0,l.Z)(this,t),r.call(this,"null","",e,!1)}return(0,h.Z)(t,[{key:"defaultValue",value:function(){return null}},{key:"encode",value:function(e,r){return null!=r&&this._throwError("not null",r),e.writeBytes([])}},{key:"decode",value:function(e){return e.readBytes(0),e.coerce(this.name,null)}}]),t}(Hl),Bh=Nl.from(-1),Fh=Nl.from(0),Lh=Nl.from(1),Dh=Nl.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),zh=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(e,n,i){var o;(0,l.Z)(this,t);var a=(n?"int":"uint")+8*e;return(o=r.call(this,a,a,i,!1)).size=e,o.signed=n,o}return(0,h.Z)(t,[{key:"defaultValue",value:function(){return 0}},{key:"encode",value:function(e,r){var t=Nl.from(r),n=Dh.mask(8*e.wordSize);if(this.signed){var i=n.mask(8*this.size-1);(t.gt(i)||t.lt(i.add(Lh).mul(Bh)))&&this._throwError("value out-of-bounds",r)}else(t.lt(Fh)||t.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",r);return t=t.toTwos(8*this.size).mask(8*this.size),this.signed&&(t=t.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(t)}},{key:"decode",value:function(e){var r=e.readValue().mask(8*this.size);return this.signed&&(r=r.fromTwos(8*this.size)),e.coerce(this.name,r)}}]),t}(Hl),Gh=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(e){return(0,l.Z)(this,t),r.call(this,"string",e)}return(0,h.Z)(t,[{key:"defaultValue",value:function(){return""}},{key:"encode",value:function(e,r){return(0,Yc.Z)((0,Qc.Z)(t.prototype),"encode",this).call(this,e,Eh(r))}},{key:"decode",value:function(e){return Sh((0,Yc.Z)((0,Qc.Z)(t.prototype),"decode",this).call(this,e))}}]),t}(Ch),Kh=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(e,n){var i;(0,l.Z)(this,t);var o=!1,a=[];e.forEach((function(e){e.dynamic&&(o=!0),a.push(e.type)}));var s="tuple("+a.join(",")+")";return(i=r.call(this,"tuple",s,n,o)).coders=e,i}return(0,h.Z)(t,[{key:"defaultValue",value:function(){var e=[];this.coders.forEach((function(r){e.push(r.defaultValue())}));var r=this.coders.reduce((function(e,r){var t=r.localName;return t&&(e[t]||(e[t]=0),e[t]++),e}),{});return this.coders.forEach((function(t,n){var i=t.localName;i&&1===r[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))})),Object.freeze(e)}},{key:"encode",value:function(e,r){return _h(e,this.coders,r)}},{key:"decode",value:function(e){return e.coerce(this.name,Ih(e,this.coders))}}]),t}(Hl),jh=new fl(Kl),Hh={},qh={calldata:!0,memory:!0,storage:!0},Zh={calldata:!0,memory:!0};function Vh(e,r){if("bytes"===e||"string"===e){if(qh[r])return!0}else if("address"===e){if("payable"===r)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&Zh[r])return!0;return(qh[r]||"payable"===r)&&jh.throwArgumentError("invalid modifier","name",r),!1}function Wh(e,r){for(var t in r)Ml(e,t,r[t])}var Jh=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Xh=new RegExp(/^(.*)\[([0-9]*)\]$/),$h=function(){function e(r,t){(0,l.Z)(this,e),r!==Hh&&jh.throwError("use fromString",fl.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Wh(this,t);var n=this.type.match(Xh);Wh(this,n?{arrayLength:parseInt(n[2]||"-1"),arrayChildren:e.fromObject({type:n[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}return(0,h.Z)(e,[{key:"format",value:function(e){if(e||(e=Jh.sighash),Jh[e]||jh.throwArgumentError("invalid format type","format",e),e===Jh.json){var r={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"===typeof this.indexed&&(r.indexed=this.indexed),this.components&&(r.components=this.components.map((function(r){return JSON.parse(r.format(e))}))),JSON.stringify(r)}var t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==Jh.sighash&&(t+=this.type),t+="("+this.components.map((function(r){return r.format(e)})).join(e===Jh.full?", ":",")+")"):t+=this.type,e!==Jh.sighash&&(!0===this.indexed&&(t+=" indexed"),e===Jh.full&&this.name&&(t+=" "+this.name)),t}}],[{key:"from",value:function(r,t){return"string"===typeof r?e.fromString(r,t):e.fromObject(r)}},{key:"fromObject",value:function(r){return e.isParamType(r)?r:new e(Hh,{name:r.name||null,type:ud(r.type),indexed:null==r.indexed?null:!!r.indexed,components:r.components?r.components.map(e.fromObject):null})}},{key:"fromString",value:function(r,t){return n=function(e,r){var t=e;function n(r){jh.throwArgumentError("unexpected character at position ".concat(r),"param",e)}function i(e){var t={type:"",name:"",parent:e,state:{allowType:!0}};return r&&(t.indexed=!1),t}e=e.replace(/\s/g," ");for(var o={type:"",name:"",state:{allowType:!0}},a=o,s=0;s<e.length;s++){var u=e[s];switch(u){case"(":a.state.allowType&&""===a.type?a.type="tuple":a.state.allowParams||n(s),a.state.allowType=!1,a.type=ud(a.type),a.components=[i(a)],a=a.components[0];break;case")":delete a.state,"indexed"===a.name&&(r||n(s),a.indexed=!0,a.name=""),Vh(a.type,a.name)&&(a.name=""),a.type=ud(a.type);var f=a;(a=a.parent)||n(s),delete f.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,"indexed"===a.name&&(r||n(s),a.indexed=!0,a.name=""),Vh(a.type,a.name)&&(a.name=""),a.type=ud(a.type);var c=i(a.parent);a.parent.components.push(c),delete a.parent,a=c;break;case" ":a.state.allowType&&""!==a.type&&(a.type=ud(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&""!==a.name&&("indexed"===a.name?(r||n(s),a.indexed&&n(s),a.indexed=!0,a.name=""):Vh(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||n(s),a.type+=u,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||n(s),a.type+=u,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=u,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=u,delete a.state.allowArray):a.state.readArray?a.type+=u:n(s)}}return a.parent&&jh.throwArgumentError("unexpected eof","param",e),delete o.state,"indexed"===a.name?(r||n(t.length-7),a.indexed&&n(t.length-7),a.indexed=!0,a.name=""):Vh(a.type,a.name)&&(a.name=""),o.type=ud(o.type),o}(r,!!t),e.fromObject({name:n.name,type:n.type,indexed:n.indexed,components:n.components});var n}},{key:"isParamType",value:function(e){return!(null==e||!e._isParamType)}}]),e}();function Yh(e,r){return function(e){e=e.trim();for(var r=[],t="",n=0,i=0;i<e.length;i++){var o=e[i];","===o&&0===n?(r.push(t),t=""):(t+=o,"("===o?n++:")"===o&&-1===--n&&jh.throwArgumentError("unbalanced parenthesis","value",e))}t&&r.push(t);return r}(e).map((function(e){return $h.fromString(e,r)}))}var Qh=function(){function e(r,t){(0,l.Z)(this,e),r!==Hh&&jh.throwError("use a static from method",fl.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Wh(this,t),this._isFragment=!0,Object.freeze(this)}return(0,h.Z)(e,null,[{key:"from",value:function(r){return e.isFragment(r)?r:"string"===typeof r?e.fromString(r):e.fromObject(r)}},{key:"fromObject",value:function(r){if(e.isFragment(r))return r;switch(r.type){case"function":return od.fromObject(r);case"event":return ed.fromObject(r);case"constructor":return id.fromObject(r);case"error":return sd.fromObject(r);case"fallback":case"receive":return null}return jh.throwArgumentError("invalid fragment object","value",r)}},{key:"fromString",value:function(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?ed.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?od.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?id.fromString(e.trim()):"error"===e.split(" ")[0]?sd.fromString(e.substring(5).trim()):jh.throwArgumentError("unsupported fragment","value",e)}},{key:"isFragment",value:function(e){return!(!e||!e._isFragment)}}]),e}(),ed=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(){return(0,l.Z)(this,t),r.apply(this,arguments)}return(0,h.Z)(t,[{key:"format",value:function(e){if(e||(e=Jh.sighash),Jh[e]||jh.throwArgumentError("invalid format type","format",e),e===Jh.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((function(r){return JSON.parse(r.format(e))}))});var r="";return e!==Jh.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map((function(r){return r.format(e)})).join(e===Jh.full?", ":",")+") ",e!==Jh.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}}],[{key:"from",value:function(e){return"string"===typeof e?t.fromString(e):t.fromObject(e)}},{key:"fromObject",value:function(e){if(t.isEventFragment(e))return e;"event"!==e.type&&jh.throwArgumentError("invalid event object","value",e);var r={name:cd(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map($h.fromObject):[],type:"event"};return new t(Hh,r)}},{key:"fromString",value:function(e){var r=e.match(ld);r||jh.throwArgumentError("invalid event string","value",e);var n=!1;return r[3].split(" ").forEach((function(e){switch(e.trim()){case"anonymous":n=!0;break;case"":break;default:jh.warn("unknown modifier: "+e)}})),t.fromObject({name:r[1].trim(),anonymous:n,inputs:Yh(r[2],!0),type:"event"})}},{key:"isEventFragment",value:function(e){return e&&e._isFragment&&"event"===e.type}}]),t}(Qh);function rd(e,r){r.gas=null;var t=e.split("@");return 1!==t.length?(t.length>2&&jh.throwArgumentError("invalid human-readable ABI signature","value",e),t[1].match(/^[0-9]+$/)||jh.throwArgumentError("invalid human-readable ABI signature gas","value",e),r.gas=Nl.from(t[1]),t[0]):e}function td(e,r){r.constant=!1,r.payable=!1,r.stateMutability="nonpayable",e.split(" ").forEach((function(e){switch(e.trim()){case"constant":r.constant=!0;break;case"payable":r.payable=!0,r.stateMutability="payable";break;case"nonpayable":r.payable=!1,r.stateMutability="nonpayable";break;case"pure":r.constant=!0,r.stateMutability="pure";break;case"view":r.constant=!0,r.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function nd(e){var r={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(r.stateMutability=e.stateMutability,r.constant="view"===r.stateMutability||"pure"===r.stateMutability,null!=e.constant&&!!e.constant!==r.constant&&jh.throwArgumentError("cannot have constant function with mutability "+r.stateMutability,"value",e),r.payable="payable"===r.stateMutability,null!=e.payable&&!!e.payable!==r.payable&&jh.throwArgumentError("cannot have payable function with mutability "+r.stateMutability,"value",e)):null!=e.payable?(r.payable=!!e.payable,null!=e.constant||r.payable||"constructor"===e.type||jh.throwArgumentError("unable to determine stateMutability","value",e),r.constant=!!e.constant,r.constant?r.stateMutability="view":r.stateMutability=r.payable?"payable":"nonpayable",r.payable&&r.constant&&jh.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(r.constant=!!e.constant,r.payable=!r.constant,r.stateMutability=r.constant?"view":"payable"):"constructor"!==e.type&&jh.throwArgumentError("unable to determine stateMutability","value",e),r}var id=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(){return(0,l.Z)(this,t),r.apply(this,arguments)}return(0,h.Z)(t,[{key:"format",value:function(e){if(e||(e=Jh.sighash),Jh[e]||jh.throwArgumentError("invalid format type","format",e),e===Jh.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(r){return JSON.parse(r.format(e))}))});e===Jh.sighash&&jh.throwError("cannot format a constructor for sighash",fl.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});var r="constructor("+this.inputs.map((function(r){return r.format(e)})).join(e===Jh.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(r+=this.stateMutability+" "),r.trim()}}],[{key:"from",value:function(e){return"string"===typeof e?t.fromString(e):t.fromObject(e)}},{key:"fromObject",value:function(e){if(t.isConstructorFragment(e))return e;"constructor"!==e.type&&jh.throwArgumentError("invalid constructor object","value",e);var r=nd(e);r.constant&&jh.throwArgumentError("constructor cannot be constant","value",e);var n={name:null,type:e.type,inputs:e.inputs?e.inputs.map($h.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Nl.from(e.gas):null};return new t(Hh,n)}},{key:"fromString",value:function(e){var r={type:"constructor"},n=(e=rd(e,r)).match(ld);return n&&"constructor"===n[1].trim()||jh.throwArgumentError("invalid constructor string","value",e),r.inputs=Yh(n[2].trim(),!1),td(n[3].trim(),r),t.fromObject(r)}},{key:"isConstructorFragment",value:function(e){return e&&e._isFragment&&"constructor"===e.type}}]),t}(Qh),od=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(){return(0,l.Z)(this,t),r.apply(this,arguments)}return(0,h.Z)(t,[{key:"format",value:function(e){if(e||(e=Jh.sighash),Jh[e]||jh.throwArgumentError("invalid format type","format",e),e===Jh.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(r){return JSON.parse(r.format(e))})),outputs:this.outputs.map((function(r){return JSON.parse(r.format(e))}))});var r="";return e!==Jh.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map((function(r){return r.format(e)})).join(e===Jh.full?", ":",")+") ",e!==Jh.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map((function(r){return r.format(e)})).join(", ")+") "),null!=this.gas&&(r+="@"+this.gas.toString()+" ")),r.trim()}}],[{key:"from",value:function(e){return"string"===typeof e?t.fromString(e):t.fromObject(e)}},{key:"fromObject",value:function(e){if(t.isFunctionFragment(e))return e;"function"!==e.type&&jh.throwArgumentError("invalid function object","value",e);var r=nd(e),n={type:e.type,name:cd(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map($h.fromObject):[],outputs:e.outputs?e.outputs.map($h.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Nl.from(e.gas):null};return new t(Hh,n)}},{key:"fromString",value:function(e){var r={type:"function"},n=(e=rd(e,r)).split(" returns ");n.length>2&&jh.throwArgumentError("invalid function string","value",e);var i=n[0].match(ld);if(i||jh.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&cd(r.name),r.inputs=Yh(i[2],!1),td(i[3].trim(),r),n.length>1){var o=n[1].match(ld);""==o[1].trim()&&""==o[3].trim()||jh.throwArgumentError("unexpected tokens","value",e),r.outputs=Yh(o[2],!1)}else r.outputs=[];return t.fromObject(r)}},{key:"isFunctionFragment",value:function(e){return e&&e._isFragment&&"function"===e.type}}]),t}(id);function ad(e){var r=e.format();return"Error(string)"!==r&&"Panic(uint256)"!==r||jh.throwArgumentError("cannot specify user defined ".concat(r," error"),"fragment",e),e}var sd=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(){return(0,l.Z)(this,t),r.apply(this,arguments)}return(0,h.Z)(t,[{key:"format",value:function(e){if(e||(e=Jh.sighash),Jh[e]||jh.throwArgumentError("invalid format type","format",e),e===Jh.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((function(r){return JSON.parse(r.format(e))}))});var r="";return e!==Jh.sighash&&(r+="error "),(r+=this.name+"("+this.inputs.map((function(r){return r.format(e)})).join(e===Jh.full?", ":",")+") ").trim()}}],[{key:"from",value:function(e){return"string"===typeof e?t.fromString(e):t.fromObject(e)}},{key:"fromObject",value:function(e){if(t.isErrorFragment(e))return e;"error"!==e.type&&jh.throwArgumentError("invalid error object","value",e);var r={type:e.type,name:cd(e.name),inputs:e.inputs?e.inputs.map($h.fromObject):[]};return ad(new t(Hh,r))}},{key:"fromString",value:function(e){var r={type:"error"},n=e.match(ld);return n||jh.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&cd(r.name),r.inputs=Yh(n[2],!1),ad(t.fromObject(r))}},{key:"isErrorFragment",value:function(e){return e&&e._isFragment&&"error"===e.type}}]),t}(Qh);function ud(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}var fd=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function cd(e){return e&&e.match(fd)||jh.throwArgumentError('invalid identifier "'.concat(e,'"'),"value",e),e}var ld=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");var hd=new fl(Kl),dd=new RegExp(/^bytes([0-9]*)$/),pd=new RegExp(/^(u?int)([0-9]*)$/),vd=new(function(){function e(r){(0,l.Z)(this,e),Ml(this,"coerceFunc",r||null)}return(0,h.Z)(e,[{key:"_getCoder",value:function(e){var r=this;switch(e.baseType){case"address":return new Ph(e.name);case"bool":return new Rh(e.name);case"string":return new Gh(e.name);case"bytes":return new Mh(e.name);case"array":return new Th(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Kh((e.components||[]).map((function(e){return r._getCoder(e)})),e.name);case"":return new Uh(e.name)}var t=e.type.match(pd);if(t){var n=parseInt(t[2]||"256");return(0===n||n>256||n%8!==0)&&hd.throwArgumentError("invalid "+t[1]+" bit length","param",e),new zh(n/8,"int"===t[1],e.name)}if(t=e.type.match(dd)){var i=parseInt(t[1]);return(0===i||i>32)&&hd.throwArgumentError("invalid bytes length","param",e),new Oh(i,e.name)}return hd.throwArgumentError("invalid type","type",e.type)}},{key:"_getWordSize",value:function(){return 32}},{key:"_getReader",value:function(e,r){return new Zl(e,this._getWordSize(),this.coerceFunc,r)}},{key:"_getWriter",value:function(){return new ql(this._getWordSize())}},{key:"getDefaultValue",value:function(e){var r=this,t=e.map((function(e){return r._getCoder($h.from(e))}));return new Kh(t,"_").defaultValue()}},{key:"encode",value:function(e,r){var t=this;e.length!==r.length&&hd.throwError("types/values length mismatch",fl.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});var n=e.map((function(e){return t._getCoder($h.from(e))})),i=new Kh(n,"_"),o=this._getWriter();return i.encode(o,r),o.data}},{key:"decode",value:function(e,r,t){var n=this,i=e.map((function(e){return n._getCoder($h.from(e))}));return new Kh(i,"_").decode(this._getReader(vl(r),t))}}]),e}()),gd=new fl(Kl),yd=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(){return(0,l.Z)(this,t),r.apply(this,arguments)}return(0,h.Z)(t)}(Gl),md=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(){return(0,l.Z)(this,t),r.apply(this,arguments)}return(0,h.Z)(t)}(Gl),bd=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(){return(0,l.Z)(this,t),r.apply(this,arguments)}return(0,h.Z)(t)}(Gl),wd=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(){return(0,l.Z)(this,t),r.apply(this,arguments)}return(0,h.Z)(t,null,[{key:"isIndexed",value:function(e){return!(!e||!e._isIndexed)}}]),t}(Gl),Ad={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Ed(e,r){var t=new Error("deferred error during ABI decoding triggered accessing ".concat(e));return t.error=r,t}var Sd=function(){function e(r){var t=this;(0,l.Z)(this,e);Ml(this,"fragments",("string"===typeof r?JSON.parse(r):r).map((function(e){return Qh.from(e)})).filter((function(e){return null!=e}))),Ml(this,"_abiCoder",Ol(this instanceof e?this.constructor:void 0,"getAbiCoder")()),Ml(this,"functions",{}),Ml(this,"errors",{}),Ml(this,"events",{}),Ml(this,"structs",{}),this.fragments.forEach((function(e){var r=null;switch(e.type){case"constructor":return t.deploy?void gd.warn("duplicate definition - constructor"):void Ml(t,"deploy",e);case"function":r=t.functions;break;case"event":r=t.events;break;case"error":r=t.errors;break;default:return}var n=e.format();r[n]?gd.warn("duplicate definition - "+n):r[n]=e})),this.deploy||Ml(this,"deploy",id.from({payable:!1,type:"constructor"})),Ml(this,"_isInterface",!0)}return(0,h.Z)(e,[{key:"format",value:function(e){e||(e=Jh.full),e===Jh.sighash&&gd.throwArgumentError("interface does not support formatting sighash","format",e);var r=this.fragments.map((function(r){return r.format(e)}));return e===Jh.json?JSON.stringify(r.map((function(e){return JSON.parse(e)}))):r}},{key:"getFunction",value:function(e){if(yl(e)){for(var r in this.functions)if(e===this.getSighash(r))return this.functions[r];gd.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){var t=e.trim(),n=Object.keys(this.functions).filter((function(e){return e.split("(")[0]===t}));return 0===n.length?gd.throwArgumentError("no matching function","name",t):n.length>1&&gd.throwArgumentError("multiple matching functions","name",t),this.functions[n[0]]}var i=this.functions[od.fromString(e).format()];return i||gd.throwArgumentError("no matching function","signature",e),i}},{key:"getEvent",value:function(e){if(yl(e)){var r=e.toLowerCase();for(var t in this.events)if(r===this.getEventTopic(t))return this.events[t];gd.throwArgumentError("no matching event","topichash",r)}if(-1===e.indexOf("(")){var n=e.trim(),i=Object.keys(this.events).filter((function(e){return e.split("(")[0]===n}));return 0===i.length?gd.throwArgumentError("no matching event","name",n):i.length>1&&gd.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}var o=this.events[ed.fromString(e).format()];return o||gd.throwArgumentError("no matching event","signature",e),o}},{key:"getError",value:function(e){if(yl(e)){var r=Ol(this.constructor,"getSighash");for(var t in this.errors){if(e===r(this.errors[t]))return this.errors[t]}gd.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){var n=e.trim(),i=Object.keys(this.errors).filter((function(e){return e.split("(")[0]===n}));return 0===i.length?gd.throwArgumentError("no matching error","name",n):i.length>1&&gd.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}var o=this.errors[od.fromString(e).format()];return o||gd.throwArgumentError("no matching error","signature",e),o}},{key:"getSighash",value:function(e){if("string"===typeof e)try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch(t){throw r}}return Ol(this.constructor,"getSighash")(e)}},{key:"getEventTopic",value:function(e){return"string"===typeof e&&(e=this.getEvent(e)),Ol(this.constructor,"getEventTopic")(e)}},{key:"_decodeParams",value:function(e,r){return this._abiCoder.decode(e,r)}},{key:"_encodeParams",value:function(e,r){return this._abiCoder.encode(e,r)}},{key:"encodeDeploy",value:function(e){return this._encodeParams(this.deploy.inputs,e||[])}},{key:"decodeErrorResult",value:function(e,r){"string"===typeof e&&(e=this.getError(e));var t=vl(r);return bl(t.slice(0,4))!==this.getSighash(e)&&gd.throwArgumentError("data signature does not match error ".concat(e.name,"."),"data",bl(t)),this._decodeParams(e.inputs,t.slice(4))}},{key:"encodeErrorResult",value:function(e,r){return"string"===typeof e&&(e=this.getError(e)),bl(gl([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}},{key:"decodeFunctionData",value:function(e,r){"string"===typeof e&&(e=this.getFunction(e));var t=vl(r);return bl(t.slice(0,4))!==this.getSighash(e)&&gd.throwArgumentError("data signature does not match function ".concat(e.name,"."),"data",bl(t)),this._decodeParams(e.inputs,t.slice(4))}},{key:"encodeFunctionData",value:function(e,r){return"string"===typeof e&&(e=this.getFunction(e)),bl(gl([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}},{key:"decodeFunctionResult",value:function(e,r){"string"===typeof e&&(e=this.getFunction(e));var t=vl(r),n=null,i="",o=null,a=null,s=null;switch(t.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,t)}catch(c){}break;case 4:var u=bl(t.slice(0,4)),f=Ad[u];if(f)o=this._abiCoder.decode(f.inputs,t.slice(4)),a=f.name,s=f.signature,f.reason&&(n=o[0]),"Error"===a?i="; VM Exception while processing transaction: reverted with reason string ".concat(JSON.stringify(o[0])):"Panic"===a&&(i="; VM Exception while processing transaction: reverted with panic code ".concat(o[0]));else try{var c=this.getError(u);o=this._abiCoder.decode(c.inputs,t.slice(4)),a=c.name,s=c.format()}catch(c){}}return gd.throwError("call revert exception"+i,fl.errors.CALL_EXCEPTION,{method:e.format(),data:bl(r),errorArgs:o,errorName:a,errorSignature:s,reason:n})}},{key:"encodeFunctionResult",value:function(e,r){return"string"===typeof e&&(e=this.getFunction(e)),bl(this._abiCoder.encode(e.outputs,r||[]))}},{key:"encodeFilterTopics",value:function(e,r){var t=this;"string"===typeof e&&(e=this.getEvent(e)),r.length>e.inputs.length&&gd.throwError("too many arguments for "+e.format(),fl.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});var n=[];e.anonymous||n.push(this.getEventTopic(e));var i=function(e,r){return"string"===e.type?xh(r):"bytes"===e.type?eh(bl(r)):("bool"===e.type&&"boolean"===typeof r&&(r=r?"0x01":"0x00"),e.type.match(/^u?int/)&&(r=Nl.from(r).toHexString()),"address"===e.type&&t._abiCoder.encode(["address"],[r]),wl(bl(r),32))};for(r.forEach((function(r,t){var o=e.inputs[t];o.indexed?null==r?n.push(null):"array"===o.baseType||"tuple"===o.baseType?gd.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,r):Array.isArray(r)?n.push(r.map((function(e){return i(o,e)}))):n.push(i(o,r)):null!=r&&gd.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,r)}));n.length&&null===n[n.length-1];)n.pop();return n}},{key:"encodeEventLog",value:function(e,r){var t=this;"string"===typeof e&&(e=this.getEvent(e));var n=[],i=[],o=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&gd.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((function(e,a){var s=r[a];if(e.indexed)if("string"===e.type)n.push(xh(s));else if("bytes"===e.type)n.push(eh(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(t._abiCoder.encode([e.type],[s]))}else i.push(e),o.push(s)})),{data:this._abiCoder.encode(i,o),topics:n}}},{key:"decodeEventLog",value:function(e,r,t){if("string"===typeof e&&(e=this.getEvent(e)),null!=t&&!e.anonymous){var n=this.getEventTopic(e);yl(t[0],32)&&t[0].toLowerCase()===n||gd.throwError("fragment/topic mismatch",fl.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:n,value:t[0]}),t=t.slice(1)}var i=[],o=[],a=[];e.inputs.forEach((function(e,r){e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(i.push($h.fromObject({type:"bytes32",name:e.name})),a.push(!0)):(i.push(e),a.push(!1)):(o.push(e),a.push(!1))}));var s=null!=t?this._abiCoder.decode(i,gl(t)):null,u=this._abiCoder.decode(o,r,!0),f=[],c=0,l=0;e.inputs.forEach((function(e,r){if(e.indexed)if(null==s)f[r]=new wd({_isIndexed:!0,hash:null});else if(a[r])f[r]=new wd({_isIndexed:!0,hash:s[l++]});else try{f[r]=s[l++]}catch(n){f[r]=n}else try{f[r]=u[c++]}catch(n){f[r]=n}if(e.name&&null==f[e.name]){var t=f[r];t instanceof Error?Object.defineProperty(f,e.name,{enumerable:!0,get:function(){throw Ed("property ".concat(JSON.stringify(e.name)),t)}}):f[e.name]=t}}));for(var h=function(e){var r=f[e];r instanceof Error&&Object.defineProperty(f,e,{enumerable:!0,get:function(){throw Ed("index ".concat(e),r)}})},d=0;d<f.length;d++)h(d);return Object.freeze(f)}},{key:"parseTransaction",value:function(e){var r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new md({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:Nl.from(e.value||"0")}):null}},{key:"parseLog",value:function(e){var r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new yd({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}},{key:"parseError",value:function(e){var r=bl(e),t=this.getError(r.substring(0,10).toLowerCase());return t?new bd({args:this._abiCoder.decode(t.inputs,"0x"+r.substring(10)),errorFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t)}):null}}],[{key:"getAbiCoder",value:function(){return vd}},{key:"getAddress",value:function(e){return uh(e)}},{key:"getSighash",value:function(e){return r=xh(e.format()),t=0,n=4,"string"!==typeof r?r=bl(r):(!yl(r)||r.length%2)&&cl.throwArgumentError("invalid hexData","value",r),t=2+2*t,null!=n?"0x"+r.substring(t,2+2*n):"0x"+r.substring(t);var r,t,n}},{key:"getEventTopic",value:function(e){return xh(e.format())}},{key:"isInterface",value:function(e){return!(!e||!e._isInterface)}}]),e}(),xd=new fl("bytes/5.7.0");function Pd(e){return!!e.toHexString}function Nd(e){return"number"===typeof e&&e==e&&e%1===0}function kd(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Nd(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!Nd(t)||t<0||t>=256)return!1}return!0}function _d(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var Id="0123456789abcdef";function Td(e,r){if(r||(r={}),"number"===typeof e){xd.checkSafeUint53(e,"invalid hexlify value");for(var t="";e;)t=Id[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Pd(e))return e.toHexString();if(_d(e))return e.length%2&&("left"===r.hexPad?e="0x0"+e.substring(2):"right"===r.hexPad?e+="0":xd.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(kd(e)){for(var n="0x",i=0;i<e.length;i++){var o=e[i];n+=Id[(240&o)>>4]+Id[15&o]}return n}return xd.throwArgumentError("invalid hexlify value","value",e)}var Rd=be().BN,Cd=new fl("bignumber/5.7.0"),Md={},Od=9007199254740991;var Ud=!1,Bd=function(){function e(r,t){(0,l.Z)(this,e),r!==Md&&Cd.throwError("cannot call constructor directly; use BigNumber.from",fl.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}return(0,h.Z)(e,[{key:"fromTwos",value:function(e){return Ld(Dd(this).fromTwos(e))}},{key:"toTwos",value:function(e){return Ld(Dd(this).toTwos(e))}},{key:"abs",value:function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this}},{key:"add",value:function(e){return Ld(Dd(this).add(Dd(e)))}},{key:"sub",value:function(e){return Ld(Dd(this).sub(Dd(e)))}},{key:"div",value:function(r){return e.from(r).isZero()&&zd("division-by-zero","div"),Ld(Dd(this).div(Dd(r)))}},{key:"mul",value:function(e){return Ld(Dd(this).mul(Dd(e)))}},{key:"mod",value:function(e){var r=Dd(e);return r.isNeg()&&zd("division-by-zero","mod"),Ld(Dd(this).umod(r))}},{key:"pow",value:function(e){var r=Dd(e);return r.isNeg()&&zd("negative-power","pow"),Ld(Dd(this).pow(r))}},{key:"and",value:function(e){var r=Dd(e);return(this.isNegative()||r.isNeg())&&zd("unbound-bitwise-result","and"),Ld(Dd(this).and(r))}},{key:"or",value:function(e){var r=Dd(e);return(this.isNegative()||r.isNeg())&&zd("unbound-bitwise-result","or"),Ld(Dd(this).or(r))}},{key:"xor",value:function(e){var r=Dd(e);return(this.isNegative()||r.isNeg())&&zd("unbound-bitwise-result","xor"),Ld(Dd(this).xor(r))}},{key:"mask",value:function(e){return(this.isNegative()||e<0)&&zd("negative-width","mask"),Ld(Dd(this).maskn(e))}},{key:"shl",value:function(e){return(this.isNegative()||e<0)&&zd("negative-width","shl"),Ld(Dd(this).shln(e))}},{key:"shr",value:function(e){return(this.isNegative()||e<0)&&zd("negative-width","shr"),Ld(Dd(this).shrn(e))}},{key:"eq",value:function(e){return Dd(this).eq(Dd(e))}},{key:"lt",value:function(e){return Dd(this).lt(Dd(e))}},{key:"lte",value:function(e){return Dd(this).lte(Dd(e))}},{key:"gt",value:function(e){return Dd(this).gt(Dd(e))}},{key:"gte",value:function(e){return Dd(this).gte(Dd(e))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return Dd(this).isZero()}},{key:"toNumber",value:function(){try{return Dd(this).toNumber()}catch(e){zd("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(e){}return Cd.throwError("this platform does not support BigInt",fl.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?Ud||(Ud=!0,Cd.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Cd.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",fl.errors.UNEXPECTED_ARGUMENT,{}):Cd.throwError("BigNumber.toString does not accept parameters",fl.errors.UNEXPECTED_ARGUMENT,{})),Dd(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(e){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(r){if(r instanceof e)return r;if("string"===typeof r)return r.match(/^-?0x[0-9a-f]+$/i)?new e(Md,Fd(r)):r.match(/^-?[0-9]+$/)?new e(Md,Fd(new Rd(r))):Cd.throwArgumentError("invalid BigNumber string","value",r);if("number"===typeof r)return r%1&&zd("underflow","BigNumber.from",r),(r>=Od||r<=-9007199254740991)&&zd("overflow","BigNumber.from",r),e.from(String(r));var t=r;if("bigint"===typeof t)return e.from(t.toString());if(kd(t))return e.from(Td(t));if(t)if(t.toHexString){var n=t.toHexString();if("string"===typeof n)return e.from(n)}else{var i=t._hex;if(null==i&&"BigNumber"===t.type&&(i=t.hex),"string"===typeof i&&(_d(i)||"-"===i[0]&&_d(i.substring(1))))return e.from(i)}return Cd.throwArgumentError("invalid BigNumber value","value",r)}},{key:"isBigNumber",value:function(e){return!(!e||!e._isBigNumber)}}]),e}();function Fd(e){if("string"!==typeof e)return Fd(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&Cd.throwArgumentError("invalid hex","value",e),"0x00"===(e=Fd(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function Ld(e){return Bd.from(Fd(e))}function Dd(e){var r=Bd.from(e).toHexString();return"-"===r[0]?new Rd("-"+r.substring(3),16):new Rd(r.substring(2),16)}function zd(e,r,t){var n={fault:e,operation:r};return null!=t&&(n.value=t),Cd.throwError(e,fl.errors.NUMERIC_FAULT,n)}var Gd=function(e,r,t,n){return new(t||(t=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(r){o(r)}}function s(e){try{u(n.throw(e))}catch(r){o(r)}}function u(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}u((n=n.apply(e,r||[])).next())}))},Kd=new fl("abstract-provider/5.6.1"),jd=function(){function e(){(0,l.Z)(this,e),Kd.checkAbstract(this instanceof e?this.constructor:void 0,e),Ml(this,"_isProvider",!0)}return(0,h.Z)(e,[{key:"getFeeData",value:function(){return Gd(this,void 0,void 0,(0,$.Z)().mark((function e(){var r,t,n,i,o;return(0,$.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ul({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((function(e){return null}))});case 2:return r=e.sent,t=r.block,n=r.gasPrice,i=null,o=null,t&&t.baseFeePerGas&&(o=Bd.from("1500000000"),i=t.baseFeePerGas.mul(2).add(o)),e.abrupt("return",{maxFeePerGas:i,maxPriorityFeePerGas:o,gasPrice:n});case 8:case"end":return e.stop()}}),e,this)})))}},{key:"addListener",value:function(e,r){return this.on(e,r)}},{key:"removeListener",value:function(e,r){return this.off(e,r)}}],[{key:"isProvider",value:function(e){return!(!e||!e._isProvider)}}]),e}(),Hd=function(e,r,t,n){return new(t||(t=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(r){o(r)}}function s(e){try{u(n.throw(e))}catch(r){o(r)}}function u(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}u((n=n.apply(e,r||[])).next())}))},qd=new fl("abstract-signer/5.6.2"),Zd=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Vd=[fl.errors.INSUFFICIENT_FUNDS,fl.errors.NONCE_EXPIRED,fl.errors.REPLACEMENT_UNDERPRICED],Wd=function(){function e(){(0,l.Z)(this,e),qd.checkAbstract(this instanceof e?this.constructor:void 0,e),Ml(this,"_isSigner",!0)}return(0,h.Z)(e,[{key:"getBalance",value:function(e){return Hd(this,void 0,void 0,(0,$.Z)().mark((function r(){return(0,$.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._checkProvider("getBalance"),r.next=3,this.provider.getBalance(this.getAddress(),e);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r,this)})))}},{key:"getTransactionCount",value:function(e){return Hd(this,void 0,void 0,(0,$.Z)().mark((function r(){return(0,$.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._checkProvider("getTransactionCount"),r.next=3,this.provider.getTransactionCount(this.getAddress(),e);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r,this)})))}},{key:"estimateGas",value:function(e){return Hd(this,void 0,void 0,(0,$.Z)().mark((function r(){var t;return(0,$.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._checkProvider("estimateGas"),r.next=3,Ul(this.checkTransaction(e));case 3:return t=r.sent,r.next=6,this.provider.estimateGas(t);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})))}},{key:"call",value:function(e,r){return Hd(this,void 0,void 0,(0,$.Z)().mark((function t(){var n;return(0,$.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("call"),t.next=3,Ul(this.checkTransaction(e));case 3:return n=t.sent,t.next=6,this.provider.call(n,r);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"sendTransaction",value:function(e){return Hd(this,void 0,void 0,(0,$.Z)().mark((function r(){var t,n;return(0,$.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._checkProvider("sendTransaction"),r.next=3,this.populateTransaction(e);case 3:return t=r.sent,r.next=6,this.signTransaction(t);case 6:return n=r.sent,r.next=9,this.provider.sendTransaction(n);case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}}),r,this)})))}},{key:"getChainId",value:function(){return Hd(this,void 0,void 0,(0,$.Z)().mark((function e(){var r;return(0,$.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getChainId"),e.next=3,this.provider.getNetwork();case 3:return r=e.sent,e.abrupt("return",r.chainId);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getGasPrice",value:function(){return Hd(this,void 0,void 0,(0,$.Z)().mark((function e(){return(0,$.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getGasPrice"),e.next=3,this.provider.getGasPrice();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getFeeData",value:function(){return Hd(this,void 0,void 0,(0,$.Z)().mark((function e(){return(0,$.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getFeeData"),e.next=3,this.provider.getFeeData();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"resolveName",value:function(e){return Hd(this,void 0,void 0,(0,$.Z)().mark((function r(){return(0,$.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._checkProvider("resolveName"),r.next=3,this.provider.resolveName(e);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r,this)})))}},{key:"checkTransaction",value:function(e){for(var r in e)-1===Zd.indexOf(r)&&qd.throwArgumentError("invalid transaction key: "+r,"transaction",e);var t=Bl(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then((function(r){return r[0].toLowerCase()!==r[1].toLowerCase()&&qd.throwArgumentError("from address mismatch","transaction",e),r[0]})),t}},{key:"populateTransaction",value:function(e){return Hd(this,void 0,void 0,(0,$.Z)().mark((function r(){var t,n,i,o,a=this;return(0,$.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ul(this.checkTransaction(e));case 2:if(null!=(t=r.sent).to&&(t.to=Promise.resolve(t.to).then((function(e){return Hd(a,void 0,void 0,(0,$.Z)().mark((function r(){var t;return(0,$.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!=e){r.next=2;break}return r.abrupt("return",null);case 2:return r.next=4,this.resolveName(e);case 4:return null==(t=r.sent)&&qd.throwArgumentError("provided ENS name resolves to null","tx.to",e),r.abrupt("return",t);case 7:case"end":return r.stop()}}),r,this)})))})),t.to.catch((function(e){}))),n=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas,null==t.gasPrice||2!==t.type&&!n?0!==t.type&&1!==t.type||!n||qd.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):qd.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==t.type&&null!=t.type||null==t.maxFeePerGas||null==t.maxPriorityFeePerGas){r.next=10;break}t.type=2,r.next=18;break;case 10:if(0!==t.type&&1!==t.type){r.next=14;break}null==t.gasPrice&&(t.gasPrice=this.getGasPrice()),r.next=18;break;case 14:return r.next=16,this.getFeeData();case 16:i=r.sent,null==t.type?null!=i.maxFeePerGas&&null!=i.maxPriorityFeePerGas?(t.type=2,null!=t.gasPrice?(o=t.gasPrice,delete t.gasPrice,t.maxFeePerGas=o,t.maxPriorityFeePerGas=o):(null==t.maxFeePerGas&&(t.maxFeePerGas=i.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas))):null!=i.gasPrice?(n&&qd.throwError("network does not support EIP-1559",fl.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=i.gasPrice),t.type=0):qd.throwError("failed to get consistent fee data",fl.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"}):2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=i.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas));case 18:return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch((function(e){if(Vd.indexOf(e.code)>=0)throw e;return qd.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",fl.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then((function(r){return 0!==r[1]&&r[0]!==r[1]&&qd.throwArgumentError("chainId address mismatch","transaction",e),r[0]})),r.next=23,Ul(t);case 23:return r.abrupt("return",r.sent);case 24:case"end":return r.stop()}}),r,this)})))}},{key:"_checkProvider",value:function(e){this.provider||qd.throwError("missing provider",fl.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}}],[{key:"isSigner",value:function(e){return!(!e||!e._isSigner)}}]),e}(),Jd=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(e,n){var i;return(0,l.Z)(this,t),i=r.call(this),Ml((0,Y.Z)(i),"address",e),Ml((0,Y.Z)(i),"provider",n||null),i}return(0,h.Z)(t,[{key:"getAddress",value:function(){return Promise.resolve(this.address)}},{key:"_fail",value:function(e,r){return Promise.resolve().then((function(){qd.throwError(e,fl.errors.UNSUPPORTED_OPERATION,{operation:r})}))}},{key:"signMessage",value:function(e){return this._fail("VoidSigner cannot sign messages","signMessage")}},{key:"signTransaction",value:function(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}},{key:"_signTypedData",value:function(e,r,t){return this._fail("VoidSigner cannot sign typed data","signTypedData")}},{key:"connect",value:function(e){return new t(this.address,e)}}]),t}(Wd),Xd=new fl("bytes/5.7.0");function $d(e){return!!e.toHexString}function Yd(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return Yd(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function Qd(e){return"number"===typeof e&&e==e&&e%1===0}function ep(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Qd(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!Qd(t)||t<0||t>=256)return!1}return!0}function rp(e,r){if(r||(r={}),"number"===typeof e){Xd.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Yd(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),$d(e)&&(e=e.toHexString()),tp(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":Xd.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return Yd(new Uint8Array(i))}return ep(e)?Yd(new Uint8Array(e)):Xd.throwArgumentError("invalid arrayify value","value",e)}function tp(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var np="0123456789abcdef";function ip(e,r){if(r||(r={}),"number"===typeof e){Xd.checkSafeUint53(e,"invalid hexlify value");for(var t="";e;)t=np[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),$d(e))return e.toHexString();if(tp(e))return e.length%2&&("left"===r.hexPad?e="0x0"+e.substring(2):"right"===r.hexPad?e+="0":Xd.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(ep(e)){for(var n="0x",i=0;i<e.length;i++){var o=e[i];n+=np[(240&o)>>4]+np[15&o]}return n}return Xd.throwArgumentError("invalid hexlify value","value",e)}var op=be().BN,ap=new fl("bignumber/5.7.0"),sp={},up=9007199254740991;var fp=!1,cp=function(){function e(r,t){(0,l.Z)(this,e),r!==sp&&ap.throwError("cannot call constructor directly; use BigNumber.from",fl.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}return(0,h.Z)(e,[{key:"fromTwos",value:function(e){return hp(dp(this).fromTwos(e))}},{key:"toTwos",value:function(e){return hp(dp(this).toTwos(e))}},{key:"abs",value:function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this}},{key:"add",value:function(e){return hp(dp(this).add(dp(e)))}},{key:"sub",value:function(e){return hp(dp(this).sub(dp(e)))}},{key:"div",value:function(r){return e.from(r).isZero()&&pp("division-by-zero","div"),hp(dp(this).div(dp(r)))}},{key:"mul",value:function(e){return hp(dp(this).mul(dp(e)))}},{key:"mod",value:function(e){var r=dp(e);return r.isNeg()&&pp("division-by-zero","mod"),hp(dp(this).umod(r))}},{key:"pow",value:function(e){var r=dp(e);return r.isNeg()&&pp("negative-power","pow"),hp(dp(this).pow(r))}},{key:"and",value:function(e){var r=dp(e);return(this.isNegative()||r.isNeg())&&pp("unbound-bitwise-result","and"),hp(dp(this).and(r))}},{key:"or",value:function(e){var r=dp(e);return(this.isNegative()||r.isNeg())&&pp("unbound-bitwise-result","or"),hp(dp(this).or(r))}},{key:"xor",value:function(e){var r=dp(e);return(this.isNegative()||r.isNeg())&&pp("unbound-bitwise-result","xor"),hp(dp(this).xor(r))}},{key:"mask",value:function(e){return(this.isNegative()||e<0)&&pp("negative-width","mask"),hp(dp(this).maskn(e))}},{key:"shl",value:function(e){return(this.isNegative()||e<0)&&pp("negative-width","shl"),hp(dp(this).shln(e))}},{key:"shr",value:function(e){return(this.isNegative()||e<0)&&pp("negative-width","shr"),hp(dp(this).shrn(e))}},{key:"eq",value:function(e){return dp(this).eq(dp(e))}},{key:"lt",value:function(e){return dp(this).lt(dp(e))}},{key:"lte",value:function(e){return dp(this).lte(dp(e))}},{key:"gt",value:function(e){return dp(this).gt(dp(e))}},{key:"gte",value:function(e){return dp(this).gte(dp(e))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return dp(this).isZero()}},{key:"toNumber",value:function(){try{return dp(this).toNumber()}catch(e){pp("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(e){}return ap.throwError("this platform does not support BigInt",fl.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?fp||(fp=!0,ap.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?ap.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",fl.errors.UNEXPECTED_ARGUMENT,{}):ap.throwError("BigNumber.toString does not accept parameters",fl.errors.UNEXPECTED_ARGUMENT,{})),dp(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(e){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(r){if(r instanceof e)return r;if("string"===typeof r)return r.match(/^-?0x[0-9a-f]+$/i)?new e(sp,lp(r)):r.match(/^-?[0-9]+$/)?new e(sp,lp(new op(r))):ap.throwArgumentError("invalid BigNumber string","value",r);if("number"===typeof r)return r%1&&pp("underflow","BigNumber.from",r),(r>=up||r<=-9007199254740991)&&pp("overflow","BigNumber.from",r),e.from(String(r));var t=r;if("bigint"===typeof t)return e.from(t.toString());if(ep(t))return e.from(ip(t));if(t)if(t.toHexString){var n=t.toHexString();if("string"===typeof n)return e.from(n)}else{var i=t._hex;if(null==i&&"BigNumber"===t.type&&(i=t.hex),"string"===typeof i&&(tp(i)||"-"===i[0]&&tp(i.substring(1))))return e.from(i)}return ap.throwArgumentError("invalid BigNumber value","value",r)}},{key:"isBigNumber",value:function(e){return!(!e||!e._isBigNumber)}}]),e}();function lp(e){if("string"!==typeof e)return lp(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&ap.throwArgumentError("invalid hex","value",e),"0x00"===(e=lp(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function hp(e){return cp.from(lp(e))}function dp(e){var r=cp.from(e).toHexString();return"-"===r[0]?new op("-"+r.substring(3),16):new op(r.substring(2),16)}function pp(e,r,t){var n={fault:e,operation:r};return null!=t&&(n.value=t),ap.throwError(e,fl.errors.NUMERIC_FAULT,n)}var vp=new fl("bytes/5.7.0");function gp(e){return!!e.toHexString}function yp(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return yp(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function mp(e){return Ep(e)&&!(e.length%2)||wp(e)}function bp(e){return"number"===typeof e&&e==e&&e%1===0}function wp(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!bp(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!bp(t)||t<0||t>=256)return!1}return!0}function Ap(e,r){if(r||(r={}),"number"===typeof e){vp.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),yp(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),gp(e)&&(e=e.toHexString()),Ep(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":vp.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return yp(new Uint8Array(i))}return wp(e)?yp(new Uint8Array(e)):vp.throwArgumentError("invalid arrayify value","value",e)}function Ep(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var Sp="0123456789abcdef";function xp(e,r){if(r||(r={}),"number"===typeof e){vp.checkSafeUint53(e,"invalid hexlify value");for(var t="";e;)t=Sp[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),gp(e))return e.toHexString();if(Ep(e))return e.length%2&&("left"===r.hexPad?e="0x0"+e.substring(2):"right"===r.hexPad?e+="0":vp.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(wp(e)){for(var n="0x",i=0;i<e.length;i++){var o=e[i];n+=Sp[(240&o)>>4]+Sp[15&o]}return n}return vp.throwArgumentError("invalid hexlify value","value",e)}var Pp=new fl("rlp/5.7.0");function Np(e){for(var r=[];e;)r.unshift(255&e),e>>=8;return r}function kp(e){if(Array.isArray(e)){var r=[];if(e.forEach((function(e){r=r.concat(kp(e))})),r.length<=55)return r.unshift(192+r.length),r;var t=Np(r.length);return t.unshift(247+t.length),t.concat(r)}mp(e)||Pp.throwArgumentError("RLP object must be BytesLike","object",e);var n=Array.prototype.slice.call(Ap(e));if(1===n.length&&n[0]<=127)return n;if(n.length<=55)return n.unshift(128+n.length),n;var i=Np(n.length);return i.unshift(183+i.length),i.concat(n)}function _p(e){return xp(kp(e))}var Ip=new fl("address/5.6.1");function Tp(e){tp(e,20)||Ip.throwArgumentError("invalid address","address",e);for(var r=(e=e.toLowerCase()).substring(2).split(""),t=new Uint8Array(40),n=0;n<40;n++)t[n]=r[n].charCodeAt(0);for(var i=rp(eh(t)),o=0;o<40;o+=2)i[o>>1]>>4>=8&&(r[o]=r[o].toUpperCase()),(15&i[o>>1])>=8&&(r[o+1]=r[o+1].toUpperCase());return"0x"+r.join("")}for(var Rp={},Cp=0;Cp<10;Cp++)Rp[String(Cp)]=String(Cp);for(var Mp=0;Mp<26;Mp++)Rp[String.fromCharCode(65+Mp)]=String(10+Mp);var Op=Math.floor(function(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}(9007199254740991));function Up(e){for(var r=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((function(e){return Rp[e]})).join("");r.length>=Op;){var t=r.substring(0,Op);r=parseInt(t,10)%97+r.substring(t.length)}for(var n=String(98-parseInt(r,10)%97);n.length<2;)n="0"+n;return n}function Bp(e){var r,t=null;if("string"!==typeof e&&Ip.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=Tp(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&Ip.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==Up(e)&&Ip.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new op(r,36).toString(16);t.length<40;)t="0"+t;t=Tp("0x"+t)}else Ip.throwArgumentError("invalid address","address",e);return t}function Fp(e){var r=null;try{r=Bp(e.from)}catch(a){Ip.throwArgumentError("missing from address","transaction",e)}var t,n,i,o=function(e){var r=rp(e);if(0===r.length)return r;for(var t=0;t<r.length&&0===r[t];)t++;return t&&(r=r.slice(t)),r}(rp(cp.from(e.nonce).toHexString()));return Bp((t=eh(_p([r,o])),n=12,"string"!==typeof t?t=ip(t):(!tp(t)||t.length%2)&&Xd.throwArgumentError("invalid hexData","value",t),n=2+2*n,null!=i?"0x"+t.substring(n,2+2*i):"0x"+t.substring(n)))}var Lp=new fl("bytes/5.7.0");function Dp(e){return!!e.toHexString}function zp(e){return"number"===typeof e&&e==e&&e%1===0}function Gp(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!zp(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!zp(t)||t<0||t>=256)return!1}return!0}function Kp(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var jp="0123456789abcdef";function Hp(e,r){if(r||(r={}),"number"===typeof e){Lp.checkSafeUint53(e,"invalid hexlify value");for(var t="";e;)t=jp[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Dp(e))return e.toHexString();if(Kp(e))return e.length%2&&("left"===r.hexPad?e="0x0"+e.substring(2):"right"===r.hexPad?e+="0":Lp.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(Gp(e)){for(var n="0x",i=0;i<e.length;i++){var o=e[i];n+=jp[(240&o)>>4]+jp[15&o]}return n}return Lp.throwArgumentError("invalid hexlify value","value",e)}var qp=be().BN,Zp=new fl("bignumber/5.6.2"),Vp={},Wp=9007199254740991;var Jp=!1,Xp=function(){function e(r,t){(0,l.Z)(this,e),r!==Vp&&Zp.throwError("cannot call constructor directly; use BigNumber.from",fl.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}return(0,h.Z)(e,[{key:"fromTwos",value:function(e){return Yp(Qp(this).fromTwos(e))}},{key:"toTwos",value:function(e){return Yp(Qp(this).toTwos(e))}},{key:"abs",value:function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this}},{key:"add",value:function(e){return Yp(Qp(this).add(Qp(e)))}},{key:"sub",value:function(e){return Yp(Qp(this).sub(Qp(e)))}},{key:"div",value:function(r){return e.from(r).isZero()&&ev("division-by-zero","div"),Yp(Qp(this).div(Qp(r)))}},{key:"mul",value:function(e){return Yp(Qp(this).mul(Qp(e)))}},{key:"mod",value:function(e){var r=Qp(e);return r.isNeg()&&ev("division-by-zero","mod"),Yp(Qp(this).umod(r))}},{key:"pow",value:function(e){var r=Qp(e);return r.isNeg()&&ev("negative-power","pow"),Yp(Qp(this).pow(r))}},{key:"and",value:function(e){var r=Qp(e);return(this.isNegative()||r.isNeg())&&ev("unbound-bitwise-result","and"),Yp(Qp(this).and(r))}},{key:"or",value:function(e){var r=Qp(e);return(this.isNegative()||r.isNeg())&&ev("unbound-bitwise-result","or"),Yp(Qp(this).or(r))}},{key:"xor",value:function(e){var r=Qp(e);return(this.isNegative()||r.isNeg())&&ev("unbound-bitwise-result","xor"),Yp(Qp(this).xor(r))}},{key:"mask",value:function(e){return(this.isNegative()||e<0)&&ev("negative-width","mask"),Yp(Qp(this).maskn(e))}},{key:"shl",value:function(e){return(this.isNegative()||e<0)&&ev("negative-width","shl"),Yp(Qp(this).shln(e))}},{key:"shr",value:function(e){return(this.isNegative()||e<0)&&ev("negative-width","shr"),Yp(Qp(this).shrn(e))}},{key:"eq",value:function(e){return Qp(this).eq(Qp(e))}},{key:"lt",value:function(e){return Qp(this).lt(Qp(e))}},{key:"lte",value:function(e){return Qp(this).lte(Qp(e))}},{key:"gt",value:function(e){return Qp(this).gt(Qp(e))}},{key:"gte",value:function(e){return Qp(this).gte(Qp(e))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return Qp(this).isZero()}},{key:"toNumber",value:function(){try{return Qp(this).toNumber()}catch(e){ev("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(e){}return Zp.throwError("this platform does not support BigInt",fl.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?Jp||(Jp=!0,Zp.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Zp.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",fl.errors.UNEXPECTED_ARGUMENT,{}):Zp.throwError("BigNumber.toString does not accept parameters",fl.errors.UNEXPECTED_ARGUMENT,{})),Qp(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(e){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(r){if(r instanceof e)return r;if("string"===typeof r)return r.match(/^-?0x[0-9a-f]+$/i)?new e(Vp,$p(r)):r.match(/^-?[0-9]+$/)?new e(Vp,$p(new qp(r))):Zp.throwArgumentError("invalid BigNumber string","value",r);if("number"===typeof r)return r%1&&ev("underflow","BigNumber.from",r),(r>=Wp||r<=-9007199254740991)&&ev("overflow","BigNumber.from",r),e.from(String(r));var t=r;if("bigint"===typeof t)return e.from(t.toString());if(Gp(t))return e.from(Hp(t));if(t)if(t.toHexString){var n=t.toHexString();if("string"===typeof n)return e.from(n)}else{var i=t._hex;if(null==i&&"BigNumber"===t.type&&(i=t.hex),"string"===typeof i&&(Kp(i)||"-"===i[0]&&Kp(i.substring(1))))return e.from(i)}return Zp.throwArgumentError("invalid BigNumber value","value",r)}},{key:"isBigNumber",value:function(e){return!(!e||!e._isBigNumber)}}]),e}();function $p(e){if("string"!==typeof e)return $p(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&Zp.throwArgumentError("invalid hex","value",e),"0x00"===(e=$p(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function Yp(e){return Xp.from($p(e))}function Qp(e){var r=Xp.from(e).toHexString();return"-"===r[0]?new qp("-"+r.substring(3),16):new qp(r.substring(2),16)}function ev(e,r,t){var n={fault:e,operation:r};return null!=t&&(n.value=t),Zp.throwError(e,fl.errors.NUMERIC_FAULT,n)}var rv=new fl("bytes/5.7.0");function tv(e){return!!e.toHexString}function nv(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return nv(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function iv(e){return"number"===typeof e&&e==e&&e%1===0}function ov(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!iv(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!iv(t)||t<0||t>=256)return!1}return!0}function av(e,r){if(r||(r={}),"number"===typeof e){rv.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),nv(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),tv(e)&&(e=e.toHexString()),sv(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":rv.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return nv(new Uint8Array(i))}return ov(e)?nv(new Uint8Array(e)):rv.throwArgumentError("invalid arrayify value","value",e)}function sv(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var uv="0123456789abcdef";function fv(e,r){if(r||(r={}),"number"===typeof e){rv.checkSafeUint53(e,"invalid hexlify value");for(var t="";e;)t=uv[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),tv(e))return e.toHexString();if(sv(e))return e.length%2&&("left"===r.hexPad?e="0x0"+e.substring(2):"right"===r.hexPad?e+="0":rv.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(ov(e)){for(var n="0x",i=0;i<e.length;i++){var o=e[i];n+=uv[(240&o)>>4]+uv[15&o]}return n}return rv.throwArgumentError("invalid hexlify value","value",e)}var cv=be().BN;new fl("bignumber/5.7.0");var lv=new fl("address/5.7.0");function hv(e){sv(e,20)||lv.throwArgumentError("invalid address","address",e);for(var r=(e=e.toLowerCase()).substring(2).split(""),t=new Uint8Array(40),n=0;n<40;n++)t[n]=r[n].charCodeAt(0);for(var i=av(eh(t)),o=0;o<40;o+=2)i[o>>1]>>4>=8&&(r[o]=r[o].toUpperCase()),(15&i[o>>1])>=8&&(r[o+1]=r[o+1].toUpperCase());return"0x"+r.join("")}for(var dv={},pv=0;pv<10;pv++)dv[String(pv)]=String(pv);for(var vv=0;vv<26;vv++)dv[String.fromCharCode(65+vv)]=String(10+vv);var gv=Math.floor(function(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}(9007199254740991));function yv(e){for(var r=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((function(e){return dv[e]})).join("");r.length>=gv;){var t=r.substring(0,gv);r=parseInt(t,10)%97+r.substring(t.length)}for(var n=String(98-parseInt(r,10)%97);n.length<2;)n="0"+n;return n}function mv(e){var r,t=null;if("string"!==typeof e&&lv.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=hv(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&lv.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==yv(e)&&lv.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new cv(r,36).toString(16);t.length<40;)t="0"+t;t=hv("0x"+t)}else lv.throwArgumentError("invalid address","address",e);return t}var bv,wv=new fl("transactions/5.6.2");!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(bv||(bv={}));function Av(e,r){return{address:mv(e),storageKeys:(r||[]).map((function(r,t){return 32!==function(e){if("string"!==typeof e)e=fv(e);else if(!sv(e)||e.length%2)return null;return(e.length-2)/2}(r)&&wv.throwArgumentError("invalid access list storageKey","accessList[".concat(e,":").concat(t,"]"),r),r.toLowerCase()}))}}function Ev(e){if(Array.isArray(e))return e.map((function(e,r){return Array.isArray(e)?(e.length>2&&wv.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value[".concat(r,"]"),e),Av(e[0],e[1])):Av(e.address,e.storageKeys)}));var r=Object.keys(e).map((function(r){var t=e[r].reduce((function(e,r){return e[r]=!0,e}),{});return Av(r,Object.keys(t).sort())}));return r.sort((function(e,r){return e.address.localeCompare(r.address)})),r}var Sv=function(e,r,t,n){return new(t||(t=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(r){o(r)}}function s(e){try{u(n.throw(e))}catch(r){o(r)}}function u(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,s)}u((n=n.apply(e,r||[])).next())}))},xv=new fl("contracts/5.6.0"),Pv={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function Nv(e,r){return Sv(this,void 0,void 0,(0,$.Z)().mark((function t(){var n,i;return(0,$.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r;case 2:return"string"!==typeof(n=t.sent)&&xv.throwArgumentError("invalid address or ENS name","name",n),t.prev=4,t.abrupt("return",Bp(n));case 8:t.prev=8,t.t0=t.catch(4);case 10:return e||xv.throwError("a provider or signer is needed to resolve ENS names",fl.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"}),t.next=13,e.resolveName(n);case 13:return null==(i=t.sent)&&xv.throwArgumentError("resolver or addr is not configured for ENS name","name",n),t.abrupt("return",i);case 16:case"end":return t.stop()}}),t,null,[[4,8]])})))}function kv(e,r,t){return Sv(this,void 0,void 0,(0,$.Z)().mark((function n(){return(0,$.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Array.isArray(t)){n.next=4;break}return n.next=3,Promise.all(t.map((function(t,n){return kv(e,Array.isArray(r)?r[n]:r[t.name],t)})));case 3:case 7:case 11:case 17:return n.abrupt("return",n.sent);case 4:if("address"!==t.type){n.next=8;break}return n.next=7,Nv(e,r);case 8:if("tuple"!==t.type){n.next=12;break}return n.next=11,kv(e,r,t.components);case 12:if("array"!==t.baseType){n.next=18;break}if(Array.isArray(r)){n.next=15;break}return n.abrupt("return",Promise.reject(xv.makeError("invalid value for array",fl.errors.INVALID_ARGUMENT,{argument:"value",value:r})));case 15:return n.next=17,Promise.all(r.map((function(r){return kv(e,r,t.arrayChildren)})));case 18:return n.abrupt("return",r);case 19:case"end":return n.stop()}}),n)})))}function _v(e,r,t){return Sv(this,void 0,void 0,(0,$.Z)().mark((function n(){var i,o,a,s,u,f,c,l,h,d,p=this;return(0,$.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={},t.length===r.inputs.length+1&&"object"===typeof t[t.length-1]&&(i=Bl(t.pop())),xv.checkArgumentCount(t.length,r.inputs.length,"passed to contract"),e.signer?i.from?i.from=Ul({override:Nv(e.signer,i.from),signer:e.signer.getAddress()}).then((function(e){return Sv(p,void 0,void 0,(0,$.Z)().mark((function r(){return(0,$.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return Bp(e.signer)!==e.override&&xv.throwError("Contract with a Signer cannot override from",fl.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),r.abrupt("return",e.override);case 2:case"end":return r.stop()}}),r)})))})):i.from=e.signer.getAddress():i.from&&(i.from=Nv(e.provider,i.from)),n.next=6,Ul({args:kv(e.signer||e.provider,t,r.inputs),address:e.resolvedAddress,overrides:Ul(i)||{}});case 6:if(o=n.sent,a=e.interface.encodeFunctionData(r,o.args),s={data:a,to:o.address},null!=(u=o.overrides).nonce&&(s.nonce=Xp.from(u.nonce).toNumber()),null!=u.gasLimit&&(s.gasLimit=Xp.from(u.gasLimit)),null!=u.gasPrice&&(s.gasPrice=Xp.from(u.gasPrice)),null!=u.maxFeePerGas&&(s.maxFeePerGas=Xp.from(u.maxFeePerGas)),null!=u.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=Xp.from(u.maxPriorityFeePerGas)),null!=u.from&&(s.from=u.from),null!=u.type&&(s.type=u.type),null!=u.accessList&&(s.accessList=Ev(u.accessList)),null==s.gasLimit&&null!=r.gas){for(f=21e3,c=_(a),l=0;l<c.length;l++)f+=4,c[l]&&(f+=64);s.gasLimit=Xp.from(r.gas).add(f)}return u.value&&((h=Xp.from(u.value)).isZero()||r.payable||xv.throwError("non-payable method cannot override value",fl.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:i.value}),s.value=h),u.customData&&(s.customData=Bl(u.customData)),u.ccipReadEnabled&&(s.ccipReadEnabled=!!u.ccipReadEnabled),delete i.nonce,delete i.gasLimit,delete i.gasPrice,delete i.from,delete i.value,delete i.type,delete i.accessList,delete i.maxFeePerGas,delete i.maxPriorityFeePerGas,delete i.customData,delete i.ccipReadEnabled,d=Object.keys(i).filter((function(e){return null!=i[e]})),d.length&&xv.throwError("cannot override ".concat(d.map((function(e){return JSON.stringify(e)})).join(",")),fl.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:d}),n.abrupt("return",s);case 36:case"end":return n.stop()}}),n)})))}function Iv(e,r){var t=r.wait.bind(r);r.wait=function(r){return t(r).then((function(r){return r.events=r.logs.map((function(t){var n=zl(t),i=null;try{i=e.interface.parseLog(t)}catch(o){}return i&&(n.args=i.args,n.decode=function(r,t){return e.interface.decodeEventLog(i.eventFragment,r,t)},n.event=i.name,n.eventSignature=i.signature),n.removeListener=function(){return e.provider},n.getBlock=function(){return e.provider.getBlock(r.blockHash)},n.getTransaction=function(){return e.provider.getTransaction(r.transactionHash)},n.getTransactionReceipt=function(){return Promise.resolve(r)},n})),r}))}}function Tv(e,r,t){var n=e.signer||e.provider;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return Sv(this,void 0,void 0,(0,$.Z)().mark((function i(){var a,s,u,f,c;return(0,$.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=void 0,o.length!==r.inputs.length+1||"object"!==typeof o[o.length-1]){i.next=9;break}if(null==(s=Bl(o.pop())).blockTag){i.next=7;break}return i.next=6,s.blockTag;case 6:a=i.sent;case 7:delete s.blockTag,o.push(s);case 9:if(null==e.deployTransaction){i.next=12;break}return i.next=12,e._deployed(a);case 12:return i.next=14,_v(e,r,o);case 14:return u=i.sent,i.next=17,n.call(u,a);case 17:return f=i.sent,i.prev=18,c=e.interface.decodeFunctionResult(r,f),t&&1===r.outputs.length&&(c=c[0]),i.abrupt("return",c);case 24:throw i.prev=24,i.t0=i.catch(18),i.t0.code===fl.errors.CALL_EXCEPTION&&(i.t0.address=e.address,i.t0.args=o,i.t0.transaction=u),i.t0;case 28:case"end":return i.stop()}}),i,null,[[18,24]])})))}}function Rv(e,r,t){return r.constant?Tv(e,r,t):function(e,r){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Sv(this,void 0,void 0,(0,$.Z)().mark((function t(){var i,o;return(0,$.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.signer||xv.throwError("sending a transaction requires a signer",fl.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null==e.deployTransaction){t.next=4;break}return t.next=4,e._deployed();case 4:return t.next=6,_v(e,r,n);case 6:return i=t.sent,t.next=9,e.signer.sendTransaction(i);case 9:return o=t.sent,Iv(e,o),t.abrupt("return",o);case 12:case"end":return t.stop()}}),t)})))}}(e,r)}function Cv(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map((function(e){return Array.isArray(e)?e.join("|"):e})).join(":"):""):"*"}var Mv=function(){function e(r,t){(0,l.Z)(this,e),Ml(this,"tag",r),Ml(this,"filter",t),this._listeners=[]}return(0,h.Z)(e,[{key:"addListener",value:function(e,r){this._listeners.push({listener:e,once:r})}},{key:"removeListener",value:function(e){var r=!1;this._listeners=this._listeners.filter((function(t){return!(!r&&t.listener===e)||(r=!0,!1)}))}},{key:"removeAllListeners",value:function(){this._listeners=[]}},{key:"listeners",value:function(){return this._listeners.map((function(e){return e.listener}))}},{key:"listenerCount",value:function(){return this._listeners.length}},{key:"run",value:function(e){var r=this,t=this.listenerCount();return this._listeners=this._listeners.filter((function(t){var n=e.slice();return setTimeout((function(){t.listener.apply(r,n)}),0),!t.once})),t}},{key:"prepareEvent",value:function(e){}},{key:"getEmit",value:function(e){return[e]}}]),e}(),Ov=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(){return(0,l.Z)(this,t),r.call(this,"error",null)}return(0,h.Z)(t)}(Mv),Uv=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(e,n,i,o){var a;(0,l.Z)(this,t);var s={address:e},u=n.getEventTopic(i);return o?(u!==o[0]&&xv.throwArgumentError("topic mismatch","topics",o),s.topics=o.slice()):s.topics=[u],a=r.call(this,Cv(s),s),Ml((0,Y.Z)(a),"address",e),Ml((0,Y.Z)(a),"interface",n),Ml((0,Y.Z)(a),"fragment",i),a}return(0,h.Z)(t,[{key:"prepareEvent",value:function(e){var r=this;(0,Yc.Z)((0,Qc.Z)(t.prototype),"prepareEvent",this).call(this,e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=function(e,t){return r.interface.decodeEventLog(r.fragment,e,t)};try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(n){e.args=null,e.decodeError=n}}},{key:"getEmit",value:function(e){var r=function(e){var r=[];return function e(t,n){if(Array.isArray(n))for(var i in n){var o=t.slice();o.push(i);try{e(o,n[i])}catch(a){r.push({path:o,error:a})}}}([],e),r}(e.args);if(r.length)throw r[0].error;var t=(e.args||[]).slice();return t.push(e),t}}]),t}(Mv),Bv=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(e,n){var i;return(0,l.Z)(this,t),i=r.call(this,"*",{address:e}),Ml((0,Y.Z)(i),"address",e),Ml((0,Y.Z)(i),"interface",n),i}return(0,h.Z)(t,[{key:"prepareEvent",value:function(e){var r=this;(0,Yc.Z)((0,Qc.Z)(t.prototype),"prepareEvent",this).call(this,e);try{var n=this.interface.parseLog(e);e.event=n.name,e.eventSignature=n.signature,e.decode=function(e,t){return r.interface.decodeEventLog(n.eventFragment,e,t)},e.args=n.args}catch(i){}}}]),t}(Mv),Fv=function(){function e(r,t,n){var i=this;(0,l.Z)(this,e),xv.checkNew(this instanceof e?this.constructor:void 0,Lv),Ml(this,"interface",Ol(this instanceof e?this.constructor:void 0,"getInterface")(t)),null==n?(Ml(this,"provider",null),Ml(this,"signer",null)):Wd.isSigner(n)?(Ml(this,"provider",n.provider||null),Ml(this,"signer",n)):jd.isProvider(n)?(Ml(this,"provider",n),Ml(this,"signer",null)):xv.throwArgumentError("invalid signer or provider","signerOrProvider",n),Ml(this,"callStatic",{}),Ml(this,"estimateGas",{}),Ml(this,"functions",{}),Ml(this,"populateTransaction",{}),Ml(this,"filters",{});var o={};if(Object.keys(this.interface.events).forEach((function(e){var r=i.interface.events[e];Ml(i.filters,e,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{address:i.address,topics:i.interface.encodeFilterTopics(r,t)}})),o[r.name]||(o[r.name]=[]),o[r.name].push(e)})),Object.keys(o).forEach((function(e){var r=o[e];1===r.length?Ml(i.filters,e,i.filters[r[0]]):xv.warn("Duplicate definition of ".concat(e," (").concat(r.join(", "),")"))})),Ml(this,"_runningEvents",{}),Ml(this,"_wrappedEmits",{}),null==r&&xv.throwArgumentError("invalid contract address or ENS name","addressOrName",r),Ml(this,"address",r),this.provider)Ml(this,"resolvedAddress",Nv(this.provider,r));else try{Ml(this,"resolvedAddress",Promise.resolve(Bp(r)))}catch(u){xv.throwError("provider is required to use ENS name as contract address",fl.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((function(e){}));var a={},s={};Object.keys(this.interface.functions).forEach((function(e){var r=i.interface.functions[e];if(s[e])xv.warn("Duplicate ABI entry for ".concat(JSON.stringify(e)));else{s[e]=!0;var t=r.name;a["%".concat(t)]||(a["%".concat(t)]=[]),a["%".concat(t)].push(e),null==i[e]&&Ml(i,e,Rv(i,r,!0)),null==i.functions[e]&&Ml(i.functions,e,Rv(i,r,!1)),null==i.callStatic[e]&&Ml(i.callStatic,e,Tv(i,r,!0)),null==i.populateTransaction[e]&&Ml(i.populateTransaction,e,function(e,r){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return _v(e,r,n)}}(i,r)),null==i.estimateGas[e]&&Ml(i.estimateGas,e,function(e,r){var t=e.signer||e.provider;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Sv(this,void 0,void 0,(0,$.Z)().mark((function n(){var o;return(0,$.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t||xv.throwError("estimate require a provider or signer",fl.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"}),n.next=3,_v(e,r,i);case 3:return o=n.sent,n.next=6,t.estimateGas(o);case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)})))}}(i,r))}})),Object.keys(a).forEach((function(e){var r=a[e];if(!(r.length>1)){e=e.substring(1);var t=r[0];try{null==i[e]&&Ml(i,e,i[t])}catch(n){}null==i.functions[e]&&Ml(i.functions,e,i.functions[t]),null==i.callStatic[e]&&Ml(i.callStatic,e,i.callStatic[t]),null==i.populateTransaction[e]&&Ml(i.populateTransaction,e,i.populateTransaction[t]),null==i.estimateGas[e]&&Ml(i.estimateGas,e,i.estimateGas[t])}}))}return(0,h.Z)(e,[{key:"deployed",value:function(){return this._deployed()}},{key:"_deployed",value:function(e){var r=this;return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((function(){return r})):this._deployedPromise=this.provider.getCode(this.address,e).then((function(e){return"0x"===e&&xv.throwError("contract not deployed",fl.errors.UNSUPPORTED_OPERATION,{contractAddress:r.address,operation:"getDeployed"}),r}))),this._deployedPromise}},{key:"fallback",value:function(e){var r=this;this.signer||xv.throwError("sending a transactions require a signer",fl.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});var t=Bl(e||{});return["from","to"].forEach((function(e){null!=t[e]&&xv.throwError("cannot override "+e,fl.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.to=this.resolvedAddress,this.deployed().then((function(){return r.signer.sendTransaction(t)}))}},{key:"connect",value:function(e){"string"===typeof e&&(e=new Jd(e,this.provider));var r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Ml(r,"deployTransaction",this.deployTransaction),r}},{key:"attach",value:function(e){return new this.constructor(e,this.interface,this.signer||this.provider)}},{key:"_normalizeRunningEvent",value:function(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}},{key:"_getRunningEvent",value:function(e){if("string"===typeof e){if("error"===e)return this._normalizeRunningEvent(new Ov);if("event"===e)return this._normalizeRunningEvent(new Mv("event",null));if("*"===e)return this._normalizeRunningEvent(new Bv(this.address,this.interface));var r=this.interface.getEvent(e);return this._normalizeRunningEvent(new Uv(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{var t=e.topics[0];if("string"!==typeof t)throw new Error("invalid topic");var n=this.interface.getEvent(t);return this._normalizeRunningEvent(new Uv(this.address,this.interface,n,e.topics))}catch(o){}var i={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Mv(Cv(i),i))}return this._normalizeRunningEvent(new Bv(this.address,this.interface))}},{key:"_checkRunningEvents",value:function(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];var r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}},{key:"_wrapEvent",value:function(e,r,t){var n=this,i=zl(r);return i.removeListener=function(){t&&(e.removeListener(t),n._checkRunningEvents(e))},i.getBlock=function(){return n.provider.getBlock(r.blockHash)},i.getTransaction=function(){return n.provider.getTransaction(r.transactionHash)},i.getTransactionReceipt=function(){return n.provider.getTransactionReceipt(r.transactionHash)},e.prepareEvent(i),i}},{key:"_addEventListener",value:function(e,r,t){var n=this;if(this.provider||xv.throwError("events require a provider or a signer with a provider",fl.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,t),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){var i=function(t){var i=n._wrapEvent(e,t,r);if(null==i.decodeError)try{var o=e.getEmit(i);n.emit.apply(n,[e.filter].concat((0,$c.Z)(o)))}catch(a){i.decodeError=a.error}null!=e.filter&&n.emit("event",i),null!=i.decodeError&&n.emit("error",i.decodeError,i)};this._wrappedEmits[e.tag]=i,null!=e.filter&&this.provider.on(e.filter,i)}}},{key:"queryFilter",value:function(e,r,t){var n=this,i=this._getRunningEvent(e),o=Bl(i.filter);return"string"===typeof r&&R(r,32)?(null!=t&&xv.throwArgumentError("cannot specify toBlock with blockhash","toBlock",t),o.blockHash=r):(o.fromBlock=null!=r?r:0,o.toBlock=null!=t?t:"latest"),this.provider.getLogs(o).then((function(e){return e.map((function(e){return n._wrapEvent(i,e,null)}))}))}},{key:"on",value:function(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}},{key:"once",value:function(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}},{key:"emit",value:function(e){if(!this.provider)return!1;for(var r=this._getRunningEvent(e),t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=r.run(n)>0;return this._checkRunningEvents(r),o}},{key:"listenerCount",value:function(e){var r=this;return this.provider?null==e?Object.keys(this._runningEvents).reduce((function(e,t){return e+r._runningEvents[t].listenerCount()}),0):this._getRunningEvent(e).listenerCount():0}},{key:"listeners",value:function(e){var r=this;if(!this.provider)return[];if(null==e){var t=function(){var e=[];for(var t in r._runningEvents)r._runningEvents[t].listeners().forEach((function(r){e.push(r)}));return{v:e}}();if("object"===typeof t)return t.v}return this._getRunningEvent(e).listeners()}},{key:"removeAllListeners",value:function(e){if(!this.provider)return this;if(null==e){for(var r in this._runningEvents){var t=this._runningEvents[r];t.removeAllListeners(),this._checkRunningEvents(t)}return this}var n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this}},{key:"off",value:function(e,r){if(!this.provider)return this;var t=this._getRunningEvent(e);return t.removeListener(r),this._checkRunningEvents(t),this}},{key:"removeListener",value:function(e,r){return this.off(e,r)}}],[{key:"getContractAddress",value:function(e){return Fp(e)}},{key:"getInterface",value:function(e){return Sd.isInterface(e)?e:new Sd(e)}},{key:"isIndexed",value:function(e){return wd.isIndexed(e)}}]),e}(),Lv=function(e){(0,Q.Z)(t,e);var r=(0,ee.Z)(t);function t(){return(0,l.Z)(this,t),r.apply(this,arguments)}return(0,h.Z)(t)}(Fv),Dv=function(){function e(r,t,n){(0,l.Z)(this,e);var i=null;"0x"!==(i="string"===typeof t?t:k(t)?M(t):t&&"string"===typeof t.object?t.object:"!").substring(0,2)&&(i="0x"+i),(!R(i)||i.length%2)&&xv.throwArgumentError("invalid bytecode","bytecode",t),n&&!Wd.isSigner(n)&&xv.throwArgumentError("invalid signer","signer",n),Ml(this,"bytecode",i),Ml(this,"interface",Ol(this instanceof e?this.constructor:void 0,"getInterface")(r)),Ml(this,"signer",n||null)}return(0,h.Z)(e,[{key:"getDeployTransaction",value:function(){for(var e={},r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];if(t.length===this.interface.deploy.inputs.length+1&&"object"===typeof t[t.length-1])for(var i in e=Bl(t.pop()))if(!Pv[i])throw new Error("unknown transaction override "+i);if(["data","from","to"].forEach((function(r){null!=e[r]&&xv.throwError("cannot override "+r,fl.errors.UNSUPPORTED_OPERATION,{operation:r})})),e.value){var o=Xp.from(e.value);o.isZero()||this.interface.deploy.payable||xv.throwError("non-payable constructor cannot override value",fl.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:e.value})}return xv.checkArgumentCount(t.length,this.interface.deploy.inputs.length," in Contract constructor"),e.data=M(I([this.bytecode,this.interface.encodeDeploy(t)])),e}},{key:"deploy",value:function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return Sv(this,void 0,void 0,(0,$.Z)().mark((function e(){var t,n,i,o,a,s;return(0,$.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r.length===this.interface.deploy.inputs.length+1&&(t=r.pop()),xv.checkArgumentCount(r.length,this.interface.deploy.inputs.length," in Contract constructor"),e.next=5,kv(this.signer,r,this.interface.deploy.inputs);case 5:return(n=e.sent).push(t),i=this.getDeployTransaction.apply(this,(0,$c.Z)(n)),e.next=10,this.signer.sendTransaction(i);case 10:return o=e.sent,a=Ol(this.constructor,"getContractAddress")(o),Iv(s=Ol(this.constructor,"getContract")(a,this.interface,this.signer),o),Ml(s,"deployTransaction",o),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e,this)})))}},{key:"attach",value:function(e){return this.constructor.getContract(e,this.interface,this.signer)}},{key:"connect",value:function(e){return new this.constructor(this.interface,this.bytecode,e)}}],[{key:"fromSolidity",value:function(e,r){null==e&&xv.throwError("missing compiler output",fl.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"===typeof e&&(e=JSON.parse(e));var t=e.abi,n=null;return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(t,n,r)}},{key:"getInterface",value:function(e){return Lv.getInterface(e)}},{key:"getContractAddress",value:function(e){return Fp(e)}},{key:"getContract",value:function(e,r,t){return new Lv(e,r,t)}}]),e}();function zv(e,r,t){"string"===typeof e&&(e=JSON.parse(e));var n=new Dv(e,"0x"+r);return n.getDeployTransaction.apply(n,Xc(t)).data}function Gv(e,r){var t=(0,bc.generateAddress)((0,bc.toBuffer)(Nc(e)),(0,bc.toBuffer)(r)).toString("hex");return(0,bc.toChecksumAddress)(Nc(t))}var Kv=!1,jv=!1,Hv={debug:1,default:2,info:2,warning:3,error:4,off:5},qv=Hv.default,Zv=null;var Vv,Wv,Jv=function(){try{var e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((function(r){try{if("test"!=="test".normalize(r))throw new Error("bad normalize")}catch(t){e.push(r)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Vv||(Vv={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(Wv||(Wv={}));var Xv="0123456789abcdef",$v=function(){function e(r){(0,l.Z)(this,e),Object.defineProperty(this,"version",{enumerable:!0,value:r,writable:!1})}return(0,h.Z)(e,[{key:"_log",value:function(e,r){var t=e.toLowerCase();null==Hv[t]&&this.throwArgumentError("invalid log level name","logLevel",e),qv>Hv[t]||console.log.apply(console,r)}},{key:"debug",value:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];this._log(e.levels.DEBUG,t)}},{key:"info",value:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];this._log(e.levels.INFO,t)}},{key:"warn",value:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];this._log(e.levels.WARNING,t)}},{key:"makeError",value:function(r,t,n){if(jv)return this.makeError("censored error",t,{});t||(t=e.errors.UNKNOWN_ERROR),n||(n={});var i=[];Object.keys(n).forEach((function(e){var r=n[e];try{if(r instanceof Uint8Array){for(var t="",o=0;o<r.length;o++)t+=Xv[r[o]>>4],t+=Xv[15&r[o]];i.push(e+"=Uint8Array(0x"+t+")")}else i.push(e+"="+JSON.stringify(r))}catch(u){i.push(e+"="+JSON.stringify(n[e].toString()))}})),i.push("code=".concat(t)),i.push("version=".concat(this.version));var o=r,a="";switch(t){case Wv.NUMERIC_FAULT:a="NUMERIC_FAULT";var s=r;switch(s){case"overflow":case"underflow":case"division-by-zero":a+="-"+s;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result"}break;case Wv.CALL_EXCEPTION:case Wv.INSUFFICIENT_FUNDS:case Wv.MISSING_NEW:case Wv.NONCE_EXPIRED:case Wv.REPLACEMENT_UNDERPRICED:case Wv.TRANSACTION_REPLACED:case Wv.UNPREDICTABLE_GAS_LIMIT:a=t}a&&(r+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(r+=" ("+i.join(", ")+")");var u=new Error(r);return u.reason=o,u.code=t,Object.keys(n).forEach((function(e){u[e]=n[e]})),u}},{key:"throwError",value:function(e,r,t){throw this.makeError(e,r,t)}},{key:"throwArgumentError",value:function(r,t,n){return this.throwError(r,e.errors.INVALID_ARGUMENT,{argument:t,value:n})}},{key:"assert",value:function(e,r,t,n){e||this.throwError(r,t,n)}},{key:"assertArgument",value:function(e,r,t,n){e||this.throwArgumentError(r,t,n)}},{key:"checkNormalize",value:function(r){null==r&&(r="platform missing String.prototype.normalize"),Jv&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Jv})}},{key:"checkSafeUint53",value:function(r,t){"number"===typeof r&&(null==t&&(t="value not safe"),(r<0||r>=9007199254740991)&&this.throwError(t,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:r}),r%1&&this.throwError(t,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:r}))}},{key:"checkArgumentCount",value:function(r,t,n){n=n?": "+n:"",r<t&&this.throwError("missing argument"+n,e.errors.MISSING_ARGUMENT,{count:r,expectedCount:t}),r>t&&this.throwError("too many arguments"+n,e.errors.UNEXPECTED_ARGUMENT,{count:r,expectedCount:t})}},{key:"checkNew",value:function(r,t){r!==Object&&null!=r||this.throwError("missing new",e.errors.MISSING_NEW,{name:t.name})}},{key:"checkAbstract",value:function(r,t){r===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:r.name,operation:"new"}):r!==Object&&null!=r||this.throwError("missing new",e.errors.MISSING_NEW,{name:t.name})}}],[{key:"globalLogger",value:function(){return Zv||(Zv=new e("logger/5.7.0")),Zv}},{key:"setCensorship",value:function(r,t){if(!r&&t&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Kv){if(!r)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}jv=!!r,Kv=!!t}},{key:"setLogLevel",value:function(r){var t=Hv[r.toLowerCase()];null!=t?qv=t:e.globalLogger().warn("invalid log level - "+r)}},{key:"from",value:function(r){return new e(r)}}]),e}();$v.errors=Wv,$v.levels=Vv;var Yv=new $v("bytes/5.7.0");function Qv(e){return!!e.toHexString}function eg(e){return"number"===typeof e&&e==e&&e%1===0}function rg(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!eg(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!eg(t)||t<0||t>=256)return!1}return!0}function tg(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var ng="0123456789abcdef";function ig(e,r){if(r||(r={}),"number"===typeof e){Yv.checkSafeUint53(e,"invalid hexlify value");for(var t="";e;)t=ng[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Qv(e))return e.toHexString();if(tg(e))return e.length%2&&("left"===r.hexPad?e="0x0"+e.substring(2):"right"===r.hexPad?e+="0":Yv.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(rg(e)){for(var n="0x",i=0;i<e.length;i++){var o=e[i];n+=ng[(240&o)>>4]+ng[15&o]}return n}return Yv.throwArgumentError("invalid hexlify value","value",e)}var og=be().BN,ag=new $v("bignumber/5.6.2"),sg={},ug=9007199254740991;var fg=!1,cg=function(){function e(r,t){(0,l.Z)(this,e),r!==sg&&ag.throwError("cannot call constructor directly; use BigNumber.from",$v.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}return(0,h.Z)(e,[{key:"fromTwos",value:function(e){return hg(dg(this).fromTwos(e))}},{key:"toTwos",value:function(e){return hg(dg(this).toTwos(e))}},{key:"abs",value:function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this}},{key:"add",value:function(e){return hg(dg(this).add(dg(e)))}},{key:"sub",value:function(e){return hg(dg(this).sub(dg(e)))}},{key:"div",value:function(r){return e.from(r).isZero()&&pg("division-by-zero","div"),hg(dg(this).div(dg(r)))}},{key:"mul",value:function(e){return hg(dg(this).mul(dg(e)))}},{key:"mod",value:function(e){var r=dg(e);return r.isNeg()&&pg("division-by-zero","mod"),hg(dg(this).umod(r))}},{key:"pow",value:function(e){var r=dg(e);return r.isNeg()&&pg("negative-power","pow"),hg(dg(this).pow(r))}},{key:"and",value:function(e){var r=dg(e);return(this.isNegative()||r.isNeg())&&pg("unbound-bitwise-result","and"),hg(dg(this).and(r))}},{key:"or",value:function(e){var r=dg(e);return(this.isNegative()||r.isNeg())&&pg("unbound-bitwise-result","or"),hg(dg(this).or(r))}},{key:"xor",value:function(e){var r=dg(e);return(this.isNegative()||r.isNeg())&&pg("unbound-bitwise-result","xor"),hg(dg(this).xor(r))}},{key:"mask",value:function(e){return(this.isNegative()||e<0)&&pg("negative-width","mask"),hg(dg(this).maskn(e))}},{key:"shl",value:function(e){return(this.isNegative()||e<0)&&pg("negative-width","shl"),hg(dg(this).shln(e))}},{key:"shr",value:function(e){return(this.isNegative()||e<0)&&pg("negative-width","shr"),hg(dg(this).shrn(e))}},{key:"eq",value:function(e){return dg(this).eq(dg(e))}},{key:"lt",value:function(e){return dg(this).lt(dg(e))}},{key:"lte",value:function(e){return dg(this).lte(dg(e))}},{key:"gt",value:function(e){return dg(this).gt(dg(e))}},{key:"gte",value:function(e){return dg(this).gte(dg(e))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return dg(this).isZero()}},{key:"toNumber",value:function(){try{return dg(this).toNumber()}catch(e){pg("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(e){}return ag.throwError("this platform does not support BigInt",$v.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?fg||(fg=!0,ag.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?ag.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",$v.errors.UNEXPECTED_ARGUMENT,{}):ag.throwError("BigNumber.toString does not accept parameters",$v.errors.UNEXPECTED_ARGUMENT,{})),dg(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(e){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(r){if(r instanceof e)return r;if("string"===typeof r)return r.match(/^-?0x[0-9a-f]+$/i)?new e(sg,lg(r)):r.match(/^-?[0-9]+$/)?new e(sg,lg(new og(r))):ag.throwArgumentError("invalid BigNumber string","value",r);if("number"===typeof r)return r%1&&pg("underflow","BigNumber.from",r),(r>=ug||r<=-9007199254740991)&&pg("overflow","BigNumber.from",r),e.from(String(r));var t=r;if("bigint"===typeof t)return e.from(t.toString());if(rg(t))return e.from(ig(t));if(t)if(t.toHexString){var n=t.toHexString();if("string"===typeof n)return e.from(n)}else{var i=t._hex;if(null==i&&"BigNumber"===t.type&&(i=t.hex),"string"===typeof i&&(tg(i)||"-"===i[0]&&tg(i.substring(1))))return e.from(i)}return ag.throwArgumentError("invalid BigNumber value","value",r)}},{key:"isBigNumber",value:function(e){return!(!e||!e._isBigNumber)}}]),e}();function lg(e){if("string"!==typeof e)return lg(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&ag.throwArgumentError("invalid hex","value",e),"0x00"===(e=lg(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function hg(e){return cg.from(lg(e))}function dg(e){var r=cg.from(e).toHexString();return"-"===r[0]?new og("-"+r.substring(3),16):new og(r.substring(2),16)}function pg(e,r,t){var n={fault:e,operation:r};return null!=t&&(n.value=t),ag.throwError(e,$v.errors.NUMERIC_FAULT,n)}var vg=new $v("bytes/5.7.0");function gg(e){return!!e.toHexString}function yg(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return yg(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function mg(e){return"number"===typeof e&&e==e&&e%1===0}function bg(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!mg(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!mg(t)||t<0||t>=256)return!1}return!0}function wg(e,r){if(r||(r={}),"number"===typeof e){vg.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),yg(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),gg(e)&&(e=e.toHexString()),Ag(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":vg.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return yg(new Uint8Array(i))}return bg(e)?yg(new Uint8Array(e)):vg.throwArgumentError("invalid arrayify value","value",e)}function Ag(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var Eg=new $v("bytes/5.7.0");function Sg(e){return!!e.toHexString}function xg(e){return e.slice||(e.slice=function(){var r=Array.prototype.slice.call(arguments);return xg(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function Pg(e){return"number"===typeof e&&e==e&&e%1===0}function Ng(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Pg(e.length)||e.length<0)return!1;for(var r=0;r<e.length;r++){var t=e[r];if(!Pg(t)||t<0||t>=256)return!1}return!0}function kg(e,r){if(r||(r={}),"number"===typeof e){Eg.checkSafeUint53(e,"invalid arrayify value");for(var t=[];e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),xg(new Uint8Array(t))}if(r.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Sg(e)&&(e=e.toHexString()),_g(e)){var n=e.substring(2);n.length%2&&("left"===r.hexPad?n="0"+n:"right"===r.hexPad?n+="0":Eg.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return xg(new Uint8Array(i))}return Ng(e)?xg(new Uint8Array(e)):Eg.throwArgumentError("invalid arrayify value","value",e)}function _g(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}var Ig,Tg,Rg=new $v("strings/5.6.1");function Cg(e,r,t,n,i){if(e===Tg.BAD_PREFIX||e===Tg.UNEXPECTED_CONTINUE){for(var o=0,a=r+1;a<t.length&&t[a]>>6===2;a++)o++;return o}return e===Tg.OVERRUN?t.length-r-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(Ig||(Ig={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(Tg||(Tg={}));Object.freeze({error:function(e,r,t,n,i){return Rg.throwArgumentError("invalid codepoint at offset ".concat(r,"; ").concat(e),"bytes",t)},ignore:Cg,replace:function(e,r,t,n,i){return e===Tg.OVERLONG?(n.push(i),0):(n.push(65533),Cg(e,r,t))}});function Mg(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ig.current;r!=Ig.current&&(Rg.checkNormalize(),e=e.normalize(r));for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(63&i|128);else if(55296==(64512&i)){n++;var o=e.charCodeAt(n);if(n>=e.length||56320!==(64512&o))throw new Error("invalid utf-8 string");var a=65536+((1023&i)<<10)+(1023&o);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(63&a|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(63&i|128)}return kg(t)}var Og=new RegExp("^bytes([0-9]+)$"),Ug=new RegExp("^(u?int)([0-9]*)$"),Bg=new RegExp("^(.*)\\[([0-9]*)\\]$"),Fg=new $v("solidity/5.6.0");function Lg(e,r,t){switch(e){case"address":return t?T(r,32):_(r);case"string":return Mg(r);case"bytes":return _(r);case"bool":return r=r?"0x01":"0x00",t?T(r,32):_(r)}var n=e.match(Ug);if(n){var i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||0===i||i>256)&&Fg.throwArgumentError("invalid number type","type",e),t&&(i=256),T(r=cg.from(r).toTwos(i),i/8)}if(n=e.match(Og)){var o=parseInt(n[1]);return(String(o)!==n[1]||0===o||o>32)&&Fg.throwArgumentError("invalid bytes type","type",e),_(r).byteLength!==o&&Fg.throwArgumentError("invalid value for ".concat(e),"value",r),t?_((r+"0000000000000000000000000000000000000000000000000000000000000000").substring(0,66)):r}if((n=e.match(Bg))&&Array.isArray(r)){var a=n[1];parseInt(n[2]||String(r.length))!=r.length&&Fg.throwArgumentError("invalid array length for ".concat(e),"value",r);var s=[];return r.forEach((function(e){s.push(Lg(a,e,!0))})),I(s)}return Fg.throwArgumentError("invalid type","type",e)}function Dg(e,r){e.length!=r.length&&Fg.throwArgumentError("wrong number of values; expected ${ types.length }","values",r);var t=[];return e.forEach((function(e,n){t.push(Lg(e,r[n]))})),M(I(t))}function zg(e,r){return t=Dg(e,r),"0x"+c().keccak_256(wg(t));var t}function Gg(e){var r=[],t=[];return Array.isArray(e)?e.forEach((function(e){r.push(e.type),t.push(e.value)})):(r.push("string"),t.push(e)),zg(r,t)}var Kg="\x19Ethereum Signed Message:\n32",jg=t(30261).Buffer;function Hg(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Pc(e),!0===r)return jg.from(e,"hex").toString("base64");for(var t="";e.length%4!=0;)e="0"+e;for(var n=0;n<e.length;n+=4)t+=String.fromCharCode(parseInt(e.substring(n,n+4),16));return t}function qg(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!0===r){var t=jg.from(e,"base64").toString("hex");return Nc(t)}for(var n="",i=0;i<e.length;i++)n+=((0==i?"":"000")+e.charCodeAt(i).toString(16)).slice(-4);return Nc(n=n.toLowerCase())}function Zg(e){var r=U(e);return{v:"0x".concat(r.v.toString(16)),r:r.r,s:r.s}}function Vg(e){return B(e)}var Wg={createIdentity:Ec,publicKey:i,decryptWithPrivateKey:Lc,encryptWithPublicKey:zc,cipher:o,publicKeyByPrivateKey:Gc,recover:jc,recoverPublicKey:Kc,sign:qc,signTransaction:Wc,txDataByCompiled:zv,calculateContractAddress:Gv,hash:a,hex:s,vrs:u,util:n}},14862:function(e,r,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,r,t,n){void 0===n&&(n=t);var i=Object.getOwnPropertyDescriptor(r,t);i&&!("get"in i?!r.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,i)}:function(e,r,t,n){void 0===n&&(n=t),e[n]=r[t]}),i=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&n(r,e,t);return i(r,e),r},a=this&&this.__values||function(e){var r="function"===typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(e,r){var t="function"===typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,i,o=t.call(e),a=[];try{for(;(void 0===r||r-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(r,"__esModule",{value:!0}),r.BaseTransaction=void 0;var u=o(t(65327)),f=t(19081),c=t(70779),l=function(){function e(e){this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=u.Chain.Mainnet,this.DEFAULT_HARDFORK=u.Hardfork.Istanbul;var r=e.nonce,t=e.gasLimit,n=e.to,i=e.value,o=e.data,a=e.v,s=e.r,c=e.s,l=e.type;this._type=new f.BN((0,f.toBuffer)(l)).toNumber();var h=(0,f.toBuffer)(""===n?"0x":n),d=(0,f.toBuffer)(""===a?"0x":a),p=(0,f.toBuffer)(""===s?"0x":s),v=(0,f.toBuffer)(""===c?"0x":c);this.nonce=new f.BN((0,f.toBuffer)(""===r?"0x":r)),this.gasLimit=new f.BN((0,f.toBuffer)(""===t?"0x":t)),this.to=h.length>0?new f.Address(h):void 0,this.value=new f.BN((0,f.toBuffer)(""===i?"0x":i)),this.data=(0,f.toBuffer)(""===o?"0x":o),this.v=d.length>0?new f.BN(d):void 0,this.r=p.length>0?new f.BN(p):void 0,this.s=v.length>0?new f.BN(v):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0)}return Object.defineProperty(e.prototype,"transactionType",{get:function(){return this.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),e.prototype.supports=function(e){return this.activeCapabilities.includes(e)},e.prototype.validate=function(e){void 0===e&&(e=!1);var r=[];return this.getBaseFee().gt(this.gasLimit)&&r.push("gasLimit is too low. given ".concat(this.gasLimit,", need at least ").concat(this.getBaseFee())),this.isSigned()&&!this.verifySignature()&&r.push("Invalid Signature"),e?r:0===r.length},e.prototype.getBaseFee=function(){var e=this.getDataFee().addn(this.common.param("gasPrices","tx"));return this.common.gteHardfork("homestead")&&this.toCreationAddress()&&e.iaddn(this.common.param("gasPrices","txCreation")),e},e.prototype.getDataFee=function(){for(var e=this.common.param("gasPrices","txDataZero"),r=this.common.param("gasPrices","txDataNonZero"),t=0,n=0;n<this.data.length;n++)0===this.data[n]?t+=e:t+=r;if(t=new f.BN(t),(void 0===this.to||null===this.to)&&this.common.isActivatedEIP(3860)){var i=Math.ceil(this.data.length/32),o=new f.BN(this.common.param("gasPrices","initCodeWordCost")).imuln(i);t.iadd(o)}return t},e.prototype.toCreationAddress=function(){return void 0===this.to||0===this.to.buf.length},e.prototype.isSigned=function(){var e=this,r=e.v,t=e.r,n=e.s;return 0===this.type?!!(r&&t&&n):!(void 0===r||!t||!n)},e.prototype.verifySignature=function(){try{var e=this.getSenderPublicKey();return 0!==(0,f.unpadBuffer)(e).length}catch(r){return!1}},e.prototype.getSenderAddress=function(){return new f.Address((0,f.publicToAddress)(this.getSenderPublicKey()))},e.prototype.sign=function(e){if(32!==e.length){var r=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(r)}var t=!1;0===this.type&&this.common.gteHardfork("spuriousDragon")&&!this.supports(c.Capability.EIP155ReplayProtection)&&(this.activeCapabilities.push(c.Capability.EIP155ReplayProtection),t=!0);var n=this.getMessageToSign(!0),i=(0,f.ecsign)(n,e),o=i.v,a=i.r,s=i.s,u=this._processSignature(o,a,s);if(t){var l=this.activeCapabilities.indexOf(c.Capability.EIP155ReplayProtection);l>-1&&this.activeCapabilities.splice(l,1)}return u},e.prototype._getCommon=function(e,r){var t;if(r){var n=new f.BN((0,f.toBuffer)(r));if(e){if(!e.chainIdBN().eq(n)){var i=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(i)}return e.copy()}return u.default.isSupportedChainId(n)?new u.default({chain:n,hardfork:this.DEFAULT_HARDFORK}):u.default.forCustomChain(this.DEFAULT_CHAIN,{name:"custom-chain",networkId:n,chainId:n},this.DEFAULT_HARDFORK)}return null!==(t=null===e||void 0===e?void 0:e.copy())&&void 0!==t?t:new u.default({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})},e.prototype._validateCannotExceedMaxInteger=function(e,r,t){var n,i;void 0===r&&(r=256),void 0===t&&(t=!1);try{for(var o=a(Object.entries(e)),u=o.next();!u.done;u=o.next()){var c=s(u.value,2),l=c[0],h=c[1];switch(r){case 64:if(t){if(null===h||void 0===h?void 0:h.gte(f.MAX_UINT64)){var d=this._errorMsg("".concat(l," cannot equal or exceed MAX_UINT64 (2^64-1), given ").concat(h));throw new Error(d)}}else if(null===h||void 0===h?void 0:h.gt(f.MAX_UINT64)){d=this._errorMsg("".concat(l," cannot exceed MAX_UINT64 (2^64-1), given ").concat(h));throw new Error(d)}break;case 256:if(t){if(null===h||void 0===h?void 0:h.gte(f.MAX_INTEGER)){d=this._errorMsg("".concat(l," cannot equal or exceed MAX_INTEGER (2^256-1), given ").concat(h));throw new Error(d)}}else if(null===h||void 0===h?void 0:h.gt(f.MAX_INTEGER)){d=this._errorMsg("".concat(l," cannot exceed MAX_INTEGER (2^256-1), given ").concat(h));throw new Error(d)}break;default:d=this._errorMsg("unimplemented bits value");throw new Error(d)}}}catch(p){n={error:p}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype._getSharedErrorPostfix=function(){var e="";try{e=this.isSigned()?(0,f.bufferToHex)(this.hash()):"not available (unsigned)"}catch(i){e="error"}var r="";try{r=this.isSigned().toString()}catch(i){e="error"}var t="";try{t=this.common.hardfork()}catch(i){t="error"}var n="tx type=".concat(this.type," hash=").concat(e," nonce=").concat(this.nonce," value=").concat(this.value," ");return n+="signed=".concat(r," hf=").concat(t)},e}();r.BaseTransaction=l},40941:function(e,r,t){"use strict";var n=t(30261).Buffer,i=this&&this.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},e(r,t)};return function(r,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e},o.apply(this,arguments)},a=this&&this.__read||function(e,r){var t="function"===typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,i,o=t.call(e),a=[];try{for(;(void 0===r||r-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(r,"__esModule",{value:!0});var s=t(19081),u=t(14862),f=t(70779),c=t(95391),l=n.from(2..toString(16).padStart(2,"0"),"hex"),h=function(e){function r(r,t){void 0===t&&(t={});var n,i,a=this;(a=e.call(this,o(o({},r),{type:2}))||this).DEFAULT_HARDFORK="london";var u=r.chainId,l=r.accessList,h=r.maxFeePerGas,d=r.maxPriorityFeePerGas;if(a.common=a._getCommon(t.common,u),a.chainId=a.common.chainIdBN(),!a.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");a.activeCapabilities=a.activeCapabilities.concat([1559,2718,2930]);var p=c.AccessLists.getAccessListData(null!==l&&void 0!==l?l:[]);if(a.accessList=p.accessList,a.AccessListJSON=p.AccessListJSON,c.AccessLists.verifyAccessList(a.accessList),a.maxFeePerGas=new s.BN((0,s.toBuffer)(""===h?"0x":h)),a.maxPriorityFeePerGas=new s.BN((0,s.toBuffer)(""===d?"0x":d)),a._validateCannotExceedMaxInteger({maxFeePerGas:a.maxFeePerGas,maxPriorityFeePerGas:a.maxPriorityFeePerGas}),a.gasLimit.mul(a.maxFeePerGas).gt(s.MAX_INTEGER)){var v=a._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(v)}if(a.maxFeePerGas.lt(a.maxPriorityFeePerGas)){v=a._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(v)}if(a.v&&!a.v.eqn(0)&&!a.v.eqn(1)){v=a._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(v)}if(a.common.gteHardfork("homestead")&&(null===(n=a.s)||void 0===n?void 0:n.gt(f.N_DIV_2))){v=a._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(v)}return a.common.isActivatedEIP(3860)&&(0,c.checkMaxInitCodeSize)(a.common,a.data.length),(null===(i=null===t||void 0===t?void 0:t.freeze)||void 0===i||i)&&Object.freeze(a),a}return i(r,e),Object.defineProperty(r.prototype,"senderR",{get:function(){return this.r},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"senderS",{get:function(){return this.s},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yParity",{get:function(){return this.v},enumerable:!1,configurable:!0}),r.fromTxData=function(e,t){return void 0===t&&(t={}),new r(e,t)},r.fromSerializedTx=function(e,t){if(void 0===t&&(t={}),!e.slice(0,1).equals(l))throw new Error("Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ".concat(2,", received: ").concat(e.slice(0,1).toString("hex")));var n=s.rlp.decode(e.slice(1));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return r.fromValuesArray(n,t)},r.fromRlpSerializedTx=function(e,t){return void 0===t&&(t={}),r.fromSerializedTx(e,t)},r.fromValuesArray=function(e,t){if(void 0===t&&(t={}),9!==e.length&&12!==e.length)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");var n=a(e,12),i=n[0],o=n[1],u=n[2],f=n[3],c=n[4],l=n[5],h=n[6],d=n[7],p=n[8],v=n[9],g=n[10],y=n[11];return(0,s.validateNoLeadingZeroes)({nonce:o,maxPriorityFeePerGas:u,maxFeePerGas:f,gasLimit:c,value:h,v:v,r:g,s:y}),new r({chainId:new s.BN(i),nonce:o,maxPriorityFeePerGas:u,maxFeePerGas:f,gasLimit:c,to:l,value:h,data:d,accessList:null!==p&&void 0!==p?p:[],v:void 0!==v?new s.BN(v):void 0,r:g,s:y},t)},r.prototype.getDataFee=function(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;var r=e.prototype.getDataFee.call(this);return r.iaddn(c.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:r,hardfork:this.common.hardfork()}),r},r.prototype.getUpfrontCost=function(e){void 0===e&&(e=new s.BN(0));var r=s.BN.min(this.maxPriorityFeePerGas,this.maxFeePerGas.sub(e)).add(e);return this.gasLimit.mul(r).add(this.value)},r.prototype.raw=function(){return[(0,s.bnToUnpaddedBuffer)(this.chainId),(0,s.bnToUnpaddedBuffer)(this.nonce),(0,s.bnToUnpaddedBuffer)(this.maxPriorityFeePerGas),(0,s.bnToUnpaddedBuffer)(this.maxFeePerGas),(0,s.bnToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:n.from([]),(0,s.bnToUnpaddedBuffer)(this.value),this.data,this.accessList,void 0!==this.v?(0,s.bnToUnpaddedBuffer)(this.v):n.from([]),void 0!==this.r?(0,s.bnToUnpaddedBuffer)(this.r):n.from([]),void 0!==this.s?(0,s.bnToUnpaddedBuffer)(this.s):n.from([])]},r.prototype.serialize=function(){var e=this.raw();return n.concat([l,s.rlp.encode(e)])},r.prototype.getMessageToSign=function(e){void 0===e&&(e=!0);var r=this.raw().slice(0,9),t=n.concat([l,s.rlp.encode(r)]);return e?(0,s.keccak256)(t):t},r.prototype.hash=function(){if(!this.isSigned()){var e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=(0,s.keccak256)(this.serialize())),this.cache.hash):(0,s.keccak256)(this.serialize())},r.prototype.getMessageToVerifySignature=function(){return this.getMessageToSign()},r.prototype.getSenderPublicKey=function(){var e;if(!this.isSigned()){var r=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(r)}var t=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&(null===(e=this.s)||void 0===e?void 0:e.gt(f.N_DIV_2))){r=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(r)}var n=this,i=n.v,o=n.r,a=n.s;try{return(0,s.ecrecover)(t,i.addn(27),(0,s.bnToUnpaddedBuffer)(o),(0,s.bnToUnpaddedBuffer)(a))}catch(u){r=this._errorMsg("Invalid Signature");throw new Error(r)}},r.prototype._processSignature=function(e,t,n){var i={common:this.common};return r.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new s.BN(e-27),r:new s.BN(t),s:new s.BN(n)},i)},r.prototype.toJSON=function(){var e=c.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,s.bnToHex)(this.chainId),nonce:(0,s.bnToHex)(this.nonce),maxPriorityFeePerGas:(0,s.bnToHex)(this.maxPriorityFeePerGas),maxFeePerGas:(0,s.bnToHex)(this.maxFeePerGas),gasLimit:(0,s.bnToHex)(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:(0,s.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:void 0!==this.v?(0,s.bnToHex)(this.v):void 0,r:void 0!==this.r?(0,s.bnToHex)(this.r):void 0,s:void 0!==this.s?(0,s.bnToHex)(this.s):void 0}},r.prototype.errorStr=function(){var e=this._getSharedErrorPostfix();return e+=" maxFeePerGas=".concat(this.maxFeePerGas," maxPriorityFeePerGas=").concat(this.maxPriorityFeePerGas)},r.prototype._errorMsg=function(e){return"".concat(e," (").concat(this.errorStr(),")")},r}(u.BaseTransaction);r.default=h},95719:function(e,r,t){"use strict";var n=t(30261).Buffer,i=this&&this.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},e(r,t)};return function(r,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e},o.apply(this,arguments)},a=this&&this.__read||function(e,r){var t="function"===typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,i,o=t.call(e),a=[];try{for(;(void 0===r||r-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(r,"__esModule",{value:!0});var s=t(19081),u=t(14862),f=t(70779),c=t(95391),l=n.from(1..toString(16).padStart(2,"0"),"hex"),h=function(e){function r(r,t){void 0===t&&(t={});var n,i,a=this;(a=e.call(this,o(o({},r),{type:1}))||this).DEFAULT_HARDFORK="berlin";var u=r.chainId,l=r.accessList,h=r.gasPrice;if(a.common=a._getCommon(t.common,u),a.chainId=a.common.chainIdBN(),!a.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");a.activeCapabilities=a.activeCapabilities.concat([2718,2930]);var d=c.AccessLists.getAccessListData(null!==l&&void 0!==l?l:[]);if(a.accessList=d.accessList,a.AccessListJSON=d.AccessListJSON,c.AccessLists.verifyAccessList(a.accessList),a.gasPrice=new s.BN((0,s.toBuffer)(""===h?"0x":h)),a._validateCannotExceedMaxInteger({gasPrice:a.gasPrice}),a.gasPrice.mul(a.gasLimit).gt(s.MAX_INTEGER)){var p=a._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(p)}if(a.v&&!a.v.eqn(0)&&!a.v.eqn(1)){p=a._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(p)}if(a.common.gteHardfork("homestead")&&(null===(n=a.s)||void 0===n?void 0:n.gt(f.N_DIV_2))){p=a._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(p)}return a.common.isActivatedEIP(3860)&&(0,c.checkMaxInitCodeSize)(a.common,a.data.length),(null===(i=null===t||void 0===t?void 0:t.freeze)||void 0===i||i)&&Object.freeze(a),a}return i(r,e),Object.defineProperty(r.prototype,"senderR",{get:function(){return this.r},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"senderS",{get:function(){return this.s},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yParity",{get:function(){return this.v},enumerable:!1,configurable:!0}),r.fromTxData=function(e,t){return void 0===t&&(t={}),new r(e,t)},r.fromSerializedTx=function(e,t){if(void 0===t&&(t={}),!e.slice(0,1).equals(l))throw new Error("Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ".concat(1,", received: ").concat(e.slice(0,1).toString("hex")));var n=s.rlp.decode(e.slice(1));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return r.fromValuesArray(n,t)},r.fromRlpSerializedTx=function(e,t){return void 0===t&&(t={}),r.fromSerializedTx(e,t)},r.fromValuesArray=function(e,t){if(void 0===t&&(t={}),8!==e.length&&11!==e.length)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");var n=a(e,11),i=n[0],o=n[1],u=n[2],f=n[3],c=n[4],l=n[5],h=n[6],d=n[7],p=n[8],v=n[9],g=n[10];(0,s.validateNoLeadingZeroes)({nonce:o,gasPrice:u,gasLimit:f,value:l,v:p,r:v,s:g});return new r({chainId:new s.BN(i),nonce:o,gasPrice:u,gasLimit:f,to:c,value:l,data:h,accessList:null!==d&&void 0!==d?d:[],v:void 0!==p?new s.BN(p):void 0,r:v,s:g},t)},r.prototype.getDataFee=function(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;var r=e.prototype.getDataFee.call(this);return r.iaddn(c.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:r,hardfork:this.common.hardfork()}),r},r.prototype.getUpfrontCost=function(){return this.gasLimit.mul(this.gasPrice).add(this.value)},r.prototype.raw=function(){return[(0,s.bnToUnpaddedBuffer)(this.chainId),(0,s.bnToUnpaddedBuffer)(this.nonce),(0,s.bnToUnpaddedBuffer)(this.gasPrice),(0,s.bnToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:n.from([]),(0,s.bnToUnpaddedBuffer)(this.value),this.data,this.accessList,void 0!==this.v?(0,s.bnToUnpaddedBuffer)(this.v):n.from([]),void 0!==this.r?(0,s.bnToUnpaddedBuffer)(this.r):n.from([]),void 0!==this.s?(0,s.bnToUnpaddedBuffer)(this.s):n.from([])]},r.prototype.serialize=function(){var e=this.raw();return n.concat([l,s.rlp.encode(e)])},r.prototype.getMessageToSign=function(e){void 0===e&&(e=!0);var r=this.raw().slice(0,8),t=n.concat([l,s.rlp.encode(r)]);return e?(0,s.keccak256)(t):t},r.prototype.hash=function(){if(!this.isSigned()){var e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=(0,s.keccak256)(this.serialize())),this.cache.hash):(0,s.keccak256)(this.serialize())},r.prototype.getMessageToVerifySignature=function(){return this.getMessageToSign()},r.prototype.getSenderPublicKey=function(){var e;if(!this.isSigned()){var r=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(r)}var t=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&(null===(e=this.s)||void 0===e?void 0:e.gt(f.N_DIV_2))){r=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(r)}var n=this,i=n.yParity,o=n.r,a=n.s;try{return(0,s.ecrecover)(t,i.addn(27),(0,s.bnToUnpaddedBuffer)(o),(0,s.bnToUnpaddedBuffer)(a))}catch(u){r=this._errorMsg("Invalid Signature");throw new Error(r)}},r.prototype._processSignature=function(e,t,n){var i={common:this.common};return r.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new s.BN(e-27),r:new s.BN(t),s:new s.BN(n)},i)},r.prototype.toJSON=function(){var e=c.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,s.bnToHex)(this.chainId),nonce:(0,s.bnToHex)(this.nonce),gasPrice:(0,s.bnToHex)(this.gasPrice),gasLimit:(0,s.bnToHex)(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:(0,s.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:void 0!==this.v?(0,s.bnToHex)(this.v):void 0,r:void 0!==this.r?(0,s.bnToHex)(this.r):void 0,s:void 0!==this.s?(0,s.bnToHex)(this.s):void 0}},r.prototype.errorStr=function(){var e,r,t=this._getSharedErrorPostfix();return t+=" gasPrice=".concat(this.gasPrice," accessListCount=").concat(null!==(r=null===(e=this.accessList)||void 0===e?void 0:e.length)&&void 0!==r?r:0)},r.prototype._errorMsg=function(e){return"".concat(e," (").concat(this.errorStr(),")")},r}(u.BaseTransaction);r.default=h},21846:function(e,r,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,r,t,n){void 0===n&&(n=t);var i=Object.getOwnPropertyDescriptor(r,t);i&&!("get"in i?!r.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,i)}:function(e,r,t,n){void 0===n&&(n=t),e[n]=r[t]}),i=this&&this.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||n(r,e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.FeeMarketEIP1559Transaction=r.TransactionFactory=r.AccessListEIP2930Transaction=r.Transaction=void 0;var a=t(77812);Object.defineProperty(r,"Transaction",{enumerable:!0,get:function(){return o(a).default}});var s=t(95719);Object.defineProperty(r,"AccessListEIP2930Transaction",{enumerable:!0,get:function(){return o(s).default}});var u=t(13095);Object.defineProperty(r,"TransactionFactory",{enumerable:!0,get:function(){return o(u).default}});var f=t(40941);Object.defineProperty(r,"FeeMarketEIP1559Transaction",{enumerable:!0,get:function(){return o(f).default}}),i(t(70779),r)},77812:function(e,r,t){"use strict";var n=t(30261).Buffer,i=this&&this.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},e(r,t)};return function(r,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e},o.apply(this,arguments)},a=this&&this.__read||function(e,r){var t="function"===typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,i,o=t.call(e),a=[];try{for(;(void 0===r||r-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(r,"__esModule",{value:!0});var s=t(19081),u=t(70779),f=t(14862),c=t(95391),l=function(e){function r(r,t){void 0===t&&(t={});var n,i=this;if((i=e.call(this,o(o({},r),{type:0}))||this).common=i._validateTxV(i.v,t.common),i.gasPrice=new s.BN((0,s.toBuffer)(""===r.gasPrice?"0x":r.gasPrice)),i.gasPrice.mul(i.gasLimit).gt(s.MAX_INTEGER)){var a=i._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(a)}if(i._validateCannotExceedMaxInteger({gasPrice:i.gasPrice}),i.common.gteHardfork("spuriousDragon"))if(i.isSigned()){var f=i.v,l=i.common.chainIdBN().muln(2);(f.eq(l.addn(35))||f.eq(l.addn(36)))&&i.activeCapabilities.push(u.Capability.EIP155ReplayProtection)}else i.activeCapabilities.push(u.Capability.EIP155ReplayProtection);return i.common.isActivatedEIP(3860)&&(0,c.checkMaxInitCodeSize)(i.common,i.data.length),(null===(n=null===t||void 0===t?void 0:t.freeze)||void 0===n||n)&&Object.freeze(i),i}return i(r,e),r.fromTxData=function(e,t){return void 0===t&&(t={}),new r(e,t)},r.fromSerializedTx=function(e,r){void 0===r&&(r={});var t=s.rlp.decode(e);if(!Array.isArray(t))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(t,r)},r.fromRlpSerializedTx=function(e,t){return void 0===t&&(t={}),r.fromSerializedTx(e,t)},r.fromValuesArray=function(e,t){if(void 0===t&&(t={}),6!==e.length&&9!==e.length)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");var n=a(e,9),i=n[0],o=n[1],u=n[2],f=n[3],c=n[4],l=n[5],h=n[6],d=n[7],p=n[8];return(0,s.validateNoLeadingZeroes)({nonce:i,gasPrice:o,gasLimit:u,value:c,v:h,r:d,s:p}),new r({nonce:i,gasPrice:o,gasLimit:u,to:f,value:c,data:l,v:h,r:d,s:p},t)},r.prototype.raw=function(){return[(0,s.bnToUnpaddedBuffer)(this.nonce),(0,s.bnToUnpaddedBuffer)(this.gasPrice),(0,s.bnToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:n.from([]),(0,s.bnToUnpaddedBuffer)(this.value),this.data,void 0!==this.v?(0,s.bnToUnpaddedBuffer)(this.v):n.from([]),void 0!==this.r?(0,s.bnToUnpaddedBuffer)(this.r):n.from([]),void 0!==this.s?(0,s.bnToUnpaddedBuffer)(this.s):n.from([])]},r.prototype.serialize=function(){return s.rlp.encode(this.raw())},r.prototype._getMessageToSign=function(){var e=[(0,s.bnToUnpaddedBuffer)(this.nonce),(0,s.bnToUnpaddedBuffer)(this.gasPrice),(0,s.bnToUnpaddedBuffer)(this.gasLimit),void 0!==this.to?this.to.buf:n.from([]),(0,s.bnToUnpaddedBuffer)(this.value),this.data];return this.supports(u.Capability.EIP155ReplayProtection)&&(e.push((0,s.toBuffer)(this.common.chainIdBN())),e.push((0,s.unpadBuffer)((0,s.toBuffer)(0))),e.push((0,s.unpadBuffer)((0,s.toBuffer)(0)))),e},r.prototype.getMessageToSign=function(e){void 0===e&&(e=!0);var r=this._getMessageToSign();return e?(0,s.rlphash)(r):r},r.prototype.getDataFee=function(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:e.prototype.getDataFee.call(this),hardfork:this.common.hardfork()}),e.prototype.getDataFee.call(this))},r.prototype.getUpfrontCost=function(){return this.gasLimit.mul(this.gasPrice).add(this.value)},r.prototype.hash=function(){return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=(0,s.rlphash)(this.raw())),this.cache.hash):(0,s.rlphash)(this.raw())},r.prototype.getMessageToVerifySignature=function(){if(!this.isSigned()){var e=this._errorMsg("This transaction is not signed");throw new Error(e)}var r=this._getMessageToSign();return(0,s.rlphash)(r)},r.prototype.getSenderPublicKey=function(){var e,r=this.getMessageToVerifySignature();if(this.common.gteHardfork("homestead")&&(null===(e=this.s)||void 0===e?void 0:e.gt(u.N_DIV_2))){var t=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(t)}var n=this,i=n.v,o=n.r,a=n.s;try{return(0,s.ecrecover)(r,i,(0,s.bnToUnpaddedBuffer)(o),(0,s.bnToUnpaddedBuffer)(a),this.supports(u.Capability.EIP155ReplayProtection)?this.common.chainIdBN():void 0)}catch(f){t=this._errorMsg("Invalid Signature");throw new Error(t)}},r.prototype._processSignature=function(e,t,n){var i=new s.BN(e);this.supports(u.Capability.EIP155ReplayProtection)&&i.iadd(this.common.chainIdBN().muln(2).addn(8));var o={common:this.common};return r.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:i,r:new s.BN(t),s:new s.BN(n)},o)},r.prototype.toJSON=function(){return{nonce:(0,s.bnToHex)(this.nonce),gasPrice:(0,s.bnToHex)(this.gasPrice),gasLimit:(0,s.bnToHex)(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:(0,s.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),v:void 0!==this.v?(0,s.bnToHex)(this.v):void 0,r:void 0!==this.r?(0,s.bnToHex)(this.r):void 0,s:void 0!==this.s?(0,s.bnToHex)(this.s):void 0}},r.prototype._validateTxV=function(e,r){var t;if(void 0!==e&&!e.eqn(0)&&(!r||r.gteHardfork("spuriousDragon"))&&!e.eqn(27)&&!e.eqn(28))if(r){var n=r.chainIdBN().muln(2);if(!(e.eq(n.addn(35))||e.eq(n.addn(36))))throw new Error("Incompatible EIP155-based V ".concat(e," and chain id ").concat(r.chainIdBN(),". See the Common parameter of the Transaction constructor to set the chain id."))}else{var i=void 0;i=e.subn(35).isEven()?35:36,t=e.subn(i).divn(2)}return this._getCommon(r,t)},r.prototype._unsignedTxImplementsEIP155=function(){return this.common.gteHardfork("spuriousDragon")},r.prototype._signedTxImplementsEIP155=function(){if(!this.isSigned()){var e=this._errorMsg("This transaction is not signed");throw new Error(e)}var r=this.common.gteHardfork("spuriousDragon"),t=this.v,n=this.common.chainIdBN().muln(2);return(t.eq(n.addn(35))||t.eq(n.addn(36)))&&r},r.prototype.errorStr=function(){var e=this._getSharedErrorPostfix();return e+=" gasPrice=".concat(this.gasPrice)},r.prototype._errorMsg=function(e){return"".concat(e," (").concat(this.errorStr(),")")},r}(f.BaseTransaction);r.default=l},13095:function(e,r,t){"use strict";var n=t(30261).Buffer;Object.defineProperty(r,"__esModule",{value:!0});var i=t(19081),o=t(21846),a=function(){function e(){}return e.fromTxData=function(e,r){if(void 0===r&&(r={}),"type"in e&&void 0!==e.type){var t=new i.BN((0,i.toBuffer)(e.type)).toNumber();if(0===t)return o.Transaction.fromTxData(e,r);if(1===t)return o.AccessListEIP2930Transaction.fromTxData(e,r);if(2===t)return o.FeeMarketEIP1559Transaction.fromTxData(e,r);throw new Error("Tx instantiation with type ".concat(t," not supported"))}return o.Transaction.fromTxData(e,r)},e.fromSerializedData=function(e,r){if(void 0===r&&(r={}),e[0]<=127){var t=void 0;switch(e[0]){case 1:t=2930;break;case 2:t=1559;break;default:throw new Error("TypedTransaction with ID ".concat(e[0]," unknown"))}return 1559===t?o.FeeMarketEIP1559Transaction.fromSerializedTx(e,r):o.AccessListEIP2930Transaction.fromSerializedTx(e,r)}return o.Transaction.fromSerializedTx(e,r)},e.fromBlockBodyData=function(e,r){if(void 0===r&&(r={}),n.isBuffer(e))return this.fromSerializedData(e,r);if(Array.isArray(e))return o.Transaction.fromValuesArray(e,r);throw new Error("Cannot decode transaction: unknown type input")},e.getTransactionClass=function(e,r){if(void 0===e&&(e=0),0==e||e>=128&&e<=255)return o.Transaction;switch(e){case 1:return o.AccessListEIP2930Transaction;case 2:return o.FeeMarketEIP1559Transaction;default:throw new Error("TypedTransaction with ID ".concat(e," unknown"))}},e}();r.default=a},70779:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.N_DIV_2=r.isAccessList=r.isAccessListBuffer=r.Capability=void 0;var n=t(19081);function i(e){if(0===e.length)return!0;var r=e[0];return!!Array.isArray(r)}!function(e){e[e.EIP155ReplayProtection=155]="EIP155ReplayProtection",e[e.EIP1559FeeMarket=1559]="EIP1559FeeMarket",e[e.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",e[e.EIP2930AccessLists=2930]="EIP2930AccessLists"}(r.Capability||(r.Capability={})),r.isAccessListBuffer=i,r.isAccessList=function(e){return!i(e)},r.N_DIV_2=new n.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16)},95391:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AccessLists=r.checkMaxInitCodeSize=void 0;var n=t(19081),i=t(70779);r.checkMaxInitCodeSize=function(e,r){if(r>e.param("vm","maxInitCodeSize"))throw new Error("the initcode size of this transaction is too large: it is ".concat(r," while the max is ").concat(e.param("vm","maxInitCodeSize")))};var o=function(){function e(){}return e.getAccessListData=function(e){var r,t;if(e&&(0,i.isAccessList)(e)){r=e;for(var o=[],a=0;a<e.length;a++){for(var s=e[a],u=(0,n.toBuffer)(s.address),f=[],c=0;c<s.storageKeys.length;c++)f.push((0,n.toBuffer)(s.storageKeys[c]));o.push([u,f])}t=o}else{t=null!==e&&void 0!==e?e:[];var l=[];for(a=0;a<t.length;a++){var h=t[a],d=(0,n.bufferToHex)(h[0]),p=[];for(s=0;s<h[1].length;s++)p.push((0,n.bufferToHex)(h[1][s]));var v={address:d,storageKeys:p};l.push(v)}r=l}return{AccessListJSON:r,accessList:t}},e.verifyAccessList=function(e){for(var r=0;r<e.length;r++){var t=e[r],n=t[0],i=t[1];if(void 0!==t[2])throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(20!=n.length)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(var o=0;o<i.length;o++)if(32!=i[o].length)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},e.getAccessListJSON=function(e){for(var r=[],t=0;t<e.length;t++){for(var i=e[t],o={address:"0x"+(0,n.setLengthLeft)(i[0],20).toString("hex"),storageKeys:[]},a=i[1],s=0;s<a.length;s++){var u=a[s];o.storageKeys.push("0x"+(0,n.setLengthLeft)(u,32).toString("hex"))}r.push(o)}return r},e.getDataFeeEIP2930=function(e,r){for(var t=r.param("gasPrices","accessListStorageKeyCost"),n=r.param("gasPrices","accessListAddressCost"),i=0,o=0;o<e.length;o++){i+=e[o][1].length}return e.length*n+i*t},e}();r.AccessLists=o},70148:function(e,r,t){"use strict";var n=t(30261).Buffer,i=this&&this.__read||function(e,r){var t="function"===typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,i,o=t.call(e),a=[];try{for(;(void 0===r||r-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.isZeroAddress=r.zeroAddress=r.importPublic=r.privateToAddress=r.privateToPublic=r.publicToAddress=r.pubToAddress=r.isValidPublic=r.isValidPrivate=r.generateAddress2=r.generateAddress=r.isValidChecksumAddress=r.toChecksumAddress=r.isValidAddress=r.Account=void 0;var a=o(t(40569)),s=t(5495),u=t(42917),f=t(5320),c=t(91008),l=t(12711),h=t(98871),d=t(68097),p=t(71521),v=function(){function e(e,r,t,n){void 0===e&&(e=new s.BN(0)),void 0===r&&(r=new s.BN(0)),void 0===t&&(t=c.KECCAK256_RLP),void 0===n&&(n=c.KECCAK256_NULL),this.nonce=e,this.balance=r,this.stateRoot=t,this.codeHash=n,this._validate()}return e.fromAccountData=function(r){var t=r.nonce,n=r.balance,i=r.stateRoot,o=r.codeHash;return new e(t?new s.BN((0,l.toBuffer)(t)):void 0,n?new s.BN((0,l.toBuffer)(n)):void 0,i?(0,l.toBuffer)(i):void 0,o?(0,l.toBuffer)(o):void 0)},e.fromRlpSerializedAccount=function(e){var r=s.rlp.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(r)},e.fromValuesArray=function(r){var t=i(r,4),n=t[0],o=t[1],a=t[2],u=t[3];return new e(new s.BN(n),new s.BN(o),a,u)},e.prototype._validate=function(){if(this.nonce.lt(new s.BN(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new s.BN(0)))throw new Error("balance must be greater than zero");if(32!==this.stateRoot.length)throw new Error("stateRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")},e.prototype.raw=function(){return[(0,p.bnToUnpaddedBuffer)(this.nonce),(0,p.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},e.prototype.serialize=function(){return s.rlp.encode(this.raw())},e.prototype.isContract=function(){return!this.codeHash.equals(c.KECCAK256_NULL)},e.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(c.KECCAK256_NULL)},e}();r.Account=v;r.isValidAddress=function(e){try{(0,d.assertIsString)(e)}catch(r){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};r.toChecksumAddress=function(e,r){(0,d.assertIsHexString)(e);var t=(0,f.stripHexPrefix)(e).toLowerCase(),n="";r&&(n=(0,p.toType)(r,p.TypeOutput.BN).toString()+"0x");for(var i=(0,h.keccakFromString)(n+t).toString("hex"),o="0x",a=0;a<t.length;a++)parseInt(i[a],16)>=8?o+=t[a].toUpperCase():o+=t[a];return o};r.isValidChecksumAddress=function(e,t){return(0,r.isValidAddress)(e)&&(0,r.toChecksumAddress)(e,t)===e};r.generateAddress=function(e,r){(0,d.assertIsBuffer)(e),(0,d.assertIsBuffer)(r);var t=new s.BN(r);return t.isZero()?(0,h.rlphash)([e,null]).slice(-20):(0,h.rlphash)([e,n.from(t.toArray())]).slice(-20)};r.generateAddress2=function(e,r,t){return(0,d.assertIsBuffer)(e),(0,d.assertIsBuffer)(r),(0,d.assertIsBuffer)(t),(0,a.default)(20===e.length),(0,a.default)(32===r.length),(0,h.keccak256)(n.concat([n.from("ff","hex"),e,r,(0,h.keccak256)(t)])).slice(-20)};r.isValidPrivate=function(e){return(0,u.privateKeyVerify)(e)};r.isValidPublic=function(e,r){return void 0===r&&(r=!1),(0,d.assertIsBuffer)(e),64===e.length?(0,u.publicKeyVerify)(n.concat([n.from([4]),e])):!!r&&(0,u.publicKeyVerify)(e)};r.pubToAddress=function(e,r){return void 0===r&&(r=!1),(0,d.assertIsBuffer)(e),r&&64!==e.length&&(e=n.from((0,u.publicKeyConvert)(e,!1).slice(1))),(0,a.default)(64===e.length),(0,h.keccak)(e).slice(-20)},r.publicToAddress=r.pubToAddress;r.privateToPublic=function(e){return(0,d.assertIsBuffer)(e),n.from((0,u.publicKeyCreate)(e,!1)).slice(1)};r.privateToAddress=function(e){return(0,r.publicToAddress)((0,r.privateToPublic)(e))};r.importPublic=function(e){return(0,d.assertIsBuffer)(e),64!==e.length&&(e=n.from((0,u.publicKeyConvert)(e,!1).slice(1))),e};r.zeroAddress=function(){var e=(0,l.zeros)(20);return(0,l.bufferToHex)(e)};r.isZeroAddress=function(e){try{(0,d.assertIsString)(e)}catch(t){return!1}return(0,r.zeroAddress)()===e}},57586:function(e,r,t){"use strict";var n=t(30261).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.Address=void 0;var o=i(t(40569)),a=t(5495),s=t(12711),u=t(70148),f=function(){function e(e){(0,o.default)(20===e.length,"Invalid address length"),this.buf=e}return e.zero=function(){return new e((0,s.zeros)(20))},e.fromString=function(r){return(0,o.default)((0,u.isValidAddress)(r),"Invalid address"),new e((0,s.toBuffer)(r))},e.fromPublicKey=function(r){return(0,o.default)(n.isBuffer(r),"Public key should be Buffer"),new e((0,u.pubToAddress)(r))},e.fromPrivateKey=function(r){return(0,o.default)(n.isBuffer(r),"Private key should be Buffer"),new e((0,u.privateToAddress)(r))},e.generate=function(r,t){return(0,o.default)(a.BN.isBN(t)),new e((0,u.generateAddress)(r.buf,t.toArrayLike(n)))},e.generate2=function(r,t,i){return(0,o.default)(n.isBuffer(t)),(0,o.default)(n.isBuffer(i)),new e((0,u.generateAddress2)(r.buf,t,i))},e.prototype.equals=function(e){return this.buf.equals(e.buf)},e.prototype.isZero=function(){return this.equals(e.zero())},e.prototype.isPrecompileOrSystemAddress=function(){var e=new a.BN(this.buf),r=new a.BN(0),t=new a.BN("ffff","hex");return e.gte(r)&&e.lte(t)},e.prototype.toString=function(){return"0x"+this.buf.toString("hex")},e.prototype.toBuffer=function(){return n.from(this.buf)},e}();r.Address=f},12711:function(e,r,t){"use strict";var n=t(30261).Buffer,i=this&&this.__values||function(e){var r="function"===typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,r){var t="function"===typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,i,o=t.call(e),a=[];try{for(;(void 0===r||r-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(r,"__esModule",{value:!0}),r.bufArrToArr=r.arrToBufArr=r.validateNoLeadingZeroes=r.baToJSON=r.toUtf8=r.addHexPrefix=r.toUnsigned=r.fromSigned=r.bufferToHex=r.bufferToInt=r.toBuffer=r.unpadHexString=r.unpadArray=r.unpadBuffer=r.setLengthRight=r.setLengthLeft=r.zeros=r.intToBuffer=r.intToHex=void 0;var a=t(5495),s=t(5320),u=t(68097);r.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Received an invalid integer type: ".concat(e));return"0x".concat(e.toString(16))};r.intToBuffer=function(e){var t=(0,r.intToHex)(e);return n.from((0,s.padToEven)(t.slice(2)),"hex")};r.zeros=function(e){return n.allocUnsafe(e).fill(0)};var f=function(e,t,n){var i=(0,r.zeros)(t);return n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)};r.setLengthLeft=function(e,r){return(0,u.assertIsBuffer)(e),f(e,r,!1)};r.setLengthRight=function(e,r){return(0,u.assertIsBuffer)(e),f(e,r,!0)};var c=function(e){for(var r=e[0];e.length>0&&"0"===r.toString();)r=(e=e.slice(1))[0];return e};r.unpadBuffer=function(e){return(0,u.assertIsBuffer)(e),c(e)};r.unpadArray=function(e){return(0,u.assertIsArray)(e),c(e)};r.unpadHexString=function(e){return(0,u.assertIsHexString)(e),e=(0,s.stripHexPrefix)(e),c(e)};r.toBuffer=function(e){if(null===e||void 0===e)return n.allocUnsafe(0);if(n.isBuffer(e))return n.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return n.from(e);if("string"===typeof e){if(!(0,s.isHexString)(e))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ".concat(e));return n.from((0,s.padToEven)((0,s.stripHexPrefix)(e)),"hex")}if("number"===typeof e)return(0,r.intToBuffer)(e);if(a.BN.isBN(e)){if(e.isNeg())throw new Error("Cannot convert negative BN to buffer. Given: ".concat(e));return e.toArrayLike(n)}if(e.toArray)return n.from(e.toArray());if(e.toBuffer)return n.from(e.toBuffer());throw new Error("invalid type")};r.bufferToInt=function(e){return new a.BN((0,r.toBuffer)(e)).toNumber()};r.bufferToHex=function(e){return"0x"+(e=(0,r.toBuffer)(e)).toString("hex")};r.fromSigned=function(e){return new a.BN(e).fromTwos(256)};r.toUnsigned=function(e){return n.from(e.toTwos(256).toArray())};r.addHexPrefix=function(e){return"string"!==typeof e||(0,s.isHexPrefixed)(e)?e:"0x"+e};r.toUtf8=function(e){if((e=(0,s.stripHexPrefix)(e)).length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return n.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};r.baToJSON=function(e){if(n.isBuffer(e))return"0x".concat(e.toString("hex"));if(e instanceof Array){for(var t=[],i=0;i<e.length;i++)t.push((0,r.baToJSON)(e[i]));return t}};r.validateNoLeadingZeroes=function(e){var r,t;try{for(var n=i(Object.entries(e)),a=n.next();!a.done;a=n.next()){var s=o(a.value,2),u=s[0],f=s[1];if(void 0!==f&&f.length>0&&0===f[0])throw new Error("".concat(u," cannot have leading zeroes, received: ").concat(f.toString("hex")))}}catch(c){r={error:c}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(r)throw r.error}}},r.arrToBufArr=function e(r){return Array.isArray(r)?r.map((function(r){return e(r)})):n.from(r)},r.bufArrToArr=function e(r){return Array.isArray(r)?r.map((function(r){return e(r)})):Uint8Array.from(null!==r&&void 0!==r?r:[])}},91008:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.KECCAK256_RLP=r.KECCAK256_RLP_S=r.KECCAK256_RLP_ARRAY=r.KECCAK256_RLP_ARRAY_S=r.KECCAK256_NULL=r.KECCAK256_NULL_S=r.TWO_POW256=r.MAX_INTEGER=r.MAX_UINT64=void 0;var n=t(30261),i=t(5495);r.MAX_UINT64=new i.BN("ffffffffffffffff",16),r.MAX_INTEGER=new i.BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),r.TWO_POW256=new i.BN("10000000000000000000000000000000000000000000000000000000000000000",16),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=n.Buffer.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=n.Buffer.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=n.Buffer.from(r.KECCAK256_RLP_S,"hex")},5495:function(e,r,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,r,t,n){void 0===n&&(n=t);var i=Object.getOwnPropertyDescriptor(r,t);i&&!("get"in i?!r.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,i)}:function(e,r,t,n){void 0===n&&(n=t),e[n]=r[t]}),i=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&n(r,e,t);return i(r,e),r},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.rlp=r.BN=void 0;var s=a(t(45081));r.BN=s.default;var u=o(t(17593));r.rlp=u},98871:function(e,r,t){"use strict";var n=t(30261).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.rlphash=r.ripemd160FromArray=r.ripemd160FromString=r.ripemd160=r.sha256FromArray=r.sha256FromString=r.sha256=r.keccakFromArray=r.keccakFromHexString=r.keccakFromString=r.keccak256=r.keccak=void 0;var i=t(9197),o=t(46764),a=t(5495),s=t(12711),u=t(68097);r.keccak=function(e,r){switch(void 0===r&&(r=256),(0,u.assertIsBuffer)(e),r){case 224:return(0,i.keccak224)(e);case 256:return(0,i.keccak256)(e);case 384:return(0,i.keccak384)(e);case 512:return(0,i.keccak512)(e);default:throw new Error("Invald algorithm: keccak".concat(r))}};r.keccak256=function(e){return(0,r.keccak)(e)};r.keccakFromString=function(e,t){void 0===t&&(t=256),(0,u.assertIsString)(e);var i=n.from(e,"utf8");return(0,r.keccak)(i,t)};r.keccakFromHexString=function(e,t){return void 0===t&&(t=256),(0,u.assertIsHexString)(e),(0,r.keccak)((0,s.toBuffer)(e),t)};r.keccakFromArray=function(e,t){return void 0===t&&(t=256),(0,u.assertIsArray)(e),(0,r.keccak)((0,s.toBuffer)(e),t)};var f=function(e){return e=(0,s.toBuffer)(e),o("sha256").update(e).digest()};r.sha256=function(e){return(0,u.assertIsBuffer)(e),f(e)};r.sha256FromString=function(e){return(0,u.assertIsString)(e),f(e)};r.sha256FromArray=function(e){return(0,u.assertIsArray)(e),f(e)};var c=function(e,r){e=(0,s.toBuffer)(e);var t=o("rmd160").update(e).digest();return!0===r?(0,s.setLengthLeft)(t,32):t};r.ripemd160=function(e,r){return(0,u.assertIsBuffer)(e),c(e,r)};r.ripemd160FromString=function(e,r){return(0,u.assertIsString)(e),c(e,r)};r.ripemd160FromArray=function(e,r){return(0,u.assertIsArray)(e),c(e,r)};r.rlphash=function(e){return(0,r.keccak)(a.rlp.encode(e))}},68097:function(e,r,t){"use strict";var n=t(30261).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.assertIsString=r.assertIsArray=r.assertIsBuffer=r.assertIsHexString=void 0;var i=t(5320);r.assertIsHexString=function(e){if(!(0,i.isHexString)(e)){var r="This method only supports 0x-prefixed hex strings but input was: ".concat(e);throw new Error(r)}};r.assertIsBuffer=function(e){if(!n.isBuffer(e)){var r="This method only supports Buffer but input was: ".concat(e);throw new Error(r)}};r.assertIsArray=function(e){if(!Array.isArray(e)){var r="This method only supports number arrays but input was: ".concat(e);throw new Error(r)}};r.assertIsString=function(e){if("string"!==typeof e){var r="This method only supports strings but input was: ".concat(e);throw new Error(r)}}},19081:function(e,r,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,r,t,n){void 0===n&&(n=t);var i=Object.getOwnPropertyDescriptor(r,t);i&&!("get"in i?!r.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,i)}:function(e,r,t,n){void 0===n&&(n=t),e[n]=r[t]}),i=this&&this.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||n(r,e,t)};Object.defineProperty(r,"__esModule",{value:!0}),r.isHexString=r.getKeys=r.fromAscii=r.fromUtf8=r.toAscii=r.arrayContainsArray=r.getBinarySize=r.padToEven=r.stripHexPrefix=r.isHexPrefixed=void 0,i(t(91008),r),i(t(70148),r),i(t(57586),r),i(t(98871),r),i(t(68481),r),i(t(12711),r),i(t(76134),r),i(t(5495),r),i(t(71521),r);var o=t(5320);Object.defineProperty(r,"isHexPrefixed",{enumerable:!0,get:function(){return o.isHexPrefixed}}),Object.defineProperty(r,"stripHexPrefix",{enumerable:!0,get:function(){return o.stripHexPrefix}}),Object.defineProperty(r,"padToEven",{enumerable:!0,get:function(){return o.padToEven}}),Object.defineProperty(r,"getBinarySize",{enumerable:!0,get:function(){return o.getBinarySize}}),Object.defineProperty(r,"arrayContainsArray",{enumerable:!0,get:function(){return o.arrayContainsArray}}),Object.defineProperty(r,"toAscii",{enumerable:!0,get:function(){return o.toAscii}}),Object.defineProperty(r,"fromUtf8",{enumerable:!0,get:function(){return o.fromUtf8}}),Object.defineProperty(r,"fromAscii",{enumerable:!0,get:function(){return o.fromAscii}}),Object.defineProperty(r,"getKeys",{enumerable:!0,get:function(){return o.getKeys}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return o.isHexString}})},5320:function(e,r,t){"use strict";var n=t(30261).Buffer;function i(e){if("string"!==typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type ".concat(typeof e));return"0"===e[0]&&"x"===e[1]}Object.defineProperty(r,"__esModule",{value:!0}),r.isHexString=r.getKeys=r.fromAscii=r.fromUtf8=r.toAscii=r.arrayContainsArray=r.getBinarySize=r.padToEven=r.stripHexPrefix=r.isHexPrefixed=void 0,r.isHexPrefixed=i;function o(e){var r=e;if("string"!==typeof r)throw new Error("[padToEven] value must be type 'string', received ".concat(typeof r));return r.length%2&&(r="0".concat(r)),r}r.stripHexPrefix=function(e){if("string"!==typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received ".concat(typeof e));return i(e)?e.slice(2):e},r.padToEven=o,r.getBinarySize=function(e){if("string"!==typeof e)throw new Error("[getBinarySize] method requires input type 'string', recieved ".concat(typeof e));return n.byteLength(e,"utf8")},r.arrayContainsArray=function(e,r,t){if(!0!==Array.isArray(e))throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '".concat(typeof e,"'"));if(!0!==Array.isArray(r))throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '".concat(typeof r,"'"));return r[t?"some":"every"]((function(r){return e.indexOf(r)>=0}))},r.toAscii=function(e){var r="",t=0,n=e.length;for("0x"===e.substring(0,2)&&(t=2);t<n;t+=2){var i=parseInt(e.substr(t,2),16);r+=String.fromCharCode(i)}return r},r.fromUtf8=function(e){var r=n.from(e,"utf8");return"0x".concat(o(r.toString("hex")).replace(/^0+|0+$/g,""))},r.fromAscii=function(e){for(var r="",t=0;t<e.length;t++){var n=e.charCodeAt(t).toString(16);r+=n.length<2?"0".concat(n):n}return"0x".concat(r)},r.getKeys=function(e,r,t){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got ".concat(typeof e));if("string"!==typeof r)throw new Error("[getKeys] method expects input 'key' to be type 'string', got ".concat(typeof e));for(var n=[],i=0;i<e.length;i++){var o=e[i][r];if(t&&!o)o="";else if("string"!==typeof o)throw new Error("invalid abi - expected type 'string', received ".concat(typeof o));n.push(o)}return n},r.isHexString=function(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}},76134:function(e,r,t){"use strict";var n=t(30261).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.defineProperties=void 0;var o=i(t(40569)),a=t(5320),s=t(5495),u=t(12711);r.defineProperties=function(e,r,t){if(e.raw=[],e._fields=[],e.toJSON=function(r){if(void 0===r&&(r=!1),r){var t={};return e._fields.forEach((function(r){t[r]="0x".concat(e[r].toString("hex"))})),t}return(0,u.baToJSON)(e.raw)},e.serialize=function(){return s.rlp.encode(e.raw)},r.forEach((function(r,t){function i(){return e.raw[t]}function a(i){"00"!==(i=(0,u.toBuffer)(i)).toString("hex")||r.allowZero||(i=n.allocUnsafe(0)),r.allowLess&&r.length?(i=(0,u.unpadBuffer)(i),(0,o.default)(r.length>=i.length,"The field ".concat(r.name," must not have more ").concat(r.length," bytes"))):r.allowZero&&0===i.length||!r.length||(0,o.default)(r.length===i.length,"The field ".concat(r.name," must have byte length of ").concat(r.length)),e.raw[t]=i}e._fields.push(r.name),Object.defineProperty(e,r.name,{enumerable:!0,configurable:!0,get:i,set:a}),r.default&&(e[r.name]=r.default),r.alias&&Object.defineProperty(e,r.alias,{enumerable:!1,configurable:!0,set:a,get:i})})),t)if("string"===typeof t&&(t=n.from((0,a.stripHexPrefix)(t),"hex")),n.isBuffer(t)&&(t=s.rlp.decode(t)),Array.isArray(t)){if(t.length>e._fields.length)throw new Error("wrong number of fields in data");t.forEach((function(r,t){e[e._fields[t]]=(0,u.toBuffer)(r)}))}else{if("object"!==typeof t)throw new Error("invalid data");var i=Object.keys(t);r.forEach((function(r){-1!==i.indexOf(r.name)&&(e[r.name]=t[r.name]),-1!==i.indexOf(r.alias)&&(e[r.alias]=t[r.alias])}))}}},68481:function(e,r,t){"use strict";var n=t(30261).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.hashPersonalMessage=r.isValidSignature=r.fromRpcSig=r.toCompactSig=r.toRpcSig=r.ecrecover=r.ecsign=void 0;var i=t(42917),o=t(5495),a=t(12711),s=t(98871),u=t(68097),f=t(71521);function c(e,r){var t=(0,f.toType)(e,f.TypeOutput.BN);if(t.eqn(0)||t.eqn(1))return(0,f.toType)(e,f.TypeOutput.BN);if(!r)return t.subn(27);var n=(0,f.toType)(r,f.TypeOutput.BN);return t.sub(n.muln(2).addn(35))}function l(e){var r=new o.BN(e);return r.eqn(0)||r.eqn(1)}r.ecsign=function(e,r,t){var o=(0,i.ecdsaSign)(e,r),a=o.signature,s=o.recid,u=n.from(a.slice(0,32)),c=n.from(a.slice(32,64));if(!t||"number"===typeof t){if(t&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");return{r:u,s:c,v:t?s+(2*t+35):s+27}}return{r:u,s:c,v:(0,f.toType)(t,f.TypeOutput.BN).muln(2).addn(35).addn(s).toArrayLike(n)}};r.ecrecover=function(e,r,t,o,s){var u=n.concat([(0,a.setLengthLeft)(t,32),(0,a.setLengthLeft)(o,32)],64),f=c(r,s);if(!l(f))throw new Error("Invalid signature v value");var h=(0,i.ecdsaRecover)(u,f.toNumber(),e);return n.from((0,i.publicKeyConvert)(h,!1).slice(1))};r.toRpcSig=function(e,r,t,i){if(!l(c(e,i)))throw new Error("Invalid signature v value");return(0,a.bufferToHex)(n.concat([(0,a.setLengthLeft)(r,32),(0,a.setLengthLeft)(t,32),(0,a.toBuffer)(e)]))};r.toCompactSig=function(e,r,t,i){if(!l(c(e,i)))throw new Error("Invalid signature v value");var o=(0,f.toType)(e,f.TypeOutput.Number),s=t;return(o>28&&o%2===1||1===o||28===o)&&((s=n.from(t))[0]|=128),(0,a.bufferToHex)(n.concat([(0,a.setLengthLeft)(r,32),(0,a.setLengthLeft)(s,32)]))};r.fromRpcSig=function(e){var r,t,n,i=(0,a.toBuffer)(e);if(i.length>=65)r=i.slice(0,32),t=i.slice(32,64),n=(0,a.bufferToInt)(i.slice(64));else{if(64!==i.length)throw new Error("Invalid signature length");r=i.slice(0,32),t=i.slice(32,64),n=(0,a.bufferToInt)(i.slice(32,33))>>7,t[0]&=127}return n<27&&(n+=27),{v:n,r:r,s:t}};r.isValidSignature=function(e,r,t,n,i){void 0===n&&(n=!0);var a=new o.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),s=new o.BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==r.length||32!==t.length)return!1;if(!l(c(e,i)))return!1;var u=new o.BN(r),f=new o.BN(t);return!(u.isZero()||u.gt(s)||f.isZero()||f.gt(s))&&(!n||1!==f.cmp(a))};r.hashPersonalMessage=function(e){(0,u.assertIsBuffer)(e);var r=n.from("\x19Ethereum Signed Message:\n".concat(e.length),"utf-8");return(0,s.keccak)(n.concat([r,e]))}},71521:function(e,r,t){"use strict";var n=t(30261).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.toType=r.TypeOutput=r.bnToRlp=r.bnToUnpaddedBuffer=r.bnToHex=void 0;var i,o=t(5495),a=t(5320),s=t(12711);function u(e){return(0,s.unpadBuffer)(e.toArrayLike(n))}r.bnToHex=function(e){return"0x".concat(e.toString(16))},r.bnToUnpaddedBuffer=u,r.bnToRlp=function(e){return u(e)},function(e){e[e.Number=0]="Number",e[e.BN=1]="BN",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(i=r.TypeOutput||(r.TypeOutput={})),r.toType=function(e,r){if(null===e)return null;if(void 0!==e){if("string"===typeof e&&!(0,a.isHexString)(e))throw new Error("A string must be provided with a 0x-prefix, given: ".concat(e));if("number"===typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var t=(0,s.toBuffer)(e);if(r===i.Buffer)return t;if(r===i.BN)return new o.BN(t);if(r===i.Number){var n=new o.BN(t),u=new o.BN(Number.MAX_SAFE_INTEGER.toString());if(n.gt(u))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return n.toNumber()}return"0x".concat(t.toString("hex"))}}},64304:function(e,r,t){"use strict";var n=t(30261).Buffer,i=this&&this.__read||function(e,r){var t="function"===typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,i,o=t.call(e),a=[];try{for(;(void 0===r||r-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.isZeroAddress=r.zeroAddress=r.importPublic=r.privateToAddress=r.privateToPublic=r.publicToAddress=r.pubToAddress=r.isValidPublic=r.isValidPrivate=r.generateAddress2=r.generateAddress=r.isValidChecksumAddress=r.toChecksumAddress=r.isValidAddress=r.Account=void 0;var a=o(t(40569)),s=t(35908),u=t(42917),f=t(64609),c=t(50103),l=t(6817),h=t(24865),d=t(19226),p=t(64114),v=function(){function e(e,r,t,n){void 0===e&&(e=new s.BN(0)),void 0===r&&(r=new s.BN(0)),void 0===t&&(t=c.KECCAK256_RLP),void 0===n&&(n=c.KECCAK256_NULL),this.nonce=e,this.balance=r,this.stateRoot=t,this.codeHash=n,this._validate()}return e.fromAccountData=function(r){var t=r.nonce,n=r.balance,i=r.stateRoot,o=r.codeHash;return new e(t?new s.BN((0,l.toBuffer)(t)):void 0,n?new s.BN((0,l.toBuffer)(n)):void 0,i?(0,l.toBuffer)(i):void 0,o?(0,l.toBuffer)(o):void 0)},e.fromRlpSerializedAccount=function(e){var r=s.rlp.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(r)},e.fromValuesArray=function(r){var t=i(r,4),n=t[0],o=t[1],a=t[2],u=t[3];return new e(new s.BN(n),new s.BN(o),a,u)},e.prototype._validate=function(){if(this.nonce.lt(new s.BN(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new s.BN(0)))throw new Error("balance must be greater than zero");if(32!==this.stateRoot.length)throw new Error("stateRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")},e.prototype.raw=function(){return[(0,p.bnToUnpaddedBuffer)(this.nonce),(0,p.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},e.prototype.serialize=function(){return s.rlp.encode(this.raw())},e.prototype.isContract=function(){return!this.codeHash.equals(c.KECCAK256_NULL)},e.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(c.KECCAK256_NULL)},e}();r.Account=v;r.isValidAddress=function(e){try{(0,d.assertIsString)(e)}catch(r){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};r.toChecksumAddress=function(e,r){(0,d.assertIsHexString)(e);var t=(0,f.stripHexPrefix)(e).toLowerCase(),n="";r&&(n=(0,p.toType)(r,p.TypeOutput.BN).toString()+"0x");for(var i=(0,h.keccakFromString)(n+t).toString("hex"),o="0x",a=0;a<t.length;a++)parseInt(i[a],16)>=8?o+=t[a].toUpperCase():o+=t[a];return o};r.isValidChecksumAddress=function(e,t){return(0,r.isValidAddress)(e)&&(0,r.toChecksumAddress)(e,t)===e};r.generateAddress=function(e,r){(0,d.assertIsBuffer)(e),(0,d.assertIsBuffer)(r);var t=new s.BN(r);return t.isZero()?(0,h.rlphash)([e,null]).slice(-20):(0,h.rlphash)([e,n.from(t.toArray())]).slice(-20)};r.generateAddress2=function(e,r,t){return(0,d.assertIsBuffer)(e),(0,d.assertIsBuffer)(r),(0,d.assertIsBuffer)(t),(0,a.default)(20===e.length),(0,a.default)(32===r.length),(0,h.keccak256)(n.concat([n.from("ff","hex"),e,r,(0,h.keccak256)(t)])).slice(-20)};r.isValidPrivate=function(e){return(0,u.privateKeyVerify)(e)};r.isValidPublic=function(e,r){return void 0===r&&(r=!1),(0,d.assertIsBuffer)(e),64===e.length?(0,u.publicKeyVerify)(n.concat([n.from([4]),e])):!!r&&(0,u.publicKeyVerify)(e)};r.pubToAddress=function(e,r){return void 0===r&&(r=!1),(0,d.assertIsBuffer)(e),r&&64!==e.length&&(e=n.from((0,u.publicKeyConvert)(e,!1).slice(1))),(0,a.default)(64===e.length),(0,h.keccak)(e).slice(-20)},r.publicToAddress=r.pubToAddress;r.privateToPublic=function(e){return(0,d.assertIsBuffer)(e),n.from((0,u.publicKeyCreate)(e,!1)).slice(1)};r.privateToAddress=function(e){return(0,r.publicToAddress)((0,r.privateToPublic)(e))};r.importPublic=function(e){return(0,d.assertIsBuffer)(e),64!==e.length&&(e=n.from((0,u.publicKeyConvert)(e,!1).slice(1))),e};r.zeroAddress=function(){var e=(0,l.zeros)(20);return(0,l.bufferToHex)(e)};r.isZeroAddress=function(e){try{(0,d.assertIsString)(e)}catch(t){return!1}return(0,r.zeroAddress)()===e}},70918:function(e,r,t){"use strict";var n=t(30261).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.Address=void 0;var o=i(t(40569)),a=t(35908),s=t(6817),u=t(64304),f=function(){function e(e){(0,o.default)(20===e.length,"Invalid address length"),this.buf=e}return e.zero=function(){return new e((0,s.zeros)(20))},e.fromString=function(r){return(0,o.default)((0,u.isValidAddress)(r),"Invalid address"),new e((0,s.toBuffer)(r))},e.fromPublicKey=function(r){return(0,o.default)(n.isBuffer(r),"Public key should be Buffer"),new e((0,u.pubToAddress)(r))},e.fromPrivateKey=function(r){return(0,o.default)(n.isBuffer(r),"Private key should be Buffer"),new e((0,u.privateToAddress)(r))},e.generate=function(r,t){return(0,o.default)(a.BN.isBN(t)),new e((0,u.generateAddress)(r.buf,t.toArrayLike(n)))},e.generate2=function(r,t,i){return(0,o.default)(n.isBuffer(t)),(0,o.default)(n.isBuffer(i)),new e((0,u.generateAddress2)(r.buf,t,i))},e.prototype.equals=function(e){return this.buf.equals(e.buf)},e.prototype.isZero=function(){return this.equals(e.zero())},e.prototype.isPrecompileOrSystemAddress=function(){var e=new a.BN(this.buf),r=new a.BN(0),t=new a.BN("ffff","hex");return e.gte(r)&&e.lte(t)},e.prototype.toString=function(){return"0x"+this.buf.toString("hex")},e.prototype.toBuffer=function(){return n.from(this.buf)},e}();r.Address=f},6817:function(e,r,t){"use strict";var n=t(30261).Buffer,i=this&&this.__values||function(e){var r="function"===typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,r){var t="function"===typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,i,o=t.call(e),a=[];try{for(;(void 0===r||r-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(r,"__esModule",{value:!0}),r.bufArrToArr=r.arrToBufArr=r.validateNoLeadingZeroes=r.baToJSON=r.toUtf8=r.addHexPrefix=r.toUnsigned=r.fromSigned=r.bufferToHex=r.bufferToInt=r.toBuffer=r.unpadHexString=r.unpadArray=r.unpadBuffer=r.setLengthRight=r.setLengthLeft=r.zeros=r.intToBuffer=r.intToHex=void 0;var a=t(35908),s=t(64609),u=t(19226);r.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Received an invalid integer type: ".concat(e));return"0x".concat(e.toString(16))};r.intToBuffer=function(e){var t=(0,r.intToHex)(e);return n.from((0,s.padToEven)(t.slice(2)),"hex")};r.zeros=function(e){return n.allocUnsafe(e).fill(0)};var f=function(e,t,n){var i=(0,r.zeros)(t);return n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)};r.setLengthLeft=function(e,r){return(0,u.assertIsBuffer)(e),f(e,r,!1)};r.setLengthRight=function(e,r){return(0,u.assertIsBuffer)(e),f(e,r,!0)};var c=function(e){for(var r=e[0];e.length>0&&"0"===r.toString();)r=(e=e.slice(1))[0];return e};r.unpadBuffer=function(e){return(0,u.assertIsBuffer)(e),c(e)};r.unpadArray=function(e){return(0,u.assertIsArray)(e),c(e)};r.unpadHexString=function(e){return(0,u.assertIsHexString)(e),e=(0,s.stripHexPrefix)(e),c(e)};r.toBuffer=function(e){if(null===e||void 0===e)return n.allocUnsafe(0);if(n.isBuffer(e))return n.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return n.from(e);if("string"===typeof e){if(!(0,s.isHexString)(e))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ".concat(e));return n.from((0,s.padToEven)((0,s.stripHexPrefix)(e)),"hex")}if("number"===typeof e)return(0,r.intToBuffer)(e);if(a.BN.isBN(e)){if(e.isNeg())throw new Error("Cannot convert negative BN to buffer. Given: ".concat(e));return e.toArrayLike(n)}if(e.toArray)return n.from(e.toArray());if(e.toBuffer)return n.from(e.toBuffer());throw new Error("invalid type")};r.bufferToInt=function(e){return new a.BN((0,r.toBuffer)(e)).toNumber()};r.bufferToHex=function(e){return"0x"+(e=(0,r.toBuffer)(e)).toString("hex")};r.fromSigned=function(e){return new a.BN(e).fromTwos(256)};r.toUnsigned=function(e){return n.from(e.toTwos(256).toArray())};r.addHexPrefix=function(e){return"string"!==typeof e||(0,s.isHexPrefixed)(e)?e:"0x"+e};r.toUtf8=function(e){if((e=(0,s.stripHexPrefix)(e)).length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return n.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};r.baToJSON=function(e){if(n.isBuffer(e))return"0x".concat(e.toString("hex"));if(e instanceof Array){for(var t=[],i=0;i<e.length;i++)t.push((0,r.baToJSON)(e[i]));return t}};r.validateNoLeadingZeroes=function(e){var r,t;try{for(var n=i(Object.entries(e)),a=n.next();!a.done;a=n.next()){var s=o(a.value,2),u=s[0],f=s[1];if(void 0!==f&&f.length>0&&0===f[0])throw new Error("".concat(u," cannot have leading zeroes, received: ").concat(f.toString("hex")))}}catch(c){r={error:c}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(r)throw r.error}}},r.arrToBufArr=function e(r){return Array.isArray(r)?r.map((function(r){return e(r)})):n.from(r)},r.bufArrToArr=function e(r){return Array.isArray(r)?r.map((function(r){return e(r)})):Uint8Array.from(null!==r&&void 0!==r?r:[])}},50103:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.KECCAK256_RLP=r.KECCAK256_RLP_S=r.KECCAK256_RLP_ARRAY=r.KECCAK256_RLP_ARRAY_S=r.KECCAK256_NULL=r.KECCAK256_NULL_S=r.TWO_POW256=r.MAX_INTEGER=r.MAX_UINT64=void 0;var n=t(30261),i=t(35908);r.MAX_UINT64=new i.BN("ffffffffffffffff",16),r.MAX_INTEGER=new i.BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),r.TWO_POW256=new i.BN("10000000000000000000000000000000000000000000000000000000000000000",16),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=n.Buffer.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=n.Buffer.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=n.Buffer.from(r.KECCAK256_RLP_S,"hex")},35908:function(e,r,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,r,t,n){void 0===n&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){void 0===n&&(n=t),e[n]=r[t]}),i=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&n(r,e,t);return i(r,e),r},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.rlp=r.BN=void 0;var s=a(t(45081));r.BN=s.default;var u=o(t(17593));r.rlp=u},24865:function(e,r,t){"use strict";var n=t(30261).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.rlphash=r.ripemd160FromArray=r.ripemd160FromString=r.ripemd160=r.sha256FromArray=r.sha256FromString=r.sha256=r.keccakFromArray=r.keccakFromHexString=r.keccakFromString=r.keccak256=r.keccak=void 0;var i=t(9197),o=t(46764),a=t(35908),s=t(6817),u=t(19226);r.keccak=function(e,r){switch(void 0===r&&(r=256),(0,u.assertIsBuffer)(e),r){case 224:return(0,i.keccak224)(e);case 256:return(0,i.keccak256)(e);case 384:return(0,i.keccak384)(e);case 512:return(0,i.keccak512)(e);default:throw new Error("Invald algorithm: keccak".concat(r))}};r.keccak256=function(e){return(0,r.keccak)(e)};r.keccakFromString=function(e,t){void 0===t&&(t=256),(0,u.assertIsString)(e);var i=n.from(e,"utf8");return(0,r.keccak)(i,t)};r.keccakFromHexString=function(e,t){return void 0===t&&(t=256),(0,u.assertIsHexString)(e),(0,r.keccak)((0,s.toBuffer)(e),t)};r.keccakFromArray=function(e,t){return void 0===t&&(t=256),(0,u.assertIsArray)(e),(0,r.keccak)((0,s.toBuffer)(e),t)};var f=function(e){return e=(0,s.toBuffer)(e),o("sha256").update(e).digest()};r.sha256=function(e){return(0,u.assertIsBuffer)(e),f(e)};r.sha256FromString=function(e){return(0,u.assertIsString)(e),f(e)};r.sha256FromArray=function(e){return(0,u.assertIsArray)(e),f(e)};var c=function(e,r){e=(0,s.toBuffer)(e);var t=o("rmd160").update(e).digest();return!0===r?(0,s.setLengthLeft)(t,32):t};r.ripemd160=function(e,r){return(0,u.assertIsBuffer)(e),c(e,r)};r.ripemd160FromString=function(e,r){return(0,u.assertIsString)(e),c(e,r)};r.ripemd160FromArray=function(e,r){return(0,u.assertIsArray)(e),c(e,r)};r.rlphash=function(e){return(0,r.keccak)(a.rlp.encode(e))}},19226:function(e,r,t){"use strict";var n=t(30261).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.assertIsString=r.assertIsArray=r.assertIsBuffer=r.assertIsHexString=void 0;var i=t(64609);r.assertIsHexString=function(e){if(!(0,i.isHexString)(e)){var r="This method only supports 0x-prefixed hex strings but input was: ".concat(e);throw new Error(r)}};r.assertIsBuffer=function(e){if(!n.isBuffer(e)){var r="This method only supports Buffer but input was: ".concat(e);throw new Error(r)}};r.assertIsArray=function(e){if(!Array.isArray(e)){var r="This method only supports number arrays but input was: ".concat(e);throw new Error(r)}};r.assertIsString=function(e){if("string"!==typeof e){var r="This method only supports strings but input was: ".concat(e);throw new Error(r)}}},41399:function(e,r,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,r,t,n){void 0===n&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){void 0===n&&(n=t),e[n]=r[t]}),i=this&&this.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||n(r,e,t)};Object.defineProperty(r,"__esModule",{value:!0}),r.isHexString=r.getKeys=r.fromAscii=r.fromUtf8=r.toAscii=r.arrayContainsArray=r.getBinarySize=r.padToEven=r.stripHexPrefix=r.isHexPrefixed=void 0,i(t(50103),r),i(t(64304),r),i(t(70918),r),i(t(24865),r),i(t(99476),r),i(t(6817),r),i(t(20420),r),i(t(35908),r),i(t(64114),r);var o=t(64609);Object.defineProperty(r,"isHexPrefixed",{enumerable:!0,get:function(){return o.isHexPrefixed}}),Object.defineProperty(r,"stripHexPrefix",{enumerable:!0,get:function(){return o.stripHexPrefix}}),Object.defineProperty(r,"padToEven",{enumerable:!0,get:function(){return o.padToEven}}),Object.defineProperty(r,"getBinarySize",{enumerable:!0,get:function(){return o.getBinarySize}}),Object.defineProperty(r,"arrayContainsArray",{enumerable:!0,get:function(){return o.arrayContainsArray}}),Object.defineProperty(r,"toAscii",{enumerable:!0,get:function(){return o.toAscii}}),Object.defineProperty(r,"fromUtf8",{enumerable:!0,get:function(){return o.fromUtf8}}),Object.defineProperty(r,"fromAscii",{enumerable:!0,get:function(){return o.fromAscii}}),Object.defineProperty(r,"getKeys",{enumerable:!0,get:function(){return o.getKeys}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return o.isHexString}})},64609:function(e,r,t){"use strict";var n=t(30261).Buffer;function i(e){if("string"!==typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type ".concat(typeof e));return"0"===e[0]&&"x"===e[1]}Object.defineProperty(r,"__esModule",{value:!0}),r.isHexString=r.getKeys=r.fromAscii=r.fromUtf8=r.toAscii=r.arrayContainsArray=r.getBinarySize=r.padToEven=r.stripHexPrefix=r.isHexPrefixed=void 0,r.isHexPrefixed=i;function o(e){var r=e;if("string"!==typeof r)throw new Error("[padToEven] value must be type 'string', received ".concat(typeof r));return r.length%2&&(r="0".concat(r)),r}r.stripHexPrefix=function(e){if("string"!==typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received ".concat(typeof e));return i(e)?e.slice(2):e},r.padToEven=o,r.getBinarySize=function(e){if("string"!==typeof e)throw new Error("[getBinarySize] method requires input type 'string', recieved ".concat(typeof e));return n.byteLength(e,"utf8")},r.arrayContainsArray=function(e,r,t){if(!0!==Array.isArray(e))throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '".concat(typeof e,"'"));if(!0!==Array.isArray(r))throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '".concat(typeof r,"'"));return r[t?"some":"every"]((function(r){return e.indexOf(r)>=0}))},r.toAscii=function(e){var r="",t=0,n=e.length;for("0x"===e.substring(0,2)&&(t=2);t<n;t+=2){var i=parseInt(e.substr(t,2),16);r+=String.fromCharCode(i)}return r},r.fromUtf8=function(e){var r=n.from(e,"utf8");return"0x".concat(o(r.toString("hex")).replace(/^0+|0+$/g,""))},r.fromAscii=function(e){for(var r="",t=0;t<e.length;t++){var n=e.charCodeAt(t).toString(16);r+=n.length<2?"0".concat(n):n}return"0x".concat(r)},r.getKeys=function(e,r,t){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got ".concat(typeof e));if("string"!==typeof r)throw new Error("[getKeys] method expects input 'key' to be type 'string', got ".concat(typeof e));for(var n=[],i=0;i<e.length;i++){var o=e[i][r];if(t&&!o)o="";else if("string"!==typeof o)throw new Error("invalid abi - expected type 'string', received ".concat(typeof o));n.push(o)}return n},r.isHexString=function(e,r){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}},20420:function(e,r,t){"use strict";var n=t(30261).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.defineProperties=void 0;var o=i(t(40569)),a=t(64609),s=t(35908),u=t(6817);r.defineProperties=function(e,r,t){if(e.raw=[],e._fields=[],e.toJSON=function(r){if(void 0===r&&(r=!1),r){var t={};return e._fields.forEach((function(r){t[r]="0x".concat(e[r].toString("hex"))})),t}return(0,u.baToJSON)(e.raw)},e.serialize=function(){return s.rlp.encode(e.raw)},r.forEach((function(r,t){function i(){return e.raw[t]}function a(i){"00"!==(i=(0,u.toBuffer)(i)).toString("hex")||r.allowZero||(i=n.allocUnsafe(0)),r.allowLess&&r.length?(i=(0,u.unpadBuffer)(i),(0,o.default)(r.length>=i.length,"The field ".concat(r.name," must not have more ").concat(r.length," bytes"))):r.allowZero&&0===i.length||!r.length||(0,o.default)(r.length===i.length,"The field ".concat(r.name," must have byte length of ").concat(r.length)),e.raw[t]=i}e._fields.push(r.name),Object.defineProperty(e,r.name,{enumerable:!0,configurable:!0,get:i,set:a}),r.default&&(e[r.name]=r.default),r.alias&&Object.defineProperty(e,r.alias,{enumerable:!1,configurable:!0,set:a,get:i})})),t)if("string"===typeof t&&(t=n.from((0,a.stripHexPrefix)(t),"hex")),n.isBuffer(t)&&(t=s.rlp.decode(t)),Array.isArray(t)){if(t.length>e._fields.length)throw new Error("wrong number of fields in data");t.forEach((function(r,t){e[e._fields[t]]=(0,u.toBuffer)(r)}))}else{if("object"!==typeof t)throw new Error("invalid data");var i=Object.keys(t);r.forEach((function(r){-1!==i.indexOf(r.name)&&(e[r.name]=t[r.name]),-1!==i.indexOf(r.alias)&&(e[r.alias]=t[r.alias])}))}}},99476:function(e,r,t){"use strict";var n=t(30261).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.hashPersonalMessage=r.isValidSignature=r.fromRpcSig=r.toCompactSig=r.toRpcSig=r.ecrecover=r.ecsign=void 0;var i=t(42917),o=t(35908),a=t(6817),s=t(24865),u=t(19226),f=t(64114);function c(e,r){var t=(0,f.toType)(e,f.TypeOutput.BN);if(!r)return t.subn(27);var n=(0,f.toType)(r,f.TypeOutput.BN);return t.sub(n.muln(2).addn(35))}function l(e){var r=new o.BN(e);return r.eqn(0)||r.eqn(1)}r.ecsign=function(e,r,t){var o=(0,i.ecdsaSign)(e,r),a=o.signature,s=o.recid,u=n.from(a.slice(0,32)),c=n.from(a.slice(32,64));if(!t||"number"===typeof t){if(t&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");return{r:u,s:c,v:t?s+(2*t+35):s+27}}return{r:u,s:c,v:(0,f.toType)(t,f.TypeOutput.BN).muln(2).addn(35).addn(s).toArrayLike(n)}};r.ecrecover=function(e,r,t,o,s){var u=n.concat([(0,a.setLengthLeft)(t,32),(0,a.setLengthLeft)(o,32)],64),f=c(r,s);if(!l(f))throw new Error("Invalid signature v value");var h=(0,i.ecdsaRecover)(u,f.toNumber(),e);return n.from((0,i.publicKeyConvert)(h,!1).slice(1))};r.toRpcSig=function(e,r,t,i){if(!l(c(e,i)))throw new Error("Invalid signature v value");return(0,a.bufferToHex)(n.concat([(0,a.setLengthLeft)(r,32),(0,a.setLengthLeft)(t,32),(0,a.toBuffer)(e)]))};r.toCompactSig=function(e,r,t,i){if(!l(c(e,i)))throw new Error("Invalid signature v value");var o=(0,f.toType)(e,f.TypeOutput.Number),s=t;return(o>28&&o%2===1||1===o||28===o)&&((s=n.from(t))[0]|=128),(0,a.bufferToHex)(n.concat([(0,a.setLengthLeft)(r,32),(0,a.setLengthLeft)(s,32)]))};r.fromRpcSig=function(e){var r,t,n,i=(0,a.toBuffer)(e);if(i.length>=65)r=i.slice(0,32),t=i.slice(32,64),n=(0,a.bufferToInt)(i.slice(64));else{if(64!==i.length)throw new Error("Invalid signature length");r=i.slice(0,32),t=i.slice(32,64),n=(0,a.bufferToInt)(i.slice(32,33))>>7,t[0]&=127}return n<27&&(n+=27),{v:n,r:r,s:t}};r.isValidSignature=function(e,r,t,n,i){void 0===n&&(n=!0);var a=new o.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),s=new o.BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==r.length||32!==t.length)return!1;if(!l(c(e,i)))return!1;var u=new o.BN(r),f=new o.BN(t);return!(u.isZero()||u.gt(s)||f.isZero()||f.gt(s))&&(!n||1!==f.cmp(a))};r.hashPersonalMessage=function(e){(0,u.assertIsBuffer)(e);var r=n.from("\x19Ethereum Signed Message:\n".concat(e.length),"utf-8");return(0,s.keccak)(n.concat([r,e]))}},64114:function(e,r,t){"use strict";var n=t(30261).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.toType=r.TypeOutput=r.bnToRlp=r.bnToUnpaddedBuffer=r.bnToHex=void 0;var i,o=t(35908),a=t(64609),s=t(6817);function u(e){return(0,s.unpadBuffer)(e.toArrayLike(n))}r.bnToHex=function(e){return"0x".concat(e.toString(16))},r.bnToUnpaddedBuffer=u,r.bnToRlp=function(e){return u(e)},function(e){e[e.Number=0]="Number",e[e.BN=1]="BN",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(i=r.TypeOutput||(r.TypeOutput={})),r.toType=function(e,r){if(null===e)return null;if(void 0!==e){if("string"===typeof e&&!(0,a.isHexString)(e))throw new Error("A string must be provided with a 0x-prefix, given: ".concat(e));if("number"===typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var t=(0,s.toBuffer)(e);if(r===i.Buffer)return t;if(r===i.BN)return new o.BN(t);if(r===i.Number){var n=new o.BN(t),u=new o.BN(Number.MAX_SAFE_INTEGER.toString());if(n.gt(u))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return n.toNumber()}return"0x".concat(t.toString("hex"))}}},13689:function(e,r,t){e.exports=t(54696)(t(66614))},66614:function(e,r,t){var n=new(0,t(40632).ec)("secp256k1"),i=n.curve,o=i.n.constructor;function a(e){var r=e[0];switch(r){case 2:case 3:return 33!==e.length?null:function(e,r){var t=new o(r);if(t.cmp(i.p)>=0)return null;var a=(t=t.toRed(i.red)).redSqr().redIMul(t).redIAdd(i.b).redSqrt();return 3===e!==a.isOdd()&&(a=a.redNeg()),n.keyPair({pub:{x:t,y:a}})}(r,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,r,t){var a=new o(r),s=new o(t);if(a.cmp(i.p)>=0||s.cmp(i.p)>=0)return null;if(a=a.toRed(i.red),s=s.toRed(i.red),(6===e||7===e)&&s.isOdd()!==(7===e))return null;var u=a.redSqr().redIMul(a);return s.redSqr().redISub(u.redIAdd(i.b)).isZero()?n.keyPair({pub:{x:a,y:s}}):null}(r,e.subarray(1,33),e.subarray(33,65));default:return null}}function s(e,r){for(var t=r.encode(null,33===e.length),n=0;n<e.length;++n)e[n]=t[n]}e.exports={contextRandomize:function(){return 0},privateKeyVerify:function(e){var r=new o(e);return r.cmp(i.n)<0&&!r.isZero()?0:1},privateKeyNegate:function(e){var r=new o(e),t=i.n.sub(r).umod(i.n).toArrayLike(Uint8Array,"be",32);return e.set(t),0},privateKeyTweakAdd:function(e,r){var t=new o(r);if(t.cmp(i.n)>=0)return 1;if(t.iadd(new o(e)),t.cmp(i.n)>=0&&t.isub(i.n),t.isZero())return 1;var n=t.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul:function(e,r){var t=new o(r);if(t.cmp(i.n)>=0||t.isZero())return 1;t.imul(new o(e)),t.cmp(i.n)>=0&&(t=t.umod(i.n));var n=t.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:function(e){return null===a(e)?1:0},publicKeyCreate:function(e,r){var t=new o(r);return t.cmp(i.n)>=0||t.isZero()?1:(s(e,n.keyFromPrivate(r).getPublic()),0)},publicKeyConvert:function(e,r){var t=a(r);return null===t?1:(s(e,t.getPublic()),0)},publicKeyNegate:function(e,r){var t=a(r);if(null===t)return 1;var n=t.getPublic();return n.y=n.y.redNeg(),s(e,n),0},publicKeyCombine:function(e,r){for(var t=new Array(r.length),n=0;n<r.length;++n)if(t[n]=a(r[n]),null===t[n])return 1;for(var i=t[0].getPublic(),o=1;o<t.length;++o)i=i.add(t[o].pub);return i.isInfinity()?2:(s(e,i),0)},publicKeyTweakAdd:function(e,r,t){var n=a(r);if(null===n)return 1;if((t=new o(t)).cmp(i.n)>=0)return 2;var u=n.getPublic().add(i.g.mul(t));return u.isInfinity()?2:(s(e,u),0)},publicKeyTweakMul:function(e,r,t){var n=a(r);return null===n?1:(t=new o(t)).cmp(i.n)>=0||t.isZero()?2:(s(e,n.getPublic().mul(t)),0)},signatureNormalize:function(e){var r=new o(e.subarray(0,32)),t=new o(e.subarray(32,64));return r.cmp(i.n)>=0||t.cmp(i.n)>=0?1:(1===t.cmp(n.nh)&&e.set(i.n.sub(t).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport:function(e,r){var t=r.subarray(0,32),n=r.subarray(32,64);if(new o(t).cmp(i.n)>=0)return 1;if(new o(n).cmp(i.n)>=0)return 1;var a=e.output,s=a.subarray(4,37);s[0]=0,s.set(t,1);for(var u=33,f=0;u>1&&0===s[f]&&!(128&s[f+1]);--u,++f);if(128&(s=s.subarray(f))[0])return 1;if(u>1&&0===s[0]&&!(128&s[1]))return 1;var c=a.subarray(39,72);c[0]=0,c.set(n,1);for(var l=33,h=0;l>1&&0===c[h]&&!(128&c[h+1]);--l,++h);return 128&(c=c.subarray(h))[0]||l>1&&0===c[0]&&!(128&c[1])?1:(e.outputlen=6+u+l,a[0]=48,a[1]=e.outputlen-2,a[2]=2,a[3]=s.length,a.set(s,4),a[4+u]=2,a[5+u]=c.length,a.set(c,6+u),0)},signatureImport:function(e,r){if(r.length<8)return 1;if(r.length>72)return 1;if(48!==r[0])return 1;if(r[1]!==r.length-2)return 1;if(2!==r[2])return 1;var t=r[3];if(0===t)return 1;if(5+t>=r.length)return 1;if(2!==r[4+t])return 1;var n=r[5+t];if(0===n)return 1;if(6+t+n!==r.length)return 1;if(128&r[4])return 1;if(t>1&&0===r[4]&&!(128&r[5]))return 1;if(128&r[t+6])return 1;if(n>1&&0===r[t+6]&&!(128&r[t+7]))return 1;var a=r.subarray(4,4+t);if(33===a.length&&0===a[0]&&(a=a.subarray(1)),a.length>32)return 1;var s=r.subarray(6+t);if(33===s.length&&0===s[0]&&(s=s.slice(1)),s.length>32)throw new Error("S length is too long");var u=new o(a);u.cmp(i.n)>=0&&(u=new o(0));var f=new o(r.subarray(6+t));return f.cmp(i.n)>=0&&(f=new o(0)),e.set(u.toArrayLike(Uint8Array,"be",32),0),e.set(f.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign:function(e,r,t,a,s){if(s){var u=s;s=function(e){var n=u(r,t,null,a,e);if(!(n instanceof Uint8Array&&32===n.length))throw new Error("This is the way");return new o(n)}}var f,c=new o(t);if(c.cmp(i.n)>=0||c.isZero())return 1;try{f=n.sign(r,t,{canonical:!0,k:s,pers:a})}catch(l){return 1}return e.signature.set(f.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(f.s.toArrayLike(Uint8Array,"be",32),32),e.recid=f.recoveryParam,0},ecdsaVerify:function(e,r,t){var s={r:e.subarray(0,32),s:e.subarray(32,64)},u=new o(s.r),f=new o(s.s);if(u.cmp(i.n)>=0||f.cmp(i.n)>=0)return 1;if(1===f.cmp(n.nh)||u.isZero()||f.isZero())return 3;var c=a(t);if(null===c)return 2;var l=c.getPublic();return n.verify(r,s,l)?0:3},ecdsaRecover:function(e,r,t,a){var u,f={r:r.slice(0,32),s:r.slice(32,64)},c=new o(f.r),l=new o(f.s);if(c.cmp(i.n)>=0||l.cmp(i.n)>=0)return 1;if(c.isZero()||l.isZero())return 2;try{u=n.recoverPubKey(a,f,t)}catch(h){return 2}return s(e,u),0},ecdh:function(e,r,t,s,u,f,c){var l=a(r);if(null===l)return 1;var h=new o(t);if(h.cmp(i.n)>=0||h.isZero())return 2;var d=l.getPublic().mul(h);if(void 0===u)for(var p=d.encode(null,!0),v=n.hash().update(p).digest(),g=0;g<32;++g)e[g]=v[g];else{f||(f=new Uint8Array(32));for(var y=d.getX().toArray("be",32),m=0;m<32;++m)f[m]=y[m];c||(c=new Uint8Array(32));for(var b=d.getY().toArray("be",32),w=0;w<32;++w)c[w]=b[w];var A=u(f,c,s);if(!(A instanceof Uint8Array&&A.length===e.length))return 2;e.set(A)}return 0}}},54696:function(e,r,t){var n=t(82688).default,i="Impossible case. Please create issue.",o="The tweak was out of range or the resulted private key is invalid",a="The tweak was out of range or equal to zero",s="Unknow error on context randomization",u="Private Key is invalid",f="Public Key could not be parsed",c="Public Key serialization error",l="The sum of the public keys is not valid",h="Signature could not be parsed",d="The nonce generation function failed, or the private key was invalid",p="Public key could not be recover",v="Scalar was invalid (zero or overflow)";function g(e,r){if(!e)throw new Error(r)}function y(e,r,t){if(g(r instanceof Uint8Array,"Expected ".concat(e," to be an Uint8Array")),void 0!==t)if(Array.isArray(t)){var n=t.join(", "),i="Expected ".concat(e," to be an Uint8Array with length [").concat(n,"]");g(t.includes(r.length),i)}else{var o="Expected ".concat(e," to be an Uint8Array with length ").concat(t);g(r.length===t,o)}}function m(e){g("Boolean"===w(e),"Expected compressed to be a Boolean")}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return new Uint8Array(e)},r=arguments.length>1?arguments[1]:void 0;return"function"===typeof e&&(e=e(r)),y("output",e,r),e}function w(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=function(e){return{contextRandomize:function(r){if(g(null===r||r instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==r&&y("seed",r,32),1===e.contextRandomize(r))throw new Error(s)},privateKeyVerify:function(r){return y("private key",r,32),0===e.privateKeyVerify(r)},privateKeyNegate:function(r){switch(y("private key",r,32),e.privateKeyNegate(r)){case 0:return r;case 1:throw new Error(i)}},privateKeyTweakAdd:function(r,t){switch(y("private key",r,32),y("tweak",t,32),e.privateKeyTweakAdd(r,t)){case 0:return r;case 1:throw new Error(o)}},privateKeyTweakMul:function(r,t){switch(y("private key",r,32),y("tweak",t,32),e.privateKeyTweakMul(r,t)){case 0:return r;case 1:throw new Error(a)}},publicKeyVerify:function(r){return y("public key",r,[33,65]),0===e.publicKeyVerify(r)},publicKeyCreate:function(r){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;switch(y("private key",r,32),m(t),n=b(n,t?33:65),e.publicKeyCreate(n,r)){case 0:return n;case 1:throw new Error(u);case 2:throw new Error(c)}},publicKeyConvert:function(r){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;switch(y("public key",r,[33,65]),m(t),n=b(n,t?33:65),e.publicKeyConvert(n,r)){case 0:return n;case 1:throw new Error(f);case 2:throw new Error(c)}},publicKeyNegate:function(r){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;switch(y("public key",r,[33,65]),m(t),n=b(n,t?33:65),e.publicKeyNegate(n,r)){case 0:return n;case 1:throw new Error(f);case 2:throw new Error(i);case 3:throw new Error(c)}},publicKeyCombine:function(r){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0;g(Array.isArray(r),"Expected public keys to be an Array"),g(r.length>0,"Expected public keys array will have more than zero items");var o,a=n(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;y("public key",s,[33,65])}}catch(u){a.e(u)}finally{a.f()}switch(m(t),i=b(i,t?33:65),e.publicKeyCombine(i,r)){case 0:return i;case 1:throw new Error(f);case 2:throw new Error(l);case 3:throw new Error(c)}},publicKeyTweakAdd:function(r,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;switch(y("public key",r,[33,65]),y("tweak",t,32),m(n),i=b(i,n?33:65),e.publicKeyTweakAdd(i,r,t)){case 0:return i;case 1:throw new Error(f);case 2:throw new Error(o)}},publicKeyTweakMul:function(r,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;switch(y("public key",r,[33,65]),y("tweak",t,32),m(n),i=b(i,n?33:65),e.publicKeyTweakMul(i,r,t)){case 0:return i;case 1:throw new Error(f);case 2:throw new Error(a)}},signatureNormalize:function(r){switch(y("signature",r,64),e.signatureNormalize(r)){case 0:return r;case 1:throw new Error(h)}},signatureExport:function(r,t){y("signature",r,64);var n={output:t=b(t,72),outputlen:72};switch(e.signatureExport(n,r)){case 0:return t.slice(0,n.outputlen);case 1:throw new Error(h);case 2:throw new Error(i)}},signatureImport:function(r,t){switch(y("signature",r),t=b(t,64),e.signatureImport(t,r)){case 0:return t;case 1:throw new Error(h);case 2:throw new Error(i)}},ecdsaSign:function(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;y("message",r,32),y("private key",t,32),g("Object"===w(n),"Expected options to be an Object"),void 0!==n.data&&y("options.data",n.data),void 0!==n.noncefn&&g("Function"===w(n.noncefn),"Expected options.noncefn to be a Function");var a={signature:o=b(o,64),recid:null};switch(e.ecdsaSign(a,r,t,n.data,n.noncefn)){case 0:return a;case 1:throw new Error(d);case 2:throw new Error(i)}},ecdsaVerify:function(r,t,n){switch(y("signature",r,64),y("message",t,32),y("public key",n,[33,65]),e.ecdsaVerify(r,t,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(h);case 2:throw new Error(f)}},ecdsaRecover:function(r,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4?arguments[4]:void 0;switch(y("signature",r,64),g("Number"===w(t)&&t>=0&&t<=3,"Expected recovery id to be a Number within interval [0, 3]"),y("message",n,32),m(o),a=b(a,o?33:65),e.ecdsaRecover(a,r,t,n)){case 0:return a;case 1:throw new Error(h);case 2:throw new Error(p);case 3:throw new Error(i)}},ecdh:function(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;switch(y("public key",r,[33,65]),y("private key",t,32),g("Object"===w(n),"Expected options to be an Object"),void 0!==n.data&&y("options.data",n.data),void 0!==n.hashfn?(g("Function"===w(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&y("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&y("options.ybuf",n.ybuf,32),y("output",i)):i=b(i,32),e.ecdh(i,r,t,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(f);case 2:throw new Error(v)}}}}}}]);
//# sourceMappingURL=4911.bd034607.chunk.js.map