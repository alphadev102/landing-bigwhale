/*! For license information please see 8052.1b732e6d.chunk.js.LICENSE.txt */
(self.webpackChunkonboard_notify_react=self.webpackChunkonboard_notify_react||[]).push([[8052],{17830:function(e,t,r){"use strict";var n=r(63298).default,i=r(51795).default,o=r(1185).default,a=r(17964).default,s=r(54790).default,u=r(84505),c=r(74574),l="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=f,t.h2=50;var d=2147483647;function h(e){if(e>d)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,f.prototype),t}function f(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return g(e)}return p(e,t,r)}function p(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!f.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|w(e,t),n=h(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(ee(e,Uint8Array)){var t=new Uint8Array(e);return m(t.buffer,t.byteOffset,t.byteLength)}return v(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ee(e,ArrayBuffer)||e&&ee(e.buffer,ArrayBuffer))return m(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(ee(e,SharedArrayBuffer)||e&&ee(e.buffer,SharedArrayBuffer)))return m(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return f.from(n,t,r);var i=function(e){if(f.isBuffer(e)){var t=0|b(e.length),r=h(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||te(e.length)?h(0):v(e);if("Buffer"===e.type&&Array.isArray(e.data))return v(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return f.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function y(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function g(e){return y(e),h(e<0?0:0|b(e))}function v(e){for(var t=e.length<0?0:0|b(e.length),r=h(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function m(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,f.prototype),n}function b(e){if(e>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return 0|e}function w(e,t){if(f.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ee(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Q(e).length;default:if(i)return n?-1:Y(e).length;t=(""+t).toLowerCase(),i=!0}}function k(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return W(this,t,r);case"latin1":case"binary":return B(this,t,r);case"base64":return R(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function I(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function _(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),te(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=f.from(t,n)),f.isBuffer(t))return 0===t.length?-1:x(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):x(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function x(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var d=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){d=!1;break}if(d)return o}return-1}function S(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o,a=t.length;for(n>a/2&&(n=a/2),o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(te(s))return o;e[r+o]=s}return o}function A(e,t,r,n){return $(Y(t,e.length-r),e,r,n)}function E(e,t,r,n){return $(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function P(e,t,r,n){return $(Q(t),e,r,n)}function Z(e,t,r,n){return $(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function R(e,t,r){return 0===t&&r===e.length?u.fromByteArray(e):u.fromByteArray(e.slice(t,r))}function T(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){var u=void 0,c=void 0,l=void 0,d=void 0;switch(s){case 1:o<128&&(a=o);break;case 2:128===(192&(u=e[i+1]))&&(d=(31&o)<<6|63&u)>127&&(a=d);break;case 3:u=e[i+1],c=e[i+2],128===(192&u)&&128===(192&c)&&(d=(15&o)<<12|(63&u)<<6|63&c)>2047&&(d<55296||d>57343)&&(a=d);break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(d=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&d<1114112&&(a=d)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return function(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=O));return r}(n)}f.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(r){return!1}}(),f.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(e,t,r){return p(e,t,r)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(e,t,r){return function(e,t,r){return y(e),e<=0?h(e):void 0!==t?"string"===typeof r?h(e).fill(t,r):h(e).fill(t):h(e)}(e,t,r)},f.allocUnsafe=function(e){return g(e)},f.allocUnsafeSlow=function(e){return g(e)},f.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==f.prototype},f.compare=function(e,t){if(ee(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),ee(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return f.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=f.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(ee(o,Uint8Array))i+o.length>n.length?(f.isBuffer(o)||(o=f.from(o)),o.copy(n,i)):Uint8Array.prototype.set.call(n,o,i);else{if(!f.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},f.byteLength=w,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)I(this,t,t+1);return this},f.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)I(this,t,t+3),I(this,t+1,t+2);return this},f.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)I(this,t,t+7),I(this,t+1,t+6),I(this,t+2,t+5),I(this,t+3,t+4);return this},f.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):k.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===f.compare(this,e)},f.prototype.inspect=function(){var e="",r=t.h2;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},l&&(f.prototype[l]=f.prototype.inspect),f.prototype.compare=function(e,t,r,n,i){if(ee(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r),l=0;l<s;++l)if(u[l]!==c[l]){o=u[l],a=c[l];break}return o<a?-1:a<o?1:0},f.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},f.prototype.indexOf=function(e,t,r){return _(this,e,t,r,!0)},f.prototype.lastIndexOf=function(e,t,r){return _(this,e,t,r,!1)},f.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return S(this,e,t,r);case"utf8":case"utf-8":return A(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return P(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function W(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function B(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function C(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=re[e[o]];return i}function U(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function j(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,r,n,i,o){if(!f.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function z(e,t,r,n,i){F(t,n,i,e,r,7);var o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function q(e,t,r,n,i){F(t,n,i,e,r,7);var o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function D(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,4),c.write(e,t,r,n,23,4),r+4}function K(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,8),c.write(e,t,r,n,52,8),r+8}f.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,f.prototype),n},f.prototype.readUintLE=f.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},f.prototype.readUintBE=f.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},f.prototype.readUint8=f.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},f.prototype.readBigUInt64LE=ne((function(e){X(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);var n=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+r*Math.pow(2,24);return BigInt(n)+(BigInt(i)<<BigInt(32))})),f.prototype.readBigUInt64BE=ne((function(e){X(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);var n=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),f.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},f.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},f.prototype.readInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},f.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},f.prototype.readBigInt64LE=ne((function(e){X(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);var n=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),f.prototype.readBigInt64BE=ne((function(e){X(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);var n=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r)})),f.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),c.read(this,e,!0,23,4)},f.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),c.read(this,e,!1,23,4)},f.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),c.read(this,e,!0,52,8)},f.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),c.read(this,e,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||L(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||L(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},f.prototype.writeUint8=f.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,1,255,0),this[t]=255&e,t+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeBigUInt64LE=ne((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return z(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),f.prototype.writeBigUInt64BE=ne((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return q(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),f.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},f.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},f.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},f.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},f.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeBigInt64LE=ne((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return z(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),f.prototype.writeBigInt64BE=ne((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return q(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),f.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},f.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},f.prototype.writeDoubleLE=function(e,t,r){return K(this,e,t,!0,r)},f.prototype.writeDoubleBE=function(e,t,r){return K(this,e,t,!1,r)},f.prototype.copy=function(e,t,r,n){if(!f.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},f.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=f.isBuffer(e)?e:f.from(e,n),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var M={};function G(e,t,r){M[e]=function(r){a(c,r);var u=s(c);function c(){var r;return n(this,c),r=u.call(this),Object.defineProperty(o(r),"message",{value:t.apply(o(r),arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(e,"]"),r.stack,delete r.name,r}return i(c,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),c}(r)}function J(e){for(var t="",r=e.length,n="-"===e[0]?1:0;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function F(e,t,r,n,i,o){if(e>r||e<t){var a,s="bigint"===typeof t?"n":"";throw a=o>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(o+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(o+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(r).concat(s),new M.ERR_OUT_OF_RANGE("value",a,e)}!function(e,t,r){X(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||H(t,e.length-(r+1))}(n,i,o)}function X(e,t){if("number"!==typeof e)throw new M.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,r){if(Math.floor(e)!==e)throw X(e,r),new M.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new M.ERR_BUFFER_OUT_OF_BOUNDS;throw new M.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}G("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),G("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),G("ERR_OUT_OF_RANGE",(function(e,t,r){var n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?i=J(String(r)):"bigint"===typeof r&&(i=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(i=J(i)),i+="n"),n+=" It must be ".concat(t,". Received ").concat(i)}),RangeError);var V=/[^+/0-9A-Za-z-_]/g;function Y(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Q(e){return u.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function $(e,t,r,n){var i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function ee(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function te(e){return e!==e}var re=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}();function ne(e){return"undefined"===typeof BigInt?ie:e}function ie(){throw new Error("BigInt not supported")}},44879:function(e,t,r){"use strict";r.d(t,{v:function(){return v}});var n=r(53755),i=r(47061),o=r(59900),a=r(14771),s=r(24269),u=r(24593),c=r(70886),l=r(20240),d=r(88047),h=r.n(d),f=r(46622),p=r(43593),y=r.n(p);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.Z)(this,r)}}var v=function(e){(0,s.Z)(r,e);var t=g(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.Z)(this,r),e=t.call(this),(0,l.Z)((0,a.Z)(e),"clientId",void 0),e.clientId=n.clientId,e}return(0,o.Z)(r,[{key:"authenticateUser",value:function(){var e=(0,n.Z)(h().mark((function e(){var t,r,n,i,o,a,s,u,c,l,d;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.provider&&null!==(t=this.chainConfig)&&void 0!==t&&t.chainId){e.next=2;break}throw f.WalletLoginError.notConnectedError();case 2:if(r=this.chainConfig,n=r.chainNamespace,i=r.chainId,this.status===f.ADAPTER_STATUS.CONNECTED){e.next=5;break}throw f.WalletLoginError.notConnectedError("Not connected with wallet, Please login/connect first");case 5:return e.next=7,this.provider.request({method:"getAccounts"});case 7:if(!((o=e.sent)&&o.length>0)){e.next=27;break}if(!(a=(0,f.getSavedToken)(o[0],this.name))){e.next=14;break}if((0,f.checkIfTokenIsExpired)(a)){e.next=14;break}return e.abrupt("return",{idToken:a});case 14:return s={domain:window.location.origin,uri:window.location.href,address:o[0],chainId:parseInt(i,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:(new Date).toISOString()},e.next=17,(0,f.signChallenge)(s,n);case 17:return u=e.sent,c=(new TextEncoder).encode(u),e.next=21,this.provider.request({method:"signMessage",params:{message:c,display:"utf8"}});case 21:return l=e.sent,e.next=24,(0,f.verifySignedChallenge)(n,y().encode(l),u,this.name,this.sessionTime,this.clientId);case 24:return d=e.sent,(0,f.saveToken)(o[0],this.name,d),e.abrupt("return",{idToken:d});case 27:throw f.WalletLoginError.notConnectedError("Not connected with wallet, Please login/connect first");case 28:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=(0,n.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status===f.ADAPTER_STATUS.CONNECTED){e.next=2;break}throw f.WalletLoginError.disconnectionError("Not connected with wallet");case 2:return e.next=4,this.provider.request({method:"getAccounts"});case 4:(t=e.sent)&&t.length>0&&(0,f.clearToken)(t[0],this.name);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(f.BaseAdapter)},1305:function(e){"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var a=e.length,s=e.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===s;)n++,r++;for(var o=(e.length-r)*u+1>>>0,c=new Uint8Array(o);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var d=0,h=o-1;(0!==l||d<i)&&-1!==h;h--,d++)l+=a*c[h]>>>0,c[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,r++}for(var f=o-i;f!==o&&0===c[f];)f++;for(var p=new Uint8Array(n+(o-f)),y=n;f!==o;)p[y++]=c[f++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var u=(o-i)*c+1>>>0,l=new Uint8Array(u);i!==o;){for(var d=t[i],h=0,f=u-1;(0!==d||h<n)&&-1!==f;f--,h++)d+=256*l[f]>>>0,l[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");n=h,i++}for(var p=u-n;p!==u&&0===l[p];)p++;for(var y=s.repeat(r);p<u;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},43593:function(e,t,r){var n=r(1305);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},28052:function(e,t,r){"use strict";r.r(t),r.d(t,{SolanaWalletAdapter:function(){return tn}});var n=r(53755),i=r(47061),o=r(59900),a=r(14771),s=r(12731),u=r(24269),c=r(24593),l=r(70886),d=r(20240),h=r(88047),f=r.n(h),p=r(745),y=r(38114),g=r(24611);function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r(23680),b=r(19677),w=r(19961),k=r(73133),I=r(17830),_=r(81715),x=r(58888),S=r(45081),A=r.n(S),E=r(27994),P=r.n(E),Z=r(85561),R=r(99661),T=r(93294),O=r(56092),W=r(96111),B=(r(1579),r(35427),r(75502)),C=r.n(B),U=r(9290),j=r(80237);x.P6.sha512Sync=function(){var e;return(0,_.o)((e=x.P6).concatBytes.apply(e,arguments))};x.P6.randomPrivateKey;var L=function(){var e=x.P6.randomPrivateKey(),t=z(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},z=x.Z_.getPublicKey;function q(e){try{return x.E9.fromHex(e,!0),!0}catch(t){return!1}}var D=function(e,t){return x.Z_.sign(e,t.slice(0,32))},N=x.Z_.verify,K=function(e){return I.lW.isBuffer(e)?e:e instanceof Uint8Array?I.lW.from(e.buffer,e.byteOffset,e.byteLength):I.lW.from(e)},M=function(){function e(t){(0,i.Z)(this,e),Object.assign(this,t)}return(0,o.Z)(e,[{key:"encode",value:function(){return I.lW.from((0,R.serialize)(G,this))}}],[{key:"decode",value:function(e){return(0,R.deserialize)(G,this,e)}},{key:"decodeUnchecked",value:function(e){return(0,R.deserializeUnchecked)(G,this,e)}}]),e}(),G=new Map,J=32;var F=function(e){(0,u.Z)(r,e);var t=(0,y.Z)(r);function r(e){var n;if((0,i.Z)(this,r),(n=t.call(this,{}))._bn=void 0,function(e){return void 0!==e._bn}(e))n._bn=e._bn;else{if("string"===typeof e){var o=P().decode(e);if(o.length!=J)throw new Error("Invalid public key input");n._bn=new(A())(o)}else n._bn=new(A())(e);if(n._bn.byteLength()>32)throw new Error("Invalid public key input")}return n}return(0,o.Z)(r,[{key:"equals",value:function(e){return this._bn.eq(e._bn)}},{key:"toBase58",value:function(){return P().encode(this.toBytes())}},{key:"toJSON",value:function(){return this.toBase58()}},{key:"toBytes",value:function(){return this.toBuffer()}},{key:"toBuffer",value:function(){var e=this._bn.toArrayLike(I.lW);if(e.length===J)return e;var t=I.lW.alloc(32);return e.copy(t,32-e.length),t}},{key:"toString",value:function(){return this.toBase58()}}],[{key:"createWithSeed",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t,n,i){var o,a;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=I.lW.concat([t.toBuffer(),I.lW.from(n),i.toBuffer()]),a=(0,Z.J)(o),e.abrupt("return",new r(a));case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"createProgramAddressSync",value:function(e,t){var n=I.lW.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=I.lW.concat([n,K(e)])})),n=I.lW.concat([n,t.toBuffer(),I.lW.from("ProgramDerivedAddress")]);var i=(0,Z.J)(n);if(q(i))throw new Error("Invalid seeds, address must fall off the curve");return new r(i)}},{key:"createProgramAddress",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t,r){return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createProgramAddressSync(t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"findProgramAddressSync",value:function(e,t){for(var r,n=255;0!=n;){try{var i=e.concat(I.lW.from([n]));r=this.createProgramAddressSync(i,t)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}},{key:"findProgramAddress",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t,r){return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.findProgramAddressSync(t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"isOnCurve",value:function(e){return q(new r(e).toBytes())}}]),r}(M);F.default=new F("11111111111111111111111111111111"),G.set(F,{kind:"struct",fields:[["_bn","u256"]]});new F("BPFLoader1111111111111111111111111111111111");var X=1232,H=function(e){(0,u.Z)(r,e);var t=(0,y.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,"Signature ".concat(e," has expired: block height exceeded."))).signature=void 0,n.signature=e,n}return(0,o.Z)(r)}((0,k.Z)(Error));Object.defineProperty(H.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var V=function(e){(0,u.Z)(r,e);var t=(0,y.Z)(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this,"Transaction was not confirmed in ".concat(n.toFixed(2)," seconds. It is ")+"unknown if it succeeded or failed. Check signature "+"".concat(e," using the Solana Explorer or CLI tools."))).signature=void 0,o.signature=e,o}return(0,o.Z)(r)}((0,k.Z)(Error));Object.defineProperty(V.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return T.Ik(32,e)},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",t=T.n_([T.Jq("length"),T.Jq("lengthPadding"),T.Ik(T.cv(T.Jq(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=function(e,t){return r(e,t).chars.toString()},i.encode=function(e,t,r){var i={chars:I.lW.from(e,"utf8")};return n(i,t,r)},i.alloc=function(e){return T.Jq().span+T.Jq().span+I.lW.from(e,"utf8").length},i};function $(e,t){var r=function e(r){if(r.span>=0)return r.span;if("function"===typeof r.alloc)return r.alloc(t[r.property]);if("count"in r&&"elementLayout"in r){var n=t[r.property];if(Array.isArray(n))return n.length*e(r.elementLayout)}return 0},n=0;return e.layout.fields.forEach((function(e){n+=r(e)})),n}function ee(e){for(var t=0,r=0;;){var n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function te(e,t){for(var r=t;;){var n=127&r;if(0==(r>>=7)){e.push(n);break}n|=128,e.push(n)}}var re=function(){function e(t){var r=this;(0,i.Z)(this,e),this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((function(e){return new F(e)})),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((function(e){return r.indexToProgramIds.set(e.programIdIndex,r.accountKeys[e.programIdIndex])}))}return(0,o.Z)(e,[{key:"version",get:function(){return"legacy"}},{key:"staticAccountKeys",get:function(){return this.accountKeys}},{key:"compiledInstructions",get:function(){return this.instructions.map((function(e){return{programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:P().decode(e.data)}}))}},{key:"addressTableLookups",get:function(){return[]}},{key:"isAccountSigner",value:function(e){return e<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}},{key:"isProgramId",value:function(e){return this.indexToProgramIds.has(e)}},{key:"programIds",value:function(){return(0,w.Z)(this.indexToProgramIds.values())}},{key:"nonProgramIds",value:function(){var e=this;return this.accountKeys.filter((function(t,r){return!e.isProgramId(r)}))}},{key:"serialize",value:function(){var e=this.accountKeys.length,t=[];te(t,e);var r=this.instructions.map((function(e){var t=e.accounts,r=e.programIdIndex,n=Array.from(P().decode(e.data)),i=[];te(i,t.length);var o=[];return te(o,n.length),{programIdIndex:r,keyIndicesCount:I.lW.from(i),keyIndices:t,dataLength:I.lW.from(o),data:n}})),n=[];te(n,r.length);var i=I.lW.alloc(X);I.lW.from(n).copy(i);var o=n.length;r.forEach((function(e){var t=T.n_([T.u8("programIdIndex"),T.Ik(e.keyIndicesCount.length,"keyIndicesCount"),T.A9(T.u8("keyIndex"),e.keyIndices.length,"keyIndices"),T.Ik(e.dataLength.length,"dataLength"),T.A9(T.u8("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t})),i=i.slice(0,o);var a=T.n_([T.Ik(1,"numRequiredSignatures"),T.Ik(1,"numReadonlySignedAccounts"),T.Ik(1,"numReadonlyUnsignedAccounts"),T.Ik(t.length,"keyCount"),T.A9(Y("key"),e,"keys"),Y("recentBlockhash")]),s={numRequiredSignatures:I.lW.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:I.lW.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:I.lW.from([this.header.numReadonlyUnsignedAccounts]),keyCount:I.lW.from(t),keys:this.accountKeys.map((function(e){return K(e.toBytes())})),recentBlockhash:P().decode(this.recentBlockhash)},u=I.lW.alloc(2048),c=a.encode(s,u);return i.copy(u,c),u.slice(0,c+i.length)}}],[{key:"from",value:function(t){var r=(0,w.Z)(t),n=r.shift();if(n!==(127&n))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");for(var i=r.shift(),o=r.shift(),a=ee(r),s=[],u=0;u<a;u++){var c=r.slice(0,J);r=r.slice(J),s.push(P().encode(I.lW.from(c)))}for(var l=r.slice(0,J),d=ee(r=r.slice(J)),h=[],f=0;f<d;f++){var p=r.shift(),y=ee(r),g=r.slice(0,y),v=ee(r=r.slice(y)),m=r.slice(0,v),b=P().encode(I.lW.from(m));r=r.slice(v),h.push({programIdIndex:p,accounts:g,data:b})}return new e({header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:P().encode(I.lW.from(l)),accountKeys:s,instructions:h})}}]),e}();function ne(e,t){if(!e)throw new Error(t||"Assertion failed")}var ie;!function(e){e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT"}(ie||(ie={}));var oe=I.lW.alloc(64).fill(0),ae=function(){function e(t){(0,i.Z)(this,e),this.keys=void 0,this.programId=void 0,this.data=I.lW.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}return(0,o.Z)(e,[{key:"toJSON",value:function(){return{keys:this.keys.map((function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;return{pubkey:t.toJSON(),isSigner:r,isWritable:n}})),programId:this.programId.toJSON(),data:(0,w.Z)(this.data)}}}]),e}(),se=function(){function e(t){if((0,i.Z)(this,e),this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){var r=t.blockhash,n=t.lastValidBlockHeight;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{var o=t.recentBlockhash,a=t.nonceInfo;a&&(this.nonceInfo=a),this.recentBlockhash=o}}return(0,o.Z)(e,[{key:"signature",get:function(){return this.signatures.length>0?this.signatures[0].signature:null}},{key:"toJSON",value:function(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((function(e){return e.toJSON()})),signers:this.signatures.map((function(e){return e.publicKey.toJSON()}))}}},{key:"add",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(0===r.length)throw new Error("No instructions");return r.forEach((function(t){"instructions"in t?e.instructions=e.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?e.instructions.push(t):e.instructions.push(new ae(t))})),this}},{key:"compileMessage",value:function(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;var e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction].concat((0,w.Z)(this.instructions)):this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(var n=0;n<t.length;n++)if(void 0===t[n].programId)throw new Error("Transaction instruction index ".concat(n," has undefined program id"));var i=[],o=[];t.forEach((function(e){e.keys.forEach((function(e){o.push((0,b.Z)({},e))}));var t=e.programId.toString();i.includes(t)||i.push(t)})),i.forEach((function(e){o.push({pubkey:new F(e),isSigner:!1,isWritable:!1})}));var a=[];o.forEach((function(e){var t=e.pubkey.toString(),r=a.findIndex((function(e){return e.pubkey.toString()===t}));r>-1?(a[r].isWritable=a[r].isWritable||e.isWritable,a[r].isSigner=a[r].isSigner||e.isSigner):a.push(e)})),a.sort((function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())}));var s=a.findIndex((function(e){return e.pubkey.equals(r)}));if(s>-1){var u=a.splice(s,1),c=(0,m.Z)(u,1)[0];c.isSigner=!0,c.isWritable=!0,a.unshift(c)}else a.unshift({pubkey:r,isSigner:!0,isWritable:!0});var l,d=(0,p.Z)(this.signatures);try{var h=function(){var e=l.value,t=a.findIndex((function(t){return t.pubkey.equals(e.publicKey)}));if(!(t>-1))throw new Error("unknown signer: ".concat(e.publicKey.toString()));a[t].isSigner||(a[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))};for(d.s();!(l=d.n()).done;)h()}catch(x){d.e(x)}finally{d.f()}var f=0,y=0,g=0,v=[],k=[];a.forEach((function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;r?(v.push(t.toString()),f+=1,n||(y+=1)):(k.push(t.toString()),n||(g+=1))}));var I=v.concat(k),_=t.map((function(e){var t=e.data,r=e.programId;return{programIdIndex:I.indexOf(r.toString()),accounts:e.keys.map((function(e){return I.indexOf(e.pubkey.toString())})),data:P().encode(t)}}));return _.forEach((function(e){ne(e.programIdIndex>=0),e.accounts.forEach((function(e){return ne(e>=0)}))})),new re({header:{numRequiredSignatures:f,numReadonlySignedAccounts:y,numReadonlyUnsignedAccounts:g},accountKeys:I,recentBlockhash:e,instructions:_})}},{key:"_compile",value:function(){var e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length&&this.signatures.every((function(e,r){return t[r].equals(e.publicKey)})))return e;return this.signatures=t.map((function(e){return{signature:null,publicKey:e}})),e}},{key:"serializeMessage",value:function(){return this._compile().serialize()}},{key:"getEstimatedFee",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t){return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getFeeForMessage(this.compileMessage());case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setSigners",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");var n=new Set;this.signatures=t.filter((function(e){var t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((function(e){return{signature:null,publicKey:e}}))}},{key:"sign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.publicKey.toString();n.has(u)||(n.add(u),i.push(s))}this.signatures=i.map((function(e){return{signature:null,publicKey:e.publicKey}}));var c=this._compile();this._partialSign.apply(this,[c].concat(i))}},{key:"partialSign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.publicKey.toString();n.has(u)||(n.add(u),i.push(s))}var c=this._compile();this._partialSign.apply(this,[c].concat(i))}},{key:"_partialSign",value:function(e){for(var t=this,r=e.serialize(),n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];i.forEach((function(e){var n=D(r,e.secretKey);t._addSignature(e.publicKey,K(n))}))}},{key:"addSignature",value:function(e,t){this._compile(),this._addSignature(e,t)}},{key:"_addSignature",value:function(e,t){ne(64===t.length);var r=this.signatures.findIndex((function(t){return e.equals(t.publicKey)}));if(r<0)throw new Error("unknown signer: ".concat(e.toString()));this.signatures[r].signature=I.lW.from(t)}},{key:"verifySignatures",value:function(){return this._verifySignatures(this.serializeMessage(),!0)}},{key:"_verifySignatures",value:function(e,t){var r,n=(0,p.Z)(this.signatures);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=i.signature,a=i.publicKey;if(null===o){if(t)return!1}else if(!N(o,e,a.toBuffer()))return!1}}catch(s){n.e(s)}finally{n.f()}return!0}},{key:"serialize",value:function(e){var t=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=t.requireAllSignatures,n=t.verifySignatures,i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}},{key:"_serialize",value:function(e){var t=this.signatures,r=[];te(r,t.length);var n=r.length+64*t.length+e.length,i=I.lW.alloc(n);return ne(t.length<256),I.lW.from(r).copy(i,0),t.forEach((function(e,t){var n=e.signature;null!==n&&(ne(64===n.length,"signature has invalid length"),I.lW.from(n).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),ne(i.length<=X,"Transaction too large: ".concat(i.length," > ").concat(X)),i}},{key:"keys",get:function(){return ne(1===this.instructions.length),this.instructions[0].keys.map((function(e){return e.pubkey}))}},{key:"programId",get:function(){return ne(1===this.instructions.length),this.instructions[0].programId}},{key:"data",get:function(){return ne(1===this.instructions.length),this.instructions[0].data}}],[{key:"from",value:function(t){for(var r=(0,w.Z)(t),n=ee(r),i=[],o=0;o<n;o++){var a=r.slice(0,64);r=r.slice(64),i.push(P().encode(I.lW.from(a)))}return e.populate(re.from(r),i)}},{key:"populate",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new e;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach((function(e,r){var i={signature:e==P().encode(oe)?null:P().decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)})),t.instructions.forEach((function(e){var r=e.accounts.map((function(e){var r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some((function(e){return e.publicKey.toString()===r.toString()}))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));n.instructions.push(new ae({keys:r,programId:t.accountKeys[e.programIdIndex],data:P().decode(e.data)}))})),n._message=t,n._json=n.toJSON(),n}}]),e}(),ue=new F("SysvarC1ock11111111111111111111111111111111"),ce=(new F("SysvarEpochSchedu1e111111111111111111111111"),new F("Sysvar1nstructions1111111111111111111111111"),new F("SysvarRecentB1ockHashes11111111111111111111")),le=new F("SysvarRent111111111111111111111111111111111"),de=(new F("SysvarRewards111111111111111111111111111111"),new F("SysvarS1otHashes111111111111111111111111111"),new F("SysvarS1otHistory11111111111111111111111111"),new F("SysvarStakeHistory1111111111111111111111111"));function he(e,t,r,n){return fe.apply(this,arguments)}function fe(){return fe=(0,n.Z)((0,g.Z)().mark((function e(t,r,n,i){var o,a,s;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},e.next=3,t.sendTransaction(r,n,o);case 3:if(a=e.sent,null==r.recentBlockhash||null==r.lastValidBlockHeight){e.next=10;break}return e.next=7,t.confirmTransaction({signature:a,blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight},i&&i.commitment);case 7:e.t0=e.sent.value,e.next=13;break;case 10:return e.next=12,t.confirmTransaction(a,i&&i.commitment);case 12:e.t0=e.sent.value;case 13:if(!(s=e.t0).err){e.next=16;break}throw new Error("Transaction ".concat(a," failed (").concat(JSON.stringify(s),")"));case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}function pe(e){return new Promise((function(t){return setTimeout(t,e)}))}function ye(e,t){var r=e.layout.span>=0?e.layout.span:$(e,t),n=I.lW.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}var ge,ve=T._O("lamportsPerSignature"),me=T.n_([T.Jq("version"),T.Jq("state"),Y("authorizedPubkey"),Y("nonce"),T.n_([ve],"feeCalculator")]),be=me.span,we=(ge=8,function(e){var t=(0,T.Ik)(ge,e),r=function(e){return{decode:e.decode.bind(e),encode:e.encode.bind(e)}}(t),n=r.encode,i=r.decode,o=t;return o.decode=function(e,t){var r=i(e,t);return(0,O.oU)(I.lW.from(r))},o.encode=function(e,t,r){var i=(0,O.k$)(e,ge);return n(i,t,r)},o}),ke=Object.freeze({Create:{index:0,layout:T.n_([T.Jq("instruction"),T.gM("lamports"),T.gM("space"),Y("programId")])},Assign:{index:1,layout:T.n_([T.Jq("instruction"),Y("programId")])},Transfer:{index:2,layout:T.n_([T.Jq("instruction"),we("lamports")])},CreateWithSeed:{index:3,layout:T.n_([T.Jq("instruction"),Y("base"),Q("seed"),T.gM("lamports"),T.gM("space"),Y("programId")])},AdvanceNonceAccount:{index:4,layout:T.n_([T.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:T.n_([T.Jq("instruction"),T.gM("lamports")])},InitializeNonceAccount:{index:6,layout:T.n_([T.Jq("instruction"),Y("authorized")])},AuthorizeNonceAccount:{index:7,layout:T.n_([T.Jq("instruction"),Y("authorized")])},Allocate:{index:8,layout:T.n_([T.Jq("instruction"),T.gM("space")])},AllocateWithSeed:{index:9,layout:T.n_([T.Jq("instruction"),Y("base"),Q("seed"),T.gM("space"),Y("programId")])},AssignWithSeed:{index:10,layout:T.n_([T.Jq("instruction"),Y("base"),Q("seed"),Y("programId")])},TransferWithSeed:{index:11,layout:T.n_([T.Jq("instruction"),we("lamports"),Q("seed"),Y("programId")])},UpgradeNonceAccount:{index:12,layout:T.n_([T.Jq("instruction")])}}),Ie=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"createAccount",value:function(e){var t=ye(ke.Create,{lamports:e.lamports,space:e.space,programId:K(e.programId.toBuffer())});return new ae({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}},{key:"transfer",value:function(e){var t,r;"basePubkey"in e?(t=ye(ke.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:K(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=ye(ke.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]);return new ae({keys:r,programId:this.programId,data:t})}},{key:"assign",value:function(e){var t,r;"basePubkey"in e?(t=ye(ke.AssignWithSeed,{base:K(e.basePubkey.toBuffer()),seed:e.seed,programId:K(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=ye(ke.Assign,{programId:K(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]);return new ae({keys:r,programId:this.programId,data:t})}},{key:"createAccountWithSeed",value:function(e){var t=ye(ke.CreateWithSeed,{base:K(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:K(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ae({keys:r,programId:this.programId,data:t})}},{key:"createNonceAccount",value:function(t){var r=new se;"basePubkey"in t&&"seed"in t?r.add(e.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:be,programId:this.programId})):r.add(e.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:be,programId:this.programId}));var n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}},{key:"nonceInitialize",value:function(e){var t=ye(ke.InitializeNonceAccount,{authorized:K(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ce,isSigner:!1,isWritable:!1},{pubkey:le,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new ae(r)}},{key:"nonceAdvance",value:function(e){var t=ye(ke.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ce,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new ae(r)}},{key:"nonceWithdraw",value:function(e){var t=ye(ke.WithdrawNonceAccount,{lamports:e.lamports});return new ae({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ce,isSigner:!1,isWritable:!1},{pubkey:le,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}},{key:"nonceAuthorize",value:function(e){var t=ye(ke.AuthorizeNonceAccount,{authorized:K(e.newAuthorizedPubkey.toBuffer())});return new ae({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}},{key:"allocate",value:function(e){var t,r;"basePubkey"in e?(t=ye(ke.AllocateWithSeed,{base:K(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:K(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=ye(ke.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]);return new ae({keys:r,programId:this.programId,data:t})}}]),e}();Ie.programId=new F("11111111111111111111111111111111");var _e=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"getMinNumSignatures",value:function(t){return 2*(Math.ceil(t/e.chunkSize)+1+1)}},{key:"load",value:function(){var t=(0,n.Z)((0,g.Z)().mark((function t(r,n,i,o,a){var s,u,c,l,d,h,f,p,y,v,m,b,w,k;return(0,g.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getMinimumBalanceForRentExemption(a.length);case 2:return s=t.sent,t.next=5,r.getAccountInfo(i.publicKey,"confirmed");case 5:if(u=t.sent,c=null,null===u){t.next=16;break}if(!u.executable){t.next=11;break}return console.error("Program load failed, account is already executable"),t.abrupt("return",!1);case 11:u.data.length!==a.length&&(c=c||new se).add(Ie.allocate({accountPubkey:i.publicKey,space:a.length})),u.owner.equals(o)||(c=c||new se).add(Ie.assign({accountPubkey:i.publicKey,programId:o})),u.lamports<s&&(c=c||new se).add(Ie.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:s-u.lamports})),t.next=17;break;case 16:c=(new se).add(Ie.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:s>0?s:1,space:a.length,programId:o}));case 17:if(null===c){t.next=20;break}return t.next=20,he(r,c,[n,i],{commitment:"confirmed"});case 20:l=T.n_([T.Jq("instruction"),T.Jq("offset"),T.Jq("bytesLength"),T.Jq("bytesLengthPadding"),T.A9(T.u8("byte"),T.cv(T.Jq(),-8),"bytes")]),d=e.chunkSize,h=0,f=a,p=[];case 25:if(!(f.length>0)){t.next=39;break}if(y=f.slice(0,d),v=I.lW.alloc(d+16),l.encode({instruction:0,offset:h,bytes:y,bytesLength:0,bytesLengthPadding:0},v),m=(new se).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:v}),p.push(he(r,m,[n,i],{commitment:"confirmed"})),!r._rpcEndpoint.includes("solana.com")){t.next=35;break}return 4,t.next=35,pe(250);case 35:h+=d,f=f.slice(d),t.next=25;break;case 39:return t.next=41,Promise.all(p);case 41:return b=T.n_([T.Jq("instruction")]),w=I.lW.alloc(b.span),b.encode({instruction:1},w),k=(new se).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:le,isSigner:!1,isWritable:!1}],programId:o,data:w}),t.next=47,he(r,k,[n,i],{commitment:"confirmed"});case 47:return t.abrupt("return",!0);case 48:case"end":return t.stop()}}),t)})));return function(e,r,n,i,o){return t.apply(this,arguments)}}()}]),e}();_e.chunkSize=932;new F("BPFLoader2111111111111111111111111111111111"),Object.prototype.toString,Object.keys;Error,Error,globalThis.fetch;var xe;T.n_([T.Jq("typeIndex"),we("deactivationSlot"),T._O("lastExtendedSlot"),T.u8("lastExtendedStartIndex"),T.u8(),T.A9(Y(),T.cv(T.u8(),-1),"authority")]);var Se=(0,W.oQ)((0,W.eE)(F),(0,W.Z_)(),(function(e){return new F(e)})),Ae=(0,W.bc)([(0,W.Z_)(),(0,W.i0)("base64")]),Ee=(0,W.oQ)((0,W.eE)(I.lW),Ae,(function(e){return I.lW.from(e[0],"base64")}));function Pe(e){return(0,W.G0)([(0,W.dt)({jsonrpc:(0,W.i0)("2.0"),id:(0,W.Z_)(),result:e}),(0,W.dt)({jsonrpc:(0,W.i0)("2.0"),id:(0,W.Z_)(),error:(0,W.dt)({code:(0,W._4)(),message:(0,W.Z_)(),data:(0,W.jt)((0,W.Yj)())})})])}var Ze=Pe((0,W._4)());function Re(e){return(0,W.oQ)(Pe(e),Ze,(function(t){return"error"in t?t:(0,b.Z)((0,b.Z)({},t),{},{result:(0,W.Ue)(t.result,e)})}))}function Te(e){return Re((0,W.dt)({context:(0,W.dt)({slot:(0,W.Rx)()}),value:e}))}function Oe(e){return(0,W.dt)({context:(0,W.dt)({slot:(0,W.Rx)()}),value:e})}var We=(0,W.dt)({foundation:(0,W.Rx)(),foundationTerm:(0,W.Rx)(),initial:(0,W.Rx)(),taper:(0,W.Rx)(),terminal:(0,W.Rx)()}),Be=(Re((0,W.IX)((0,W.AG)((0,W.dt)({epoch:(0,W.Rx)(),effectiveSlot:(0,W.Rx)(),amount:(0,W.Rx)(),postBalance:(0,W.Rx)()})))),(0,W.dt)({epoch:(0,W.Rx)(),slotIndex:(0,W.Rx)(),slotsInEpoch:(0,W.Rx)(),absoluteSlot:(0,W.Rx)(),blockHeight:(0,W.jt)((0,W.Rx)()),transactionCount:(0,W.jt)((0,W.Rx)())})),Ce=(0,W.dt)({slotsPerEpoch:(0,W.Rx)(),leaderScheduleSlotOffset:(0,W.Rx)(),warmup:(0,W.O7)(),firstNormalEpoch:(0,W.Rx)(),firstNormalSlot:(0,W.Rx)()}),Ue=(0,W.IM)((0,W.Z_)(),(0,W.IX)((0,W.Rx)())),je=(0,W.AG)((0,W.G0)([(0,W.dt)({}),(0,W.Z_)()])),Le=(0,W.dt)({err:je}),ze=(0,W.i0)("receivedSignature");(0,W.dt)({"solana-core":(0,W.Z_)(),"feature-set":(0,W.jt)((0,W.Rx)())}),Te((0,W.dt)({err:(0,W.AG)((0,W.G0)([(0,W.dt)({}),(0,W.Z_)()])),logs:(0,W.AG)((0,W.IX)((0,W.Z_)())),accounts:(0,W.jt)((0,W.AG)((0,W.IX)((0,W.AG)((0,W.dt)({executable:(0,W.O7)(),owner:(0,W.Z_)(),lamports:(0,W.Rx)(),data:(0,W.IX)((0,W.Z_)()),rentEpoch:(0,W.jt)((0,W.Rx)())}))))),unitsConsumed:(0,W.jt)((0,W.Rx)()),returnData:(0,W.jt)((0,W.AG)((0,W.dt)({programId:(0,W.Z_)(),data:(0,W.bc)([(0,W.Z_)(),(0,W.i0)("base64")])})))})),Te((0,W.dt)({byIdentity:(0,W.IM)((0,W.Z_)(),(0,W.IX)((0,W.Rx)())),range:(0,W.dt)({firstSlot:(0,W.Rx)(),lastSlot:(0,W.Rx)()})}));Re(We),Re(Be),Re(Ce),Re(Ue),Re((0,W.Rx)()),Te((0,W.dt)({total:(0,W.Rx)(),circulating:(0,W.Rx)(),nonCirculating:(0,W.Rx)(),nonCirculatingAccounts:(0,W.IX)(Se)}));var qe=(0,W.dt)({amount:(0,W.Z_)(),uiAmount:(0,W.AG)((0,W.Rx)()),decimals:(0,W.Rx)(),uiAmountString:(0,W.jt)((0,W.Z_)())}),De=(Te((0,W.IX)((0,W.dt)({address:Se,amount:(0,W.Z_)(),uiAmount:(0,W.AG)((0,W.Rx)()),decimals:(0,W.Rx)(),uiAmountString:(0,W.jt)((0,W.Z_)())}))),Te((0,W.IX)((0,W.dt)({pubkey:Se,account:(0,W.dt)({executable:(0,W.O7)(),owner:Se,lamports:(0,W.Rx)(),data:Ee,rentEpoch:(0,W.Rx)()})}))),(0,W.dt)({program:(0,W.Z_)(),parsed:(0,W._4)(),space:(0,W.Rx)()})),Ne=(Te((0,W.IX)((0,W.dt)({pubkey:Se,account:(0,W.dt)({executable:(0,W.O7)(),owner:Se,lamports:(0,W.Rx)(),data:De,rentEpoch:(0,W.Rx)()})}))),Te((0,W.IX)((0,W.dt)({lamports:(0,W.Rx)(),address:Se}))),(0,W.dt)({executable:(0,W.O7)(),owner:Se,lamports:(0,W.Rx)(),data:Ee,rentEpoch:(0,W.Rx)()})),Ke=((0,W.dt)({pubkey:Se,account:Ne}),(0,W.oQ)((0,W.G0)([(0,W.eE)(I.lW),De]),(0,W.G0)([Ae,De]),(function(e){return Array.isArray(e)?(0,W.Ue)(e,Ee):e}))),Me=(0,W.dt)({executable:(0,W.O7)(),owner:Se,lamports:(0,W.Rx)(),data:Ke,rentEpoch:(0,W.Rx)()}),Ge=((0,W.dt)({pubkey:Se,account:Me}),(0,W.dt)({state:(0,W.G0)([(0,W.i0)("active"),(0,W.i0)("inactive"),(0,W.i0)("activating"),(0,W.i0)("deactivating")]),active:(0,W.Rx)(),inactive:(0,W.Rx)()}),Re((0,W.IX)((0,W.dt)({signature:(0,W.Z_)(),slot:(0,W.Rx)(),err:je,memo:(0,W.AG)((0,W.Z_)()),blockTime:(0,W.jt)((0,W.AG)((0,W.Rx)()))}))),Re((0,W.IX)((0,W.dt)({signature:(0,W.Z_)(),slot:(0,W.Rx)(),err:je,memo:(0,W.AG)((0,W.Z_)()),blockTime:(0,W.jt)((0,W.AG)((0,W.Rx)()))}))),(0,W.dt)({subscription:(0,W.Rx)(),result:Oe(Ne)}),(0,W.dt)({pubkey:Se,account:Ne})),Je=((0,W.dt)({subscription:(0,W.Rx)(),result:Oe(Ge)}),(0,W.dt)({parent:(0,W.Rx)(),slot:(0,W.Rx)(),root:(0,W.Rx)()})),Fe=((0,W.dt)({subscription:(0,W.Rx)(),result:Je}),(0,W.G0)([(0,W.dt)({type:(0,W.G0)([(0,W.i0)("firstShredReceived"),(0,W.i0)("completed"),(0,W.i0)("optimisticConfirmation"),(0,W.i0)("root")]),slot:(0,W.Rx)(),timestamp:(0,W.Rx)()}),(0,W.dt)({type:(0,W.i0)("createdBank"),parent:(0,W.Rx)(),slot:(0,W.Rx)(),timestamp:(0,W.Rx)()}),(0,W.dt)({type:(0,W.i0)("frozen"),slot:(0,W.Rx)(),timestamp:(0,W.Rx)(),stats:(0,W.dt)({numTransactionEntries:(0,W.Rx)(),numSuccessfulTransactions:(0,W.Rx)(),numFailedTransactions:(0,W.Rx)(),maxTransactionsPerEntry:(0,W.Rx)()})}),(0,W.dt)({type:(0,W.i0)("dead"),slot:(0,W.Rx)(),timestamp:(0,W.Rx)(),err:(0,W.Z_)()})])),Xe=((0,W.dt)({subscription:(0,W.Rx)(),result:Fe}),(0,W.dt)({subscription:(0,W.Rx)(),result:Oe((0,W.G0)([Le,ze]))}),(0,W.dt)({subscription:(0,W.Rx)(),result:(0,W.Rx)()}),(0,W.dt)({pubkey:(0,W.Z_)(),gossip:(0,W.AG)((0,W.Z_)()),tpu:(0,W.AG)((0,W.Z_)()),rpc:(0,W.AG)((0,W.Z_)()),version:(0,W.AG)((0,W.Z_)())}),(0,W.dt)({votePubkey:(0,W.Z_)(),nodePubkey:(0,W.Z_)(),activatedStake:(0,W.Rx)(),epochVoteAccount:(0,W.O7)(),epochCredits:(0,W.IX)((0,W.bc)([(0,W.Rx)(),(0,W.Rx)(),(0,W.Rx)()])),commission:(0,W.Rx)(),lastVote:(0,W.Rx)(),rootSlot:(0,W.AG)((0,W.Rx)())})),He=(Re((0,W.dt)({current:(0,W.IX)(Xe),delinquent:(0,W.IX)(Xe)})),(0,W.G0)([(0,W.i0)("processed"),(0,W.i0)("confirmed"),(0,W.i0)("finalized")])),Ve=(0,W.dt)({slot:(0,W.Rx)(),confirmations:(0,W.AG)((0,W.Rx)()),err:je,confirmationStatus:(0,W.jt)(He)}),Ye=(Te((0,W.IX)((0,W.AG)(Ve))),Re((0,W.Rx)()),(0,W.dt)({accountKey:Se,writableIndexes:(0,W.IX)((0,W.Rx)()),readonlyIndexes:(0,W.IX)((0,W.Rx)())})),Qe=(0,W.dt)({signatures:(0,W.IX)((0,W.Z_)()),message:(0,W.dt)({accountKeys:(0,W.IX)((0,W.Z_)()),header:(0,W.dt)({numRequiredSignatures:(0,W.Rx)(),numReadonlySignedAccounts:(0,W.Rx)(),numReadonlyUnsignedAccounts:(0,W.Rx)()}),instructions:(0,W.IX)((0,W.dt)({accounts:(0,W.IX)((0,W.Rx)()),data:(0,W.Z_)(),programIdIndex:(0,W.Rx)()})),recentBlockhash:(0,W.Z_)(),addressTableLookups:(0,W.jt)((0,W.IX)(Ye))})}),$e=(0,W.dt)({parsed:(0,W._4)(),program:(0,W.Z_)(),programId:Se}),et=(0,W.dt)({accounts:(0,W.IX)(Se),data:(0,W.Z_)(),programId:Se}),tt=(0,W.G0)([et,$e]),rt=(0,W.G0)([(0,W.dt)({parsed:(0,W._4)(),program:(0,W.Z_)(),programId:(0,W.Z_)()}),(0,W.dt)({accounts:(0,W.IX)((0,W.Z_)()),data:(0,W.Z_)(),programId:(0,W.Z_)()})]),nt=(0,W.oQ)(tt,rt,(function(e){return"accounts"in e?(0,W.Ue)(e,et):(0,W.Ue)(e,$e)})),it=(0,W.dt)({signatures:(0,W.IX)((0,W.Z_)()),message:(0,W.dt)({accountKeys:(0,W.IX)((0,W.dt)({pubkey:Se,signer:(0,W.O7)(),writable:(0,W.O7)()})),instructions:(0,W.IX)(nt),recentBlockhash:(0,W.Z_)(),addressTableLookups:(0,W.jt)((0,W.AG)((0,W.IX)(Ye)))})}),ot=(0,W.dt)({accountIndex:(0,W.Rx)(),mint:(0,W.Z_)(),owner:(0,W.jt)((0,W.Z_)()),uiTokenAmount:qe}),at=(0,W.dt)({writable:(0,W.IX)(Se),readonly:(0,W.IX)(Se)}),st=(0,W.dt)({err:je,fee:(0,W.Rx)(),innerInstructions:(0,W.jt)((0,W.AG)((0,W.IX)((0,W.dt)({index:(0,W.Rx)(),instructions:(0,W.IX)((0,W.dt)({accounts:(0,W.IX)((0,W.Rx)()),data:(0,W.Z_)(),programIdIndex:(0,W.Rx)()}))})))),preBalances:(0,W.IX)((0,W.Rx)()),postBalances:(0,W.IX)((0,W.Rx)()),logMessages:(0,W.jt)((0,W.AG)((0,W.IX)((0,W.Z_)()))),preTokenBalances:(0,W.jt)((0,W.AG)((0,W.IX)(ot))),postTokenBalances:(0,W.jt)((0,W.AG)((0,W.IX)(ot))),loadedAddresses:(0,W.jt)(at),computeUnitsConsumed:(0,W.jt)((0,W.Rx)())}),ut=(0,W.dt)({err:je,fee:(0,W.Rx)(),innerInstructions:(0,W.jt)((0,W.AG)((0,W.IX)((0,W.dt)({index:(0,W.Rx)(),instructions:(0,W.IX)(nt)})))),preBalances:(0,W.IX)((0,W.Rx)()),postBalances:(0,W.IX)((0,W.Rx)()),logMessages:(0,W.jt)((0,W.AG)((0,W.IX)((0,W.Z_)()))),preTokenBalances:(0,W.jt)((0,W.AG)((0,W.IX)(ot))),postTokenBalances:(0,W.jt)((0,W.AG)((0,W.IX)(ot))),loadedAddresses:(0,W.jt)(at),computeUnitsConsumed:(0,W.jt)((0,W.Rx)())}),ct=(0,W.G0)([(0,W.i0)(0),(0,W.i0)("legacy")]),lt=(Re((0,W.AG)((0,W.dt)({blockhash:(0,W.Z_)(),previousBlockhash:(0,W.Z_)(),parentSlot:(0,W.Rx)(),transactions:(0,W.IX)((0,W.dt)({transaction:Qe,meta:(0,W.AG)(st),version:(0,W.jt)(ct)})),rewards:(0,W.jt)((0,W.IX)((0,W.dt)({pubkey:(0,W.Z_)(),lamports:(0,W.Rx)(),postBalance:(0,W.AG)((0,W.Rx)()),rewardType:(0,W.AG)((0,W.Z_)())}))),blockTime:(0,W.AG)((0,W.Rx)()),blockHeight:(0,W.AG)((0,W.Rx)())}))),Re((0,W.AG)((0,W.dt)({blockhash:(0,W.Z_)(),previousBlockhash:(0,W.Z_)(),parentSlot:(0,W.Rx)(),transactions:(0,W.IX)((0,W.dt)({transaction:Qe,meta:(0,W.AG)(st)})),rewards:(0,W.jt)((0,W.IX)((0,W.dt)({pubkey:(0,W.Z_)(),lamports:(0,W.Rx)(),postBalance:(0,W.AG)((0,W.Rx)()),rewardType:(0,W.AG)((0,W.Z_)())}))),blockTime:(0,W.AG)((0,W.Rx)())}))),Re((0,W.AG)((0,W.dt)({blockhash:(0,W.Z_)(),previousBlockhash:(0,W.Z_)(),parentSlot:(0,W.Rx)(),signatures:(0,W.IX)((0,W.Z_)()),blockTime:(0,W.AG)((0,W.Rx)())}))),Re((0,W.AG)((0,W.dt)({slot:(0,W.Rx)(),meta:st,blockTime:(0,W.jt)((0,W.AG)((0,W.Rx)())),transaction:Qe,version:(0,W.jt)(ct)}))),Re((0,W.AG)((0,W.dt)({slot:(0,W.Rx)(),transaction:it,meta:(0,W.AG)(ut),blockTime:(0,W.jt)((0,W.AG)((0,W.Rx)())),version:(0,W.jt)(ct)}))),Te((0,W.dt)({blockhash:(0,W.Z_)(),feeCalculator:(0,W.dt)({lamportsPerSignature:(0,W.Rx)()})})),Te((0,W.dt)({blockhash:(0,W.Z_)(),lastValidBlockHeight:(0,W.Rx)()})),(0,W.dt)({slot:(0,W.Rx)(),numTransactions:(0,W.Rx)(),numSlots:(0,W.Rx)(),samplePeriodSecs:(0,W.Rx)()})),dt=(Re((0,W.IX)(lt)),Te((0,W.AG)((0,W.dt)({feeCalculator:(0,W.dt)({lamportsPerSignature:(0,W.Rx)()})}))),Re((0,W.Z_)()),Re((0,W.Z_)()),(0,W.dt)({err:je,logs:(0,W.IX)((0,W.Z_)()),signature:(0,W.Z_)()})),ht=((0,W.dt)({result:Oe(dt),subscription:(0,W.Rx)()}),"js/".concat(null!==(xe="0.0.0-development")?xe:"UNKNOWN"),function(){function e(t){(0,i.Z)(this,e),this._keypair=void 0,this._keypair=null!==t&&void 0!==t?t:L()}return(0,o.Z)(e,[{key:"publicKey",get:function(){return new F(this._keypair.publicKey)}},{key:"secretKey",get:function(){return this._keypair.secretKey}}],[{key:"generate",value:function(){return new e(L())}},{key:"fromSecretKey",value:function(t,r){if(64!==t.byteLength)throw new Error("bad secret key size");var n=t.slice(32,64);if(!r||!r.skipValidation)for(var i=t.slice(0,32),o=z(i),a=0;a<32;a++)if(n[a]!==o[a])throw new Error("provided secretKey is invalid");return new e({publicKey:n,secretKey:t})}},{key:"fromSeed",value:function(t){var r=z(t),n=new Uint8Array(64);return n.set(t),n.set(r,32),new e({publicKey:r,secretKey:n})}}]),e}()),ft=Object.freeze({CreateLookupTable:{index:0,layout:T.n_([T.Jq("instruction"),we("recentSlot"),T.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:T.n_([T.Jq("instruction")])},ExtendLookupTable:{index:2,layout:T.n_([T.Jq("instruction"),we(),T.A9(Y(),T.cv(T.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:T.n_([T.Jq("instruction")])},CloseLookupTable:{index:4,layout:T.n_([T.Jq("instruction")])}}),pt=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"createLookupTable",value:function(e){var t=F.findProgramAddressSync([e.authority.toBuffer(),(0,O.k$)(BigInt(e.recentSlot),8)],this.programId),r=(0,m.Z)(t,2),n=r[0],i=r[1],o=ye(ft.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:i}),a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ie.programId,isSigner:!1,isWritable:!1}];return[new ae({programId:this.programId,keys:a,data:o}),n]}},{key:"freezeLookupTable",value:function(e){var t=ye(ft.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ae({programId:this.programId,keys:r,data:t})}},{key:"extendLookupTable",value:function(e){var t=ye(ft.ExtendLookupTable,{addresses:e.addresses.map((function(e){return e.toBytes()}))}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ie.programId,isSigner:!1,isWritable:!1}),new ae({programId:this.programId,keys:r,data:t})}},{key:"deactivateLookupTable",value:function(e){var t=ye(ft.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ae({programId:this.programId,keys:r,data:t})}},{key:"closeLookupTable",value:function(e){var t=ye(ft.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ae({programId:this.programId,keys:r,data:t})}}]),e}();pt.programId=new F("AddressLookupTab1e1111111111111111111111111");var yt=Object.freeze({RequestUnits:{index:0,layout:T.n_([T.u8("instruction"),T.Jq("units"),T.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:T.n_([T.u8("instruction"),T.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:T.n_([T.u8("instruction"),T.Jq("units")])},SetComputeUnitPrice:{index:3,layout:T.n_([T.u8("instruction"),we("microLamports")])}}),gt=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"requestUnits",value:function(e){var t=ye(yt.RequestUnits,e);return new ae({keys:[],programId:this.programId,data:t})}},{key:"requestHeapFrame",value:function(e){var t=ye(yt.RequestHeapFrame,e);return new ae({keys:[],programId:this.programId,data:t})}},{key:"setComputeUnitLimit",value:function(e){var t=ye(yt.SetComputeUnitLimit,e);return new ae({keys:[],programId:this.programId,data:t})}},{key:"setComputeUnitPrice",value:function(e){var t=ye(yt.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new ae({keys:[],programId:this.programId,data:t})}}]),e}();gt.programId=new F("ComputeBudget111111111111111111111111111111");var vt=T.n_([T.u8("numSignatures"),T.u8("padding"),T.KB("signatureOffset"),T.KB("signatureInstructionIndex"),T.KB("publicKeyOffset"),T.KB("publicKeyInstructionIndex"),T.KB("messageDataOffset"),T.KB("messageDataSize"),T.KB("messageInstructionIndex")]),mt=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,i=t.signature,o=t.instructionIndex;ne(32===r.length,"Public Key must be ".concat(32," bytes but received ").concat(r.length," bytes")),ne(64===i.length,"Signature must be ".concat(64," bytes but received ").concat(i.length," bytes"));var a=vt.span,s=a+r.length,u=s+i.length,c=I.lW.alloc(u+n.length),l=null==o?65535:o;return vt.encode({numSignatures:1,padding:0,signatureOffset:s,signatureInstructionIndex:l,publicKeyOffset:a,publicKeyInstructionIndex:l,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:l},c),c.fill(r,a),c.fill(i,s),c.fill(n,u),new ae({keys:[],programId:e.programId,data:c})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message,n=e.instructionIndex;ne(64===t.length,"Private key must be ".concat(64," bytes but received ").concat(t.length," bytes"));try{var i=ht.fromSecretKey(t),o=i.publicKey.toBytes(),a=D(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:n})}catch(s){throw new Error("Error creating instruction; ".concat(s))}}}]),e}();mt.programId=new F("Ed25519SigVerify111111111111111111111111111"),j.P6.hmacSha256Sync=function(e){for(var t=U.b.create(Z.J,e),r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.forEach((function(e){return t.update(e)})),t.digest()};j.P6.isValidPrivateKey;var bt=j.$3,wt=T.n_([T.u8("numSignatures"),T.KB("signatureOffset"),T.u8("signatureInstructionIndex"),T.KB("ethAddressOffset"),T.u8("ethAddressInstructionIndex"),T.KB("messageDataOffset"),T.KB("messageDataSize"),T.u8("messageInstructionIndex"),T.Ik(20,"ethAddress"),T.Ik(64,"signature"),T.u8("recoveryId")]),kt=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"publicKeyToEthAddress",value:function(e){ne(64===e.length,"Public key must be ".concat(64," bytes but received ").concat(e.length," bytes"));try{return I.lW.from(C().keccak_256.update(K(e)).digest()).slice(-20)}catch(t){throw new Error("Error constructing Ethereum address: ".concat(t))}}},{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,i=t.signature,o=t.recoveryId,a=t.instructionIndex;return e.createInstructionWithEthAddress({ethAddress:e.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:a})}},{key:"createInstructionWithEthAddress",value:function(t){var r,n=t.ethAddress,i=t.message,o=t.signature,a=t.recoveryId,s=t.instructionIndex,u=void 0===s?0:s;ne(20===(r="string"===typeof n?n.startsWith("0x")?I.lW.from(n.substr(2),"hex"):I.lW.from(n,"hex"):n).length,"Address must be ".concat(20," bytes but received ").concat(r.length," bytes"));var c=12+r.length,l=c+o.length+1,d=I.lW.alloc(wt.span+i.length);return wt.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:u,ethAddressOffset:12,ethAddressInstructionIndex:u,messageDataOffset:l,messageDataSize:i.length,messageInstructionIndex:u,signature:K(o),ethAddress:K(r),recoveryId:a},d),d.fill(K(i),wt.span),new ae({keys:[],programId:e.programId,data:d})}},{key:"createInstructionWithPrivateKey",value:function(e){var t,r,n=e.privateKey,i=e.message,o=e.instructionIndex;ne(32===n.length,"Private key must be ".concat(32," bytes but received ").concat(n.length," bytes"));try{var a=K(n),s=bt(a,!1).slice(1),u=I.lW.from(C().keccak_256.update(K(i)).digest()),c=(t=u,r=a,j.kS(t,r,{der:!1,recovered:!0})),l=(0,m.Z)(c,2),d=l[0],h=l[1];return this.createInstructionWithPublicKey({publicKey:s,message:i,signature:d,recoveryId:h,instructionIndex:o})}catch(f){throw new Error("Error creating instruction; ".concat(f))}}}]),e}();kt.programId=new F("KeccakSecp256k11111111111111111111111111111");var It=new F("StakeConfig11111111111111111111111111111111"),_t=(0,o.Z)((function e(t,r,n){(0,i.Z)(this,e),this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=n}));_t.default=new _t(0,0,F.default);var xt=Object.freeze({Initialize:{index:0,layout:T.n_([T.Jq("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return T.n_([Y("staker"),Y("withdrawer")],e)}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return T.n_([T.gM("unixTimestamp"),T.gM("epoch"),Y("custodian")],e)}()])},Authorize:{index:1,layout:T.n_([T.Jq("instruction"),Y("newAuthorized"),T.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:T.n_([T.Jq("instruction")])},Split:{index:3,layout:T.n_([T.Jq("instruction"),T.gM("lamports")])},Withdraw:{index:4,layout:T.n_([T.Jq("instruction"),T.gM("lamports")])},Deactivate:{index:5,layout:T.n_([T.Jq("instruction")])},Merge:{index:7,layout:T.n_([T.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:T.n_([T.Jq("instruction"),Y("newAuthorized"),T.Jq("stakeAuthorizationType"),Q("authoritySeed"),Y("authorityOwner")])}}),St=(Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"initialize",value:function(e){var t=e.stakePubkey,r=e.authorized,n=e.lockup||_t.default,i=ye(xt.Initialize,{authorized:{staker:K(r.staker.toBuffer()),withdrawer:K(r.withdrawer.toBuffer())},lockup:{unixTimestamp:n.unixTimestamp,epoch:n.epoch,custodian:K(n.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:le,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new ae(o)}},{key:"createAccountWithSeed",value:function(e){var t=new se;t.add(Ie.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"createAccount",value:function(e){var t=new se;t.add(Ie.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"delegate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.votePubkey,i=ye(xt.Delegate);return(new se).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:de,isSigner:!1,isWritable:!1},{pubkey:It,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"authorize",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,i=e.stakeAuthorizationType,o=e.custodianPubkey,a=ye(xt.Authorize,{newAuthorized:K(n.toBuffer()),stakeAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ue,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&s.push({pubkey:o,isSigner:!1,isWritable:!1}),(new se).add({keys:s,programId:this.programId,data:a})}},{key:"authorizeWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorityBase,n=e.authoritySeed,i=e.authorityOwner,o=e.newAuthorizedPubkey,a=e.stakeAuthorizationType,s=e.custodianPubkey,u=ye(xt.AuthorizeWithSeed,{newAuthorized:K(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:n,authorityOwner:K(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:ue,isSigner:!1,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!1,isWritable:!1}),(new se).add({keys:c,programId:this.programId,data:u})}},{key:"splitInstruction",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,i=e.lamports,o=ye(xt.Split,{lamports:i});return new ae({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}},{key:"split",value:function(e){var t=new se;return t.add(Ie.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}},{key:"splitWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,i=e.basePubkey,o=e.seed,a=e.lamports,s=new se;return s.add(Ie.allocate({accountPubkey:n,basePubkey:i,seed:o,space:this.space,programId:this.programId})),s.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:a}))}},{key:"merge",value:function(e){var t=e.stakePubkey,r=e.sourceStakePubKey,n=e.authorizedPubkey,i=ye(xt.Merge);return(new se).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:de,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"withdraw",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.toPubkey,i=e.lamports,o=e.custodianPubkey,a=ye(xt.Withdraw,{lamports:i}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:de,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&s.push({pubkey:o,isSigner:!1,isWritable:!1}),(new se).add({keys:s,programId:this.programId,data:a})}},{key:"deactivate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=ye(xt.Deactivate);return(new se).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}]),e}());St.programId=new F("Stake11111111111111111111111111111111111111"),St.space=200;var At=Object.freeze({InitializeAccount:{index:0,layout:T.n_([T.Jq("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return T.n_([Y("nodePubkey"),Y("authorizedVoter"),Y("authorizedWithdrawer"),T.u8("commission")],e)}()])},Authorize:{index:1,layout:T.n_([T.Jq("instruction"),Y("newAuthorized"),T.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:T.n_([T.Jq("instruction"),T.gM("lamports")])}}),Et=(Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"initializeAccount",value:function(e){var t=e.votePubkey,r=e.nodePubkey,n=e.voteInit,i=ye(At.InitializeAccount,{voteInit:{nodePubkey:K(n.nodePubkey.toBuffer()),authorizedVoter:K(n.authorizedVoter.toBuffer()),authorizedWithdrawer:K(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:le,isSigner:!1,isWritable:!1},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new ae(o)}},{key:"createAccount",value:function(e){var t=new se;return t.add(Ie.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}},{key:"authorize",value:function(e){var t=e.votePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,i=e.voteAuthorizationType,o=ye(At.Authorize,{newAuthorized:K(n.toBuffer()),voteAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ue,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new se).add({keys:a,programId:this.programId,data:o})}},{key:"withdraw",value:function(e){var t=e.votePubkey,r=e.authorizedWithdrawerPubkey,n=e.lamports,i=e.toPubkey,o=ye(At.Withdraw,{lamports:n}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new se).add({keys:a,programId:this.programId,data:o})}},{key:"safeWithdraw",value:function(t,r,n){if(t.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return e.withdraw(t)}}]),e}());Et.programId=new F("Vote111111111111111111111111111111111111111"),Et.space=3731;new F("Va1idator1nfo111111111111111111111111111111"),(0,W.dt)({name:(0,W.Z_)(),website:(0,W.jt)((0,W.Z_)()),details:(0,W.jt)((0,W.Z_)()),keybaseUsername:(0,W.jt)((0,W.Z_)())}),new F("Vote111111111111111111111111111111111111111"),T.n_([Y("nodePubkey"),Y("authorizedWithdrawer"),T.u8("commission"),T._O(),T.A9(T.n_([T._O("slot"),T.Jq("confirmationCount")]),T.cv(T.Jq(),-8),"votes"),T.u8("rootSlotValid"),T._O("rootSlot"),T._O(),T.A9(T.n_([T._O("epoch"),Y("authorizedVoter")]),T.cv(T.Jq(),-8),"authorizedVoters"),T.n_([T.A9(T.n_([Y("authorizedPubkey"),T._O("epochOfLastAuthorizedSwitch"),T._O("targetEpoch")]),32,"buf"),T._O("idx"),T.u8("isEmpty")],"priorVoters"),T._O(),T.A9(T.n_([T._O("epoch"),T._O("credits"),T._O("prevCredits")]),T.cv(T.Jq(),-8),"epochCredits"),T.n_([T._O("slot"),T._O("timestamp")],"lastTimestamp")]);var Pt=r(21653),Zt=r(62276),Rt=r(87488),Tt=r(59075),Ot=r(75121),Wt=r(72891),Bt=r.n(Wt),Ct=r(84682),Ut=r(2166),jt=r.n(Ut),Lt=r(74149),zt=r.n(Lt),qt=r(93951),Dt=r.n(qt);function Nt(){}var Kt="ACK",Mt=function(e){(0,u.Z)(r,e);var t=(0,y.Z)(r);function r(e){var n;(0,i.Z)(this,r);var o=e.name,s=e.target,u=e.targetWindow,c=void 0===u?window:u,l=e.targetOrigin,d=void 0===l?"*":l;if(n=t.call(this,{objectMode:!0}),v((0,a.Z)(n),"_init",void 0),v((0,a.Z)(n),"_haveSyn",void 0),v((0,a.Z)(n),"_name",void 0),v((0,a.Z)(n),"_target",void 0),v((0,a.Z)(n),"_targetWindow",void 0),v((0,a.Z)(n),"_targetOrigin",void 0),v((0,a.Z)(n),"_onMessage",void 0),v((0,a.Z)(n),"_synIntervalId",void 0),!o||!s)throw new Error("Invalid input.");return n._init=!1,n._haveSyn=!1,n._name=o,n._target=s,n._targetWindow=c,n._targetOrigin=d,n._onMessage=n.onMessage.bind((0,a.Z)(n)),n._synIntervalId=null,window.addEventListener("message",n._onMessage,!1),n._handShake(),n}return(0,o.Z)(r,[{key:"_break",value:function(){this.cork(),this._write("BRK",null,Nt),this._haveSyn=!1,this._init=!1}},{key:"_handShake",value:function(){this._write("SYN",null,Nt),this.cork()}},{key:"_onData",value:function(e){if(this._init)if("BRK"===e)this._break();else try{this.push(e)}catch(t){this.emit("error",t)}else"SYN"===e?(this._haveSyn=!0,this._write(Kt,null,Nt)):e===Kt&&(this._init=!0,this._haveSyn||this._write(Kt,null,Nt),this.uncork())}},{key:"_postMessage",value:function(e){var t=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:e},t)}},{key:"onMessage",value:function(e){var t=e.data;"*"!==this._targetOrigin&&e.origin!==this._targetOrigin||e.source!==this._targetWindow||"object"!==typeof t||t.target!==this._name||!t.data||this._onData(t.data)}},{key:"_read",value:function(){}},{key:"_write",value:function(e,t,r){this._postMessage(e),r()}},{key:"_destroy",value:function(){window.removeEventListener("message",this._onMessage,!1)}}]),r}(Rt.Duplex);function Gt(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout((function(){throw n}))}}function Jt(e){for(var t=e.length,r=new Array(t),n=0;n<t;n+=1)r[n]=e[n];return r}var Ft=function(e){(0,u.Z)(r,e);var t=(0,y.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"emit",value:function(e){var t="error"===e,r=this._events;if(void 0!==r)t=t&&void 0===r.error;else if(!t)return!1;for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];if(t){var a;if(i.length>0&&(a=i[0]),a instanceof Error)throw a;var s=new Error("Unhandled error.".concat(a?" (".concat(a.message,")"):""));throw s.context=a,s}var u=r[e];if(void 0===u)return!1;if("function"===typeof u)Gt(u,this,i);else for(var c=u.length,l=Jt(u),d=0;d<c;d+=1)Gt(l[d],this,i);return!0}}]),r}(Ot.EventEmitter),Xt=function(e){(0,u.Z)(r,e);var t=(0,y.Z)(r);function r(e){var n;(0,i.Z)(this,r);var o=e.code,s=e.message,u=e.data;if(!Number.isInteger(o))throw new Error("code must be an integer");if(!s||"string"!==typeof s)throw new Error("message must be string");return n=t.call(this,s),v((0,a.Z)(n),"code",void 0),v((0,a.Z)(n),"data",void 0),n.code=o,void 0!==u&&(n.data=u),n}return(0,o.Z)(r,[{key:"toString",value:function(){return Bt()({code:this.code,message:this.message,data:this.data,stack:this.stack})}}]),r}((0,k.Z)(Error)),Ht=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(n,i){n||i.error?t(n||i.error):!r||Array.isArray(i)?e(i):e(i.result)}};function Vt(){var e={};var t=new Ft;var r=new Rt.Duplex({objectMode:!0,read:function(){return!1},write:function(r,n,i){var o;try{!r.id?function(e){t.emit("notification",e)}(r):function(t){var r=e[t.id];if(!r)throw new Error('StreamMiddleware - Unknown response id "'.concat(t.id,'"'));delete e[t.id],Object.assign(r.res,t),setTimeout(r.end)}(r)}catch(a){o=a}i(o)}});return{events:t,middleware:function(t,n,i,o){r.push(t),e[t.id]={req:t,res:n,next:i,end:o}},stream:r}}function Yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $t=function(e){(0,u.Z)(r,e);var t=(0,y.Z)(r);function r(){var e;return(0,i.Z)(this,r),e=t.call(this),v((0,a.Z)(e),"_middleware",void 0),e._middleware=[],e}return(0,o.Z)(r,[{key:"push",value:function(e){this._middleware.push(e)}},{key:"handle",value:function(e,t){if(t&&"function"!==typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}},{key:"asMiddleware",value:function(){var e=this;return function(){var t=(0,n.Z)((0,g.Z)().mark((function t(i,o,a,s){var u,c,l,d,h;return(0,g.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r._runAllMiddleware(i,o,e._middleware);case 3:if(u=t.sent,c=(0,m.Z)(u,3),l=c[0],d=c[1],h=c[2],!d){t.next=12;break}return t.next=11,r._runReturnHandlers(h);case 11:return t.abrupt("return",s(l));case 12:return t.abrupt("return",a(function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t){return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r._runReturnHandlers(h);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",t(e.t0));case 8:return e.abrupt("return",t());case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()));case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",s(t.t0));case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,r,n,i){return t.apply(this,arguments)}}()}},{key:"_handleBatch",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t,r){var n;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(t.map(this._promiseHandle.bind(this)));case 3:if(n=e.sent,!r){e.next=6;break}return e.abrupt("return",r(null,n));case 6:return e.abrupt("return",n);case 9:if(e.prev=9,e.t0=e.catch(0),!r){e.next=13;break}return e.abrupt("return",r(e.t0));case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_promiseHandle",value:function(e){var t=this;return new Promise((function(r){t._handle(e,(function(e,t){r(t)}))}))}},{key:"_handle",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t,r){var n,i,o,a,s;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&!Array.isArray(t)&&"object"===typeof t){e.next=3;break}return n=new Xt({code:-32603,message:"request must be plain object"}),e.abrupt("return",r(n,{id:void 0,jsonrpc:"2.0",error:n}));case 3:if("string"===typeof t.method){e.next=6;break}return i=new Xt({code:-32603,message:"method must be string"}),e.abrupt("return",r(i,{id:t.id,jsonrpc:"2.0",error:i}));case 6:return o=Qt({},t),a={id:o.id,jsonrpc:o.jsonrpc},s=null,e.prev=9,e.next=12,this._processRequest(o,a);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),s=e.t0;case 17:return s&&(delete a.result,a.error||(a.error=(0,Ct.serializeError)(s))),e.abrupt("return",r(s,a));case 19:case"end":return e.stop()}}),e,this,[[9,14]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_processRequest",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t,n){var i,o,a,s,u;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._runAllMiddleware(t,n,this._middleware);case 2:return i=e.sent,o=(0,m.Z)(i,3),a=o[0],s=o[1],u=o[2],r._checkForCompletion(t,n,s),e.next=10,r._runReturnHandlers(u);case 10:if(!a){e.next=12;break}throw a;case 12:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}],[{key:"_runAllMiddleware",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t,n,i){var o,a,s,u,c,l,d,h;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=[],a=null,s=!1,u=(0,p.Z)(i),e.prev=4,u.s();case 6:if((c=u.n()).done){e.next=18;break}return l=c.value,e.next=10,r._runMiddleware(t,n,l,o);case 10:if(d=e.sent,h=(0,m.Z)(d,2),a=h[0],!(s=h[1])){e.next=16;break}return e.abrupt("break",18);case 16:e.next=6;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),u.e(e.t0);case 23:return e.prev=23,u.f(),e.finish(23);case 26:return e.abrupt("return",[a,s,o.reverse()]);case 27:case"end":return e.stop()}}),e,null,[[4,20,23,26]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_runMiddleware",value:function(e,t,r,n){return new Promise((function(i){var o=function(e){var r=e||t.error;r&&(t.error=(0,Ct.serializeError)(r)),i([r,!0])};try{r(e,t,(function(e){t.error?o(t.error):(e&&("function"!==typeof e&&o(new Xt({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),n.push(e)),i([null,!1]))}),o)}catch(a){o(a)}}))}},{key:"_runReturnHandlers",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t){var r,n,i;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,p.Z)(t),e.prev=1,i=(0,g.Z)().mark((function e(){var t;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.value,e.next=3,new Promise((function(e,r){t((function(t){return t?r(t):e()}))}));case 3:case"end":return e.stop()}}),e)})),r.s();case 4:if((n=r.n()).done){e.next=8;break}return e.delegateYield(i(),"t0",6);case 6:e.next=4;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),r.e(e.t1);case 13:return e.prev=13,r.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_checkForCompletion",value:function(e,t,r){if(!("result"in t)&&!("error"in t))throw new Xt({code:-32603,message:"Response has no error or result for request"});if(!r)throw new Xt({code:-32603,message:"Nothing ended request"})}}]),r}(Ft);var er=function(e){(0,u.Z)(r,e);var t=(0,y.Z)(r);function r(e){var n;(0,i.Z)(this,r);var o=e.parent,s=e.name;return n=t.call(this,{objectMode:!0}),v((0,a.Z)(n),"_parent",void 0),v((0,a.Z)(n),"_name",void 0),n._parent=o,n._name=s,n}return(0,o.Z)(r,[{key:"_read",value:function(){}},{key:"_write",value:function(e,t,r){this._parent.push({name:this._name,data:e}),r()}}]),r}(Rt.Duplex);function tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var nr=Symbol("IGNORE_SUBSTREAM"),ir=function(e){(0,u.Z)(r,e);var t=(0,y.Z)(r);function r(){var e;(0,i.Z)(this,r);var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=t.call(this,rr(rr({},n),{},{objectMode:!0})),v((0,a.Z)(e),"_substreams",void 0),v((0,a.Z)(e),"getStream",void 0),e._substreams={},e}return(0,o.Z)(r,[{key:"createStream",value:function(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error('ObjectMultiplex - Substream for name "'.concat(e,'" already exists'));var t=new er({parent:this,name:e});return this._substreams[e]=t,function(e,t){var r=zt()(t);jt()(e,{readable:!1},r),jt()(e,{writable:!1},r)}(this,(function(e){return t.destroy(e||void 0)})),t}},{key:"ignoreStream",value:function(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error('ObjectMultiplex - Substream for name "'.concat(e,'" already exists'));this._substreams[e]=nr}},{key:"_read",value:function(){}},{key:"_write",value:function(e,t,r){var n=e.name,i=e.data;if(!n)return window.console.warn('ObjectMultiplex - malformed chunk without name "'.concat(e,'"')),r();var o=this._substreams[n];return o?(o!==nr&&o.push(i),r()):(window.console.warn('ObjectMultiplex - orphaned data for stream "'.concat(n,'"')),r())}}]),r}(Rt.Duplex);var or=r(71222),ar=r(31646),sr=r.n(ar),ur=r(57471),cr=r.n(ur),lr=r(17830).lW,dr="0.3.2",hr={disconnected:function(){return"Torus: Lost connection to Torus."},permanentlyDisconnected:function(){return"Torus: Disconnected from iframe. Page reload required."},unsupportedSync:function(e){return"Torus: The Torus Ethereum provider does not support synchronous methods like ".concat(e," without a callback parameter.")},invalidDuplexStream:function(){return"Must provide a Node.js-style duplex stream."},invalidOptions:function(e){return"Invalid options. Received: { maxEventListeners: ".concat(e,"}")},invalidRequestArgs:function(){return"Expected a single, non-array, object argument."},invalidRequestMethod:function(){return"'args.method' must be a non-empty string."},invalidRequestParams:function(){return"'args.params' must be an object or array if provided."},invalidLoggerObject:function(){return"'args.logger' must be an object if provided."},invalidLoggerMethod:function(e){return"'args.logger' must include required method '".concat(e,"'.")}},fr={connected:function(e){return'Torus: Connected to chain with ID "'.concat(e,'".')}},pr="production",yr="bottom-left",gr="top-left",vr="bottom-right",mr="top-right",br={supportedVerifierList:["google","reddit","discord"],api:"https://api.tor.us",translations:{en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies ben\xf6tigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"\u7d99\u7d9a\u3059\u308b",actionRequired:"\u8a8d\u8a3c\u304c\u5fc5\u8981\u3067\u3059",pendingAction:"\u7d9a\u884c\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u7d9a\u884c\u3057\u307e\u3059",cookiesRequired:"\u5fc5\u8981\u306a\u30af\u30c3\u30ad\u30fc",enableCookies:"Torus\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u8a2d\u5b9a\u3067Cookie\u3092\u6709\u52b9\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",clickHere:"\u8a73\u3057\u304f\u306f"}},ko:{embed:{continue:"\uacc4\uc18d\ud558\ub2e4",actionRequired:"\uc2b9\uc778 \ud544\uc694",pendingAction:"\ud31d\uc5c5\uc5d0\uc11c \uc694\uccad\uc744 \uc9c4\ud589\ud558\ub824\uba74 \uacc4\uc18d\uc744 \ud074\ub9ad\ud558\uc2ed\uc2dc\uc624.",cookiesRequired:"\ucfe0\ud0a4 \ud544\uc694",enableCookies:"\ube0c\ub77c\uc6b0\uc800 \ud658\uacbd \uc124\uc815\uc5d0\uc11c \ucfe0\ud0a4\ub97c \ud65c\uc131\ud654\ud558\uc5ec Torus\uc5d0 \uc561\uc138\uc2a4\ud558\uc2ed\uc2dc\uc624.",clickHere:"\ub354 \ub9ce\uc740 \uc815\ubcf4"}},zh:{embed:{continue:"\u7ee7\u7eed",actionRequired:"\u9700\u8981\u6388\u6743",pendingAction:"\u5355\u51fb\u7ee7\u7eed\u4ee5\u5728\u5f39\u51fa\u7a97\u53e3\u4e2d\u7ee7\u7eed\u60a8\u7684\u8bf7\u6c42",cookiesRequired:"\u5fc5\u586bCookie",enableCookies:"\u8bf7\u5728\u60a8\u7684\u6d4f\u89c8\u5668\u9996\u9009\u9879\u4e2d\u542f\u7528cookie\u4ee5\u8bbf\u95eeTorus\u3002",clickHere:"\u66f4\u591a\u4fe1\u606f"}}},prodTorusUrl:"",localStorageKey:"torus-".concat(window.location.hostname)},wr=sr().getLogger("solana-embed");var kr=function(){return Math.random().toString(36).slice(2)},Ir=function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t){var r,n;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="testing"===e.t0?3:"development"===e.t0?6:9;break;case 3:return r="https://solana-testing.tor.us",n="debug",e.abrupt("break",12);case 6:return r="http://localhost:8080",n="debug",e.abrupt("break",12);case 9:return r="https://solana.tor.us",n="error",e.abrupt("break",12);case 12:return e.abrupt("return",{torusUrl:r,logLevel:n});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_r={height:660,width:375},xr={height:740,width:1315},Sr={height:700,width:1200},Ar={height:600,width:400};function Er(e){var t=e.width,r=e.height,n=void 0!==window.screenLeft?window.screenLeft:window.screenX,i=void 0!==window.screenTop?window.screenTop:window.screenY,o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,s=Math.abs((o-t)/2/1+n),u=Math.abs((a-r)/2/1+i);return"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=".concat(r/1,",width=").concat(t/1,",top=").concat(u,",left=").concat(s)}var Pr=function(e){(0,u.Z)(r,e);var t=(0,y.Z)(r);function r(e,n){var o;(0,i.Z)(this,r);var s=n.maxEventListeners,u=void 0===s?100:s,c=n.jsonRpcStreamName,l=void 0===c?"provider":c;if(o=t.call(this),v((0,a.Z)(o),"isTorus",void 0),v((0,a.Z)(o),"_rpcEngine",void 0),v((0,a.Z)(o),"jsonRpcConnectionEvents",void 0),v((0,a.Z)(o),"_state",void 0),!(0,or.duplex)(e))throw new Error(hr.invalidDuplexStream());o.isTorus=!0,o.setMaxListeners(u),o._handleConnect=o._handleConnect.bind((0,a.Z)(o)),o._handleDisconnect=o._handleDisconnect.bind((0,a.Z)(o)),o._handleStreamDisconnect=o._handleStreamDisconnect.bind((0,a.Z)(o)),o._rpcRequest=o._rpcRequest.bind((0,a.Z)(o)),o._initializeState=o._initializeState.bind((0,a.Z)(o)),o.request=o.request.bind((0,a.Z)(o)),o.sendAsync=o.sendAsync.bind((0,a.Z)(o));var d=new ir;Dt()(e,d,e,o._handleStreamDisconnect.bind((0,a.Z)(o),"Torus")),d.ignoreStream("phishing");var h=Vt();Dt()(h.stream,d.createStream(l),h.stream,o._handleStreamDisconnect.bind((0,a.Z)(o),"Torus RpcProvider"));var f=new $t;return f.push((function(e,t,r,n){var i=e.id,o=(0,Tt.kb)();e.id=o,t.id=o,r((function(r){e.id=i,t.id=i,r()}))})),f.push((function(e,t,r){"string"===typeof e.method&&e.method||(t.error=Ct.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:e})),r((function(e){var r=t.error;return r?(wr.error("Torus - RPC Error: ".concat(r.message),r),e()):e()}))})),f.push((0,Pt.yh)({origin:location.origin})),f.push(h.middleware),o._rpcEngine=f,o.jsonRpcConnectionEvents=h.events,o}return(0,o.Z)(r,[{key:"request",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t){var r,n,i=this;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"object"===typeof t&&!Array.isArray(t)){e.next=2;break}throw Ct.ethErrors.rpc.invalidRequest({message:hr.invalidRequestArgs(),data:t});case 2:if(r=t.method,n=t.params,"string"===typeof r&&0!==r.length){e.next=5;break}throw Ct.ethErrors.rpc.invalidRequest({message:hr.invalidRequestMethod(),data:t});case 5:if(void 0===n||Array.isArray(n)||"object"===typeof n&&null!==n){e.next=7;break}throw Ct.ethErrors.rpc.invalidRequest({message:hr.invalidRequestParams(),data:t});case 7:return e.abrupt("return",new Promise((function(e,t){i._rpcRequest({method:r,params:n},Ht(e,t))})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"send",value:function(e,t){this._rpcRequest(e,t)}},{key:"sendAsync",value:function(e){var t=this;return new Promise((function(r,n){t._rpcRequest(e,Ht(r,n))}))}},{key:"_handleStreamDisconnect",value:function(e,t){!function(e,t,r){var n='Torus: Lost connection to "'.concat(e,'".');null!==t&&void 0!==t&&t.stack&&(n+="\n".concat(t.stack)),wr.warn(n),r&&r.listenerCount("error")>0&&r.emit("error",n)}(e,t,this),this._handleDisconnect(!1,t?t.message:void 0)}}]),r}(Ft),Zr=function(e,t,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];var a=function n(){r.apply(void 0,i),e.removeEventListener(t,n)};e.addEventListener(t,a)};function Rr(){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,n.Z)((0,g.Z)().mark((function e(){return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){"loading"!==document.readyState?e():Zr(document,"DOMContentLoaded",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Or=function(e){var t=window.document.createElement("template"),r=e.trim();return t.innerHTML=r,t.content.firstChild},Wr=function(e){(0,u.Z)(r,e);var t=(0,y.Z)(r);function r(e){var n;(0,i.Z)(this,r);var o=e.url,s=e.target,u=e.features;return n=t.call(this),v((0,a.Z)(n),"url",void 0),v((0,a.Z)(n),"target",void 0),v((0,a.Z)(n),"features",void 0),v((0,a.Z)(n),"window",void 0),v((0,a.Z)(n),"windowTimer",void 0),v((0,a.Z)(n),"iClosedWindow",void 0),n.url=o,n.target=s||"_blank",n.features=u||Er(Sr),n.window=void 0,n.windowTimer=void 0,n.iClosedWindow=!1,n._setupTimer(),n}return(0,o.Z)(r,[{key:"_setupTimer",value:function(){var e=this;this.windowTimer=Number(setInterval((function(){e.window&&e.window.closed&&(clearInterval(e.windowTimer),e.iClosedWindow||e.emit("close"),e.iClosedWindow=!1,e.window=void 0),void 0===e.window&&clearInterval(e.windowTimer)}),500))}},{key:"open",value:function(){var e;return this.window=window.open(this.url.href,this.target,this.features),null!==(e=this.window)&&void 0!==e&&e.focus&&this.window.focus(),Promise.resolve()}},{key:"close",value:function(){this.iClosedWindow=!0,this.window&&this.window.close()}},{key:"redirect",value:function(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}]),r}(Ft);function Br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Cr=function(e){(0,u.Z)(r,e);var t=(0,y.Z)(r);function r(e,n){var o;(0,i.Z)(this,r);var s=n.maxEventListeners,u=void 0===s?100:s,c=n.jsonRpcStreamName,l=void 0===c?"provider":c;o=t.call(this,e,{maxEventListeners:u,jsonRpcStreamName:l}),v((0,a.Z)(o),"embedTranslations",void 0),v((0,a.Z)(o),"torusUrl",void 0),v((0,a.Z)(o),"dappStorageKey",void 0),v((0,a.Z)(o),"windowRefs",void 0),v((0,a.Z)(o),"tryWindowHandle",void 0),v((0,a.Z)(o),"torusAlertContainer",void 0),v((0,a.Z)(o),"torusIframe",void 0),o._state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Br(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r._defaultState),o.torusUrl="",o.dappStorageKey="";var d=br.translations[function(){var e=window.navigator.language||"en-US",t=e.split("-");return Object.prototype.hasOwnProperty.call(br.translations,t[0])?t[0]:"en"}()];o.embedTranslations=d.embed,o.windowRefs={},o.on("connect",(function(){o._state.isConnected=!0}));return o.jsonRpcConnectionEvents.on("notification",(function(e){var t=e.method,r=e.params;if(t===Pt.Nb.IFRAME_STATUS){var n=r.isFullScreen,i=r.rid;o._displayIframe({isFull:n,rid:i})}else if(t===Pt.Nb.CREATE_WINDOW){var a=r.windowId,s=r.url;o._createPopupBlockAlert(a,s)}else if(t===Pt.Nb.CLOSE_WINDOW)o._handleCloseWindow(r);else if(t===Pt.Nb.USER_LOGGED_IN){var u=r.currentLoginProvider;o._state.isLoggedIn=!0,o._state.currentLoginProvider=u}else t===Pt.Nb.USER_LOGGED_OUT&&(o._state.isLoggedIn=!1,o._state.currentLoginProvider=null,o._displayIframe())})),o}return(0,o.Z)(r,[{key:"isLoggedIn",get:function(){return this._state.isLoggedIn}},{key:"isIFrameFullScreen",get:function(){return this._state.isIFrameFullScreen}},{key:"isConnected",value:function(){return this._state.isConnected}},{key:"_initializeState",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t){var r,n,i,o,a,s,u,c=this;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.torusUrl,n=t.dappStorageKey,i=t.torusAlertContainer,o=t.torusIframe,this.torusUrl=r,this.dappStorageKey=n,this.torusAlertContainer=i,this.torusIframe=o,this.torusIframe.addEventListener("load",(function(){c._state.isIFrameFullScreen||c._displayIframe()})),e.next=9,this.request({method:Pt.vU.GET_PROVIDER_STATE,params:[]});case 9:a=e.sent,s=a.currentLoginProvider,u=a.isLoggedIn,this._handleConnect(s,u),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),wr.error("Torus: Failed to get initial state. Please report this bug.",e.t0);case 18:return e.prev=18,wr.info("initialized communication state"),this._state.initialized=!0,this.emit("_initialized"),e.finish(18);case 23:case"end":return e.stop()}}),e,this,[[0,15,18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_handleWindow",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.url,i=r.target,o=r.features,a=new URL(n||"".concat(this.torusUrl,"/redirect?windowId=").concat(e));this.dappStorageKey&&(a.hash?a.hash+="&dappStorageKey=".concat(this.dappStorageKey):a.hash="#dappStorageKey=".concat(this.dappStorageKey));var s=new Wr({url:a,target:i,features:o});s.open(),s.window?(this.windowRefs[e]=s,this.request({method:Pt.vU.OPENED_WINDOW,params:{windowId:e}}),s.once("close",(function(){delete t.windowRefs[e],t.request({method:Pt.vU.CLOSED_WINDOW,params:{windowId:e}})}))):this._createPopupBlockAlert(e,a.href)}},{key:"_displayIframe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isFull,r=void 0!==t&&t,n=e.rid,i=void 0===n?"":n,o={};if(r)o.display="block",o.width="100%",o.height="100%",o.top="0px",o.right="0px",o.left="0px",o.bottom="0px";else switch(o.display=this._state.torusWidgetVisibility?"block":"none",o.height="70px",o.width="70px",this._state.buttonPosition){case gr:o.top="0px",o.left="0px",o.right="auto",o.bottom="auto";break;case mr:o.top="0px",o.right="0px",o.left="auto",o.bottom="auto";break;case vr:o.bottom="0px",o.right="0px",o.top="auto",o.left="auto";break;default:o.bottom="0px",o.left="0px",o.top="auto",o.right="auto"}Object.assign(this.torusIframe.style,o),this._state.isIFrameFullScreen=r,this.request({method:Pt.vU.IFRAME_STATUS,params:{isIFrameFullScreen:r,rid:i}})}},{key:"hideTorusButton",value:function(){this._state.torusWidgetVisibility=!1,this._displayIframe()}},{key:"showTorusButton",value:function(){this._state.torusWidgetVisibility=!0,this._displayIframe()}},{key:"_rpcRequest",value:function(e,t){var r=t,n=e;Array.isArray(n)||n.jsonrpc||(n.jsonrpc="2.0"),this.tryWindowHandle(n,r)}},{key:"_handleConnect",value:function(e,t){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{currentLoginProvider:e,isLoggedIn:t}),wr.debug(fr.connected(e)))}},{key:"_handleDisconnect",value:function(e,t){var r;(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e)&&(this._state.isConnected=!1,e?(r=new Ct.EthereumRpcError(1013,t||hr.disconnected()),wr.debug(r)):(r=new Ct.EthereumRpcError(1011,t||hr.permanentlyDisconnected()),wr.error(r),this._state.currentLoginProvider=null,this._state.isLoggedIn=!1,this._state.torusWidgetVisibility=!1,this._state.isIFrameFullScreen=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r))}},{key:"_handleCloseWindow",value:function(e){var t=e.windowId;this.windowRefs[t]&&(this.windowRefs[t].close(),delete this.windowRefs[t])}},{key:"_createPopupBlockAlert",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t,r){var n,i,o,a,s,u,c=this;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getLogoUrl(),i=Or('<div id="torusAlert" class="torus-alert--v2">'+'<div id="torusAlert__logo"><img src="'.concat(n,'" /></div>')+"<div>"+'<h1 id="torusAlert__title">'.concat(this.embedTranslations.actionRequired,"</h1>")+'<p id="torusAlert__desc">'.concat(this.embedTranslations.pendingAction,"</p>")+"</div></div>"),o=Or('<div><a id="torusAlert__btn">'.concat(this.embedTranslations.continue,"</a></div>")),(a=Or('<div id="torusAlert__btn-container"></div>')).appendChild(o),i.appendChild(a),s=function(){o.addEventListener("click",(function(){c._handleWindow(t,{url:r,target:"_blank",features:Er(Ar)}),i.remove(),0===c.torusAlertContainer.children.length&&(c.torusAlertContainer.style.display="none")}))},u=function(){c.torusAlertContainer.appendChild(i)},e.next=10,Rr();case 10:u(),s(),this.torusAlertContainer.style.display="block";case 13:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getLogoUrl",value:function(){return"".concat(this.torusUrl,"/images/torus_icon-blue.svg")}}]),r}(Pr);function Ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}v(Cr,"_defaultState",{buttonPosition:"bottom-left",currentLoginProvider:null,isIFrameFullScreen:!1,hasEmittedConnection:!1,torusWidgetVisibility:!1,initialized:!1,isLoggedIn:!1,isPermanentlyDisconnected:!1,isConnected:!1});var jr=function(e){(0,u.Z)(r,e);var t=(0,y.Z)(r);function r(e,n){var o;(0,i.Z)(this,r);var s=n.maxEventListeners,u=void 0===s?100:s,c=n.jsonRpcStreamName,l=void 0===c?"provider":c;o=t.call(this,e,{maxEventListeners:u,jsonRpcStreamName:l}),v((0,a.Z)(o),"chainId",void 0),v((0,a.Z)(o),"selectedAddress",void 0),v((0,a.Z)(o),"tryWindowHandle",void 0),o._state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r._defaultState),o.selectedAddress=null,o.chainId=null,o._handleAccountsChanged=o._handleAccountsChanged.bind((0,a.Z)(o)),o._handleChainChanged=o._handleChainChanged.bind((0,a.Z)(o)),o._handleUnlockStateChanged=o._handleUnlockStateChanged.bind((0,a.Z)(o)),o.on("connect",(function(){o._state.isConnected=!0}));return o.jsonRpcConnectionEvents.on("notification",(function(e){var t=e.method,r=e.params;t===Pt.zK.ACCOUNTS_CHANGED?o._handleAccountsChanged(r):t===Pt.zK.UNLOCK_STATE_CHANGED?o._handleUnlockStateChanged(r):t===Pt.zK.CHAIN_CHANGED&&o._handleChainChanged(r)})),o}return(0,o.Z)(r,[{key:"isConnected",value:function(){return this._state.isConnected}},{key:"_initializeState",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(){var t,r,n,i;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.request({method:Pt.GA.GET_PROVIDER_STATE,params:[]});case 3:t=e.sent,r=t.accounts,n=t.chainId,i=t.isUnlocked,this.emit("connect",{chainId:n}),this._handleChainChanged({chainId:n}),this._handleUnlockStateChanged({accounts:r,isUnlocked:i}),this._handleAccountsChanged(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),wr.error("Torus: Failed to get initial state. Please report this bug.",e.t0);case 16:return e.prev=16,wr.info("initialized provider state"),this._state.initialized=!0,this.emit("_initialized"),e.finish(16);case 21:case"end":return e.stop()}}),e,this,[[0,13,16,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"_rpcRequest",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t,o=e;if(!Array.isArray(o))if(o.jsonrpc||(o.jsonrpc="2.0"),"solana_accounts"===o.method||"solana_requestAccounts"===o.method)i=function(e,i){r._handleAccountsChanged(i.result||[],"solana_accounts"===o.method,n),t(e,i)};else if("wallet_getProviderState"===o.method)return void this._rpcEngine.handle(e,i);this.tryWindowHandle(o,i)}},{key:"_handleConnect",value:function(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),wr.debug(fr.connected(e)))}},{key:"_handleDisconnect",value:function(e,t){var r;(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e)&&(this._state.isConnected=!1,e?(r=new Ct.EthereumRpcError(1013,t||hr.disconnected()),wr.debug(r)):(r=new Ct.EthereumRpcError(1011,t||hr.permanentlyDisconnected()),wr.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r))}},{key:"_handleAccountsChanged",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e;Array.isArray(n)||(wr.error("Torus: Received non-array accounts parameter. Please report this bug.",n),n=[]);var i,o=(0,p.Z)(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;if("string"!==typeof a){wr.error("Torus: Received non-string account. Please report this bug.",e),n=[];break}}}catch(s){o.e(s)}finally{o.f()}cr()(this._state.accounts,n)||(t&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!r&&wr.error('Torus: "solana_accounts" unexpectedly updated accounts. Please report this bug.',n),this._state.accounts=n,this.emit("accountsChanged",n)),this.selectedAddress!==n[0]&&(this.selectedAddress=n[0]||null)}},{key:"_handleChainChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chainId;t?"loading"===t?this._handleDisconnect(!0):(this._handleConnect(t),t!==this.chainId&&(this.chainId=t,this._state.initialized&&this.emit("chainChanged",this.chainId))):wr.error("Torus: Received invalid network parameters. Please report this bug.",{chainId:t})}},{key:"_handleUnlockStateChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accounts,r=e.isUnlocked;"boolean"===typeof r?r!==this._state.isUnlocked&&(this._state.isUnlocked=r,this._handleAccountsChanged(t||[])):wr.error("Torus: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:r})}}]),r}(Pr);function Lr(e){return new Promise((function(t,r){try{var n=document.createElement("img");n.onload=function(){return t(!0)},n.onerror=function(){return t(!1)},n.src=e}catch(i){r(i)}}))}v(jr,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});var zr=function(e){var t=e.document,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;var n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:e.location.hostname};function qr(e){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,n.Z)((0,g.Z)().mark((function e(t){var r,n;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=t.document,n=r.querySelector('head > link[rel="shortcut icon"]'),e.t0=n,!e.t0){e.next=8;break}return e.next=7,Lr(n.href);case 7:e.t0=e.sent;case 8:if(!e.t0){e.next=10;break}return e.abrupt("return",n.href);case 10:if(n=Array.from(r.querySelectorAll('head > link[rel="icon"]')).find((function(e){return Boolean(e.href)})),e.t1=n,!e.t1){e.next=16;break}return e.next=15,Lr(n.href);case 15:e.t1=e.sent;case 16:if(!e.t1){e.next=18;break}return e.abrupt("return",n.href);case 18:return e.abrupt("return","");case 21:return e.prev=21,e.t2=e.catch(0),e.abrupt("return","");case 24:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}var Nr=function(){var e=(0,n.Z)((0,g.Z)().mark((function e(){return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=zr(window),e.next=3,qr(window);case 3:return e.t1=e.sent,e.abrupt("return",{name:e.t0,icon:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Kr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Gr=["send_transaction","sign_transaction","sign_all_transactions","sign_message","connect"],Jr=[Pt.vU.SET_PROVIDER],Fr=function(e){var t;try{t=window[e];var r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(n){return n&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&t&&0!==t.length}}("localStorage");!function(){var e=(0,n.Z)((0,g.Z)().mark((function e(){var t,r,n;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"undefined"!==typeof document){e.next=3;break}return e.abrupt("return");case 3:return t=document.createElement("link"),e.next=6,Ir("production");case 6:r=e.sent,n=r.torusUrl,t.href="".concat(n,"/frame"),t.crossOrigin="anonymous",t.type="text/html",t.rel="prefetch",t.relList&&t.relList.supports&&t.relList.supports("prefetch")&&document.head.appendChild(t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),wr.warn(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}()();var Xr=function(){function e(){(0,i.Z)(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.modalZIndex,n=void 0===r?99999:r;v(this,"isInitialized",void 0),v(this,"torusAlert",void 0),v(this,"modalZIndex",void 0),v(this,"alertZIndex",void 0),v(this,"requestedLoginProvider",void 0),v(this,"provider",void 0),v(this,"communicationProvider",void 0),v(this,"dappStorageKey",void 0),v(this,"isTopupHidden",!1),v(this,"torusAlertContainer",void 0),v(this,"torusUrl",void 0),v(this,"torusIframe",void 0),v(this,"styleLink",void 0),this.torusUrl="",this.isInitialized=!1,this.requestedLoginProvider=null,this.modalZIndex=n,this.alertZIndex=n+1e3,this.dappStorageKey=""}return(0,o.Z)(e,[{key:"isLoggedIn",get:function(){return!!this.communicationProvider&&this.communicationProvider.isLoggedIn}},{key:"init",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(){var t,r,i,o,a,s,u,c,l,d,h,f,p,y,v,m,b,w,k,I,_,x,S,A,E=this,P=arguments;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=P.length>0&&void 0!==P[0]?P[0]:{},r=t.buildEnv,i=void 0===r?pr:r,o=t.enableLogging,a=void 0!==o&&o,s=t.network,u=t.showTorusButton,c=void 0!==u&&u,l=t.useLocalStorage,d=void 0!==l&&l,h=t.buttonPosition,f=void 0===h?yr:h,p=t.apiKey,y=void 0===p?"torus-default":p,v=t.extraParams,m=void 0===v?{}:v,b=t.whiteLabel,!this.isInitialized){e.next=3;break}throw new Error("Already initialized");case 3:return(0,Zt.ut)(y),e.next=6,Ir(i);case 6:return w=e.sent,k=w.torusUrl,I=w.logLevel,wr.enableAll(),wr.info(k,"url loaded"),wr.info("Solana Embed Version :".concat(dr)),this.torusUrl=k,wr.setDefaultLevel(I),a?wr.enableAll():wr.disableAll(),_=this.handleDappStorageKey(d),(x=new URL(k)).pathname.endsWith("/")?x.pathname+="frame":x.pathname+="/frame",S=new URLSearchParams,_&&S.append("dappStorageKey",_),S.append("origin",window.location.origin),x.hash=S.toString(),this.torusIframe=Or('<iframe\n        id="torusIframe"\n        class="torusIframe"\n        src="'.concat(x.href,'"\n        style="display: none; position: fixed; top: 0; right: 0; width: 100%;\n        height: 100%; border: none; border-radius: 0; z-index: ').concat(this.modalZIndex.toString(),'"\n      ></iframe>')),this.torusAlertContainer=Or('<div id="torusAlertContainer" style="display:none; z-index: '.concat(this.alertZIndex.toString(),'"></div>')),this.styleLink=Or('<link href="'.concat(k,'/css/widget.css" rel="stylesheet" type="text/css">')),A=function(){var e=(0,n.Z)((0,g.Z)().mark((function e(){return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){try{window.document.head.appendChild(E.styleLink),window.document.body.appendChild(E.torusIframe),window.document.body.appendChild(E.torusAlertContainer),E.torusIframe.addEventListener("load",(0,n.Z)((0,g.Z)().mark((function t(){var r;return(0,g.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nr();case 2:return r=t.sent,E.torusIframe.contentWindow.postMessage({buttonPosition:f,apiKey:y,network:s,dappMetadata:r,extraParams:m,whiteLabel:b},x.origin),t.next=6,E._setupWeb3({torusUrl:k});case 6:c&&E.showTorusButton(),null!==b&&void 0!==b&&b.topupHide?E.isTopupHidden=b.topupHide:E.hideTorusButton(),E.isInitialized=!0,window.torus=E,e();case 11:case"end":return t.stop()}}),t)}))))}catch(r){t(r)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=28,Rr();case 28:return e.next=30,A();case 30:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(){var t,r,n=this,i=arguments;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},this.isInitialized){e.next=3;break}throw new Error("Call init() first");case 3:return e.prev=3,this.requestedLoginProvider=t.loginProvider||null,this.requestedLoginProvider||this.communicationProvider._displayIframe({isFull:!0}),e.next=8,new Promise((function(e,r){n.provider._rpcRequest({method:"solana_requestAccounts",params:[n.requestedLoginProvider,t.login_hint]},Ht(e,r))}));case 8:if(r=e.sent,!(Array.isArray(r)&&r.length>0)){e.next=11;break}return e.abrupt("return",r);case 11:throw new Error("Login failed");case 14:throw e.prev=14,e.t0=e.catch(3),wr.error("login failed",e.t0),e.t0;case 18:return e.prev=18,this.communicationProvider.isIFrameFullScreen&&this.communicationProvider._displayIframe(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,14,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"loginWithPrivateKey",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t){var r,n,i;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}throw new Error("Call init() first");case 2:return r=t.privateKey,n=t.userInfo,e.next=5,this.communicationProvider.request({method:"login_with_private_key",params:{privateKey:r,userInfo:n}});case 5:if(i=e.sent,i.success){e.next=9;break}throw new Error("Login Failed");case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(){return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.communicationProvider.isLoggedIn){e.next=2;break}throw new Error("Not logged in");case 2:return e.next=4,this.communicationProvider.request({method:Pt.vU.LOGOUT,params:[]});case 4:this.requestedLoginProvider=null;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(){return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.communicationProvider.isLoggedIn){e.next=3;break}return e.next=3,this.logout();case 3:this.clearInit();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearInit",value:function(){function e(e){return e instanceof Element||e instanceof Document}e(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),e(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),e(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}},{key:"hideTorusButton",value:function(){this.communicationProvider.hideTorusButton()}},{key:"showTorusButton",value:function(){this.communicationProvider.showTorusButton()}},{key:"setProvider",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t){return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.communicationProvider.request({method:Pt.vU.SET_PROVIDER,params:Mr({},t)});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showWallet",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t){var r,n,i,o,a=arguments;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.communicationProvider.request({method:Pt.vU.WALLET_INSTANCE_ID,params:[]});case 3:n=e.sent,i=t?"/".concat(t):"",(o=new URL("".concat(this.torusUrl,"/wallet").concat(i))).searchParams.append("instanceId",n),Object.keys(r).forEach((function(e){o.searchParams.append(e,r[e])})),this.dappStorageKey&&(o.hash="#dappStorageKey=".concat(this.dappStorageKey)),new Wr({url:o,features:Er(xr)}).open();case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserInfo",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(){var t;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.communicationProvider.request({method:Pt.vU.USER_INFO,params:[]});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initiateTopup",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t,r){var n,i;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}throw new Error("Torus is not initialized");case 2:return n=kr(),this.communicationProvider._handleWindow(n),e.next=6,this.communicationProvider.request({method:Pt.vU.TOPUP,params:{provider:t,params:r,windowId:n}});case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAccounts",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(){var t;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"getAccounts",params:[]});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendTransaction",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t){var r;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"send_transaction",params:{message:t.serialize({requireAllSignatures:!1}).toString("hex")}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signAndSendTransaction",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t,r){var n;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"send_transaction",params:{message:t.serialize({requireAllSignatures:!1}).toString("hex"),options:r}});case 2:return n=e.sent,e.abrupt("return",{signature:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t){var r,n,i;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"sign_transaction",params:{message:t.serializeMessage().toString("hex"),messageOnly:!0}});case 2:return r=e.sent,n=JSON.parse(r),i={publicKey:new F(n.publicKey),signature:lr.from(n.signature,"hex")},t.addSignature(i.publicKey,i.signature),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signAllTransactions",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t){var r,n,i;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.map((function(e){return e.serializeMessage().toString("hex")})),e.next=3,this.provider.request({method:"sign_all_transactions",params:{message:r,messageOnly:!0}});case 3:return n=e.sent,i=n.map((function(e){var t=JSON.parse(e);return{publicKey:new F(t.publicKey),signature:lr.from(t.signature,"hex")}})),t.forEach((function(e,t){return e.addSignature(i[t].publicKey,i[t].signature),e})),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signMessage",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t){var r;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"sign_message",params:{data:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getGaslessPublicKey",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(){var t;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"get_gasless_public_key",params:[]});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleDappStorageKey",value:function(e){var t="";if(Fr&&e){var r=window.localStorage.getItem(br.localStorageKey);if(r)t=r;else{var n="torus-app-".concat(kr());window.localStorage.setItem(br.localStorageKey,n),t=n}}return this.dappStorageKey=t,t}},{key:"_setupWeb3",value:function(){var e=(0,n.Z)((0,g.Z)().mark((function e(t){var r,n,i,o,a,s,u,c=this;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wr.info("setupWeb3 running"),r=new Mt({name:"embed_torus",target:"iframe_torus",targetWindow:this.torusIframe.contentWindow}),n=new Mt({name:"embed_communication",target:"iframe_communication",targetWindow:this.torusIframe.contentWindow}),i=new jr(r,{}),o=new Cr(n,{}),i.tryWindowHandle=function(e,t){var r=e;if(!Array.isArray(r)&&Gr.includes(r.method)){if(!c.communicationProvider.isLoggedIn)throw new Error("User Not Logged In");var n=kr();o._handleWindow(n,{target:"_blank",features:Er(Ar)}),r.windowId=n}i._rpcEngine.handle(r,t)},o.tryWindowHandle=function(e,t){var r=e;if(!Array.isArray(r)&&Jr.includes(r.method)){var n=kr();o._handleWindow(n,{target:"_blank",features:Er(_r)}),r.params.windowId=n}o._rpcEngine.handle(r,t)},(a=function(e){var t=i[e],r=c;i[e]=function(e,n){var i=e.method,o=e.params,a=void 0===o?[]:o;if("solana_requestAccounts"===i){if(!n)return r.login({loginProvider:a[0]});r.login({loginProvider:a[0]}).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))}return t.apply(this,[e,n])}})("request"),a("sendAsync"),a("send"),s=new Proxy(i,{deleteProperty:function(){return!0}}),u=new Proxy(o,{deleteProperty:function(){return!0}}),this.provider=s,this.communicationProvider=u,e.next=17,Promise.all([i._initializeState(),o._initializeState(Mr(Mr({},t),{},{dappStorageKey:this.dappStorageKey,torusAlertContainer:this.torusAlertContainer,torusIframe:this.torusIframe}))]);case 17:wr.debug("Torus - injected provider");case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Hr=r(46622),Vr=r(44879),Yr=r(74607);function Qr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function en(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}var tn=function(e){(0,u.Z)(r,e);var t=en(r);function r(e){var n;return(0,i.Z)(this,r),n=t.call(this,e),(0,d.Z)((0,a.Z)(n),"name",Hr.WALLET_ADAPTERS.TORUS_SOLANA),(0,d.Z)((0,a.Z)(n),"adapterNamespace",Hr.ADAPTER_NAMESPACES.SOLANA),(0,d.Z)((0,a.Z)(n),"currentChainNamespace",Hr.CHAIN_NAMESPACES.SOLANA),(0,d.Z)((0,a.Z)(n),"type",Hr.ADAPTER_CATEGORY.EXTERNAL),(0,d.Z)((0,a.Z)(n),"status",Hr.ADAPTER_STATUS.NOT_READY),(0,d.Z)((0,a.Z)(n),"torusInstance",null),(0,d.Z)((0,a.Z)(n),"torusWalletOptions",void 0),(0,d.Z)((0,a.Z)(n),"initParams",void 0),(0,d.Z)((0,a.Z)(n),"loginSettings",{}),(0,d.Z)((0,a.Z)(n),"solanaProvider",null),(0,d.Z)((0,a.Z)(n),"rehydrated",!1),n.torusWalletOptions=e.adapterSettings||{},n.initParams=e.initParams||{},n.loginSettings=e.loginSettings||{},n.chainConfig=e.chainConfig||null,n.sessionTime=e.sessionTime||86400,n}return(0,o.Z)(r,[{key:"provider",get:function(){var e;return this.status===Hr.ADAPTER_STATUS.CONNECTED&&this.solanaProvider&&(null===(e=this.solanaProvider)||void 0===e?void 0:e.provider)||null},set:function(e){throw new Error("Not implemented")}},{key:"init",value:function(){var e=(0,n.Z)(f().mark((function e(t){var n,i,o,a,u,c,d,h,p,y,g,v,m,b,w;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,s.Z)((0,l.Z)(r.prototype),"checkInitializationRequirements",this).call(this),this.chainConfig?(p=this.chainConfig,y=p.chainId,g=p.blockExplorer,v=p.displayName,m=p.rpcTarget,b=p.ticker,w=p.tickerName,n={chainId:y,rpcTarget:m,blockExplorerUrl:g,displayName:v,tickerName:w,ticker:b,logo:""}):(this.chainConfig=(0,Hr.getChainConfig)(Hr.CHAIN_NAMESPACES.SOLANA,"0x1"),i=this.chainConfig,o=i.blockExplorer,a=i.displayName,u=i.ticker,c=i.tickerName,d=i.rpcTarget,h=i.chainId,n={chainId:h,rpcTarget:d,blockExplorerUrl:o,displayName:a,ticker:u,tickerName:c,logo:""}),this.torusInstance=new Xr(this.torusWalletOptions),Hr.log.debug("initializing torus solana adapter init"),e.next=6,this.torusInstance.init($r($r({showTorusButton:!1},this.initParams),{},{network:n}));case 6:if(this.solanaProvider=new Yr.TorusInjectedProvider({config:{chainConfig:this.chainConfig}}),this.status=Hr.ADAPTER_STATUS.READY,this.emit(Hr.ADAPTER_EVENTS.READY,Hr.WALLET_ADAPTERS.TORUS_SOLANA),e.prev=9,Hr.log.debug("initializing torus solana adapter"),!t.autoConnect){e.next=15;break}return this.rehydrated=!0,e.next=15,this.connect();case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(9),Hr.log.error("Failed to connect with cached torus solana provider",e.t0),this.emit(Hr.ADAPTER_EVENTS.ERRORED,e.t0);case 21:case"end":return e.stop()}}),e,this,[[9,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=(0,n.Z)(f().mark((function e(){var t,n,i,o,a,u,c,d,h;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,s.Z)((0,l.Z)(r.prototype),"checkConnectionRequirements",this).call(this),this.torusInstance){e.next=3;break}throw Hr.WalletInitializationError.notReady("Torus wallet is not initialized");case 3:if(this.solanaProvider){e.next=5;break}throw Hr.WalletInitializationError.notReady("Torus wallet is not initialized");case 5:return this.status=Hr.ADAPTER_STATUS.CONNECTING,this.emit(Hr.ADAPTER_EVENTS.CONNECTING,{adapter:Hr.WALLET_ADAPTERS.TORUS_SOLANA}),e.prev=7,e.next=10,this.torusInstance.login(this.loginSettings);case 10:return e.prev=10,(t=this.torusInstance.provider).sendTransaction=this.torusInstance.sendTransaction.bind(this.torusInstance),t.signAllTransactions=this.torusInstance.signAllTransactions.bind(this.torusInstance),t.signMessage=this.torusInstance.signMessage.bind(this.torusInstance),t.signTransaction=this.torusInstance.signTransaction.bind(this.torusInstance),e.next=18,this.solanaProvider.setupProvider(t);case 18:case 27:e.next=30;break;case 20:if(e.prev=20,e.t0=e.catch(10),!(e.t0 instanceof Hr.Web3AuthError&&5010===e.t0.code)){e.next=29;break}return n=this.chainConfig,i=n.chainId,o=n.blockExplorer,a=n.displayName,u=n.rpcTarget,c=n.ticker,d=n.tickerName,h={chainId:i,rpcTarget:u,blockExplorerUrl:o,displayName:a,tickerName:d,ticker:c,logo:""},e.next=27,this.torusInstance.setProvider(h);case 29:throw e.t0;case 30:return this.status=Hr.ADAPTER_STATUS.CONNECTED,this.torusInstance.showTorusButton(),this.emit(Hr.ADAPTER_STATUS.CONNECTED,{adapter:Hr.WALLET_ADAPTERS.TORUS_SOLANA,reconnected:this.rehydrated}),e.abrupt("return",this.provider);case 36:throw e.prev=36,e.t1=e.catch(7),this.status=Hr.ADAPTER_STATUS.READY,this.rehydrated=!1,this.emit(Hr.ADAPTER_EVENTS.ERRORED,e.t1),Hr.WalletLoginError.connectionError("Failed to login with torus solana wallet");case 42:case"end":return e.stop()}}),e,this,[[7,36],[10,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=(0,n.Z)(f().mark((function e(){var t,n=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{cleanup:!1},this.torusInstance){e.next=3;break}throw Hr.WalletInitializationError.notReady("Torus wallet is not initialized");case 3:return e.next=5,(0,s.Z)((0,l.Z)(r.prototype),"disconnect",this).call(this);case 5:return e.next=7,this.torusInstance.logout();case 7:t.cleanup?(this.status=Hr.ADAPTER_STATUS.NOT_READY,this.torusInstance=null,this.solanaProvider=null):this.status=Hr.ADAPTER_STATUS.READY,this.emit(Hr.ADAPTER_EVENTS.DISCONNECTED);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserInfo",value:function(){var e=(0,n.Z)(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status===Hr.ADAPTER_STATUS.CONNECTED){e.next=2;break}throw Hr.WalletLoginError.notConnectedError("Not connected with wallet");case 2:if(this.torusInstance){e.next=4;break}throw Hr.WalletInitializationError.notReady("Torus wallet is not initialized");case 4:return e.next=6,this.torusInstance.getUserInfo();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setAdapterSettings",value:function(e){this.status!==Hr.ADAPTER_STATUS.READY&&(null!==e&&void 0!==e&&e.sessionTime&&(this.sessionTime=e.sessionTime),null!==e&&void 0!==e&&e.clientId&&(this.clientId=e.clientId))}}]),r}(Vr.v)},57471:function(e){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!==i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!==i--;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}},71222:function(e){"use strict";var t=function(e){return null!==e&&"object"===typeof e&&"function"===typeof e.pipe};t.writable=function(e){return t(e)&&!1!==e.writable&&"function"===typeof e._write&&"object"===typeof e._writableState},t.readable=function(e){return t(e)&&!1!==e.readable&&"function"===typeof e._read&&"object"===typeof e._readableState},t.duplex=function(e){return t.writable(e)&&t.readable(e)},t.transform=function(e){return t.duplex(e)&&"function"===typeof e._transform},e.exports=t}}]);
//# sourceMappingURL=8052.1b732e6d.chunk.js.map