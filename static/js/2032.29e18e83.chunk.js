(self.webpackChunkonboard_notify_react=self.webpackChunkonboard_notify_react||[]).push([[2032],{75367:function(e,t,r){var n;n="undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:{},e.exports=n},22032:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return gt}});var n=function(){function e(t){void 0===t&&(t=e.defaultCreateUrl),this.createURL=void 0,this.createURL=t}return e.defaultCreateUrl=function(e,t){return"https://"+e+".ipns.dweb.link"+t.replace(/^\/?/,"/")},e.prototype.resolve=function(e){try{var t,r,n;if(e.startsWith("/ipfs/")||e.startsWith("/ipns/"))n=e.substring(1,5),t=e.substring(6).split("/")[0],r=e.substring(6+t.length);else{var o=new URL(e);if(""!==o.hash||""!==o.password||""!==o.port||""!==o.search||""!==o.username)throw new Error("invalid ipfs uri");n=o.protocol.substring(0,4),t=o.hostname,r=o.pathname}if("ipfs"!==n)throw new Error("only ipfs is supported, (not ipns)");return Promise.resolve(fetch(this.createURL(t,r)).then((function(e){return e.ok?e.text():Promise.reject(new Error("bad response"))})))}catch(e){return Promise.reject(e)}},e}(),o=function(){function e(e){this.options=void 0,this.options=e}return e.prototype.resolve=function(e,t){try{var r,n="";if(e.includes("@")){var o=e.split("@",1);n=o[0],r=o[1]}else r=e;var i="http://openid.net/specs/connect/1.0/issuer";return Promise.resolve(this.options.webfingerResolver.resolve(r,n,i,t)).then((function(e){var t,r=null==(t=e.links)?void 0:t.find((function(e){return e.rel===i}));if(!r||!r.href)throw new Error("bad jrd");return Promise.resolve(fetch(r.href+"/.well-known/openid-configuration").then((function(e){return e.ok?e.json():Promise.reject(new Error("bad openid-configuration response"))})))}))}catch(e){return Promise.reject(e)}},e}();function i(e,t,r){if(!e.s){if(r instanceof a){if(!r.s)return void(r.o=i.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(i.bind(null,e,t),i.bind(null,e,2));e.s=t,e.v=r;var n=e.o;n&&n(e)}}var a=function(){function e(){}return e.prototype.then=function(t,r){var n=new e,o=this.s;if(o){var a=1&o?t:r;if(a){try{i(n,1,a(this.v))}catch(e){i(n,2,e)}return n}return this}return this.o=function(e){try{var o=e.v;1&e.s?i(n,1,t?t(o):o):r?i(n,1,r(o)):i(n,2,o)}catch(e){i(n,2,e)}},n},e}();if("undefined"!=typeof window){var s=window;s.UAUTH_VERSION=s.UAUTH_VERSION||{},s.UAUTH_VERSION.COMMON="2.3.0"}var c=function(){function e(e){this.options=void 0,this.options=e}return e.prototype.resolve=function(e,t,r,n){try{var o=this,s="webfinger."+t+"."+r;return Promise.resolve(o.options.domainResolver.records(e,[s])).then((function(c){function u(e){if(f.subject!==l)throw new Error("resource invalid");return f}var l=t?"acct:"+t+"@"+e:""+e;if(!c[s])return{subject:l,links:[{rel:r,href:n}]};var f,h=JSON.parse(c[s]),d="string"==typeof h.host?Promise.resolve(fetch("/.well-known/webfinger?"+new URLSearchParams({resource:l,rel:r}).toString(),{headers:{Host:h.host}}).then((function(e){return e.ok?e.json():Promise.reject(new Error("bad webfinger response"))}))).then((function(e){f=e})):function(){if("string"==typeof h.uri){var e=new URL(h.uri);return function(e,t){var r,n=-1;e:{for(var o=0;o<t.length;o++){var s=t[o][0];if(s){var c=s();if(c&&c.then)break e;if(c===e){n=o;break}}else n=o}if(-1!==n){do{for(var u=t[n][1];!u;)n++,u=t[n][1];var l=u();if(l&&l.then){r=!0;break e}var f=t[n][2];n++}while(f&&!f());return l}}var h=new a,d=i.bind(null,h,2);return(r?l.then(p):c.then((function r(a){for(;;){if(a===e){n=o;break}if(++o===t.length){if(-1!==n)break;return void i(h,1,u)}if(s=t[o][0]){if((a=s())&&a.then)return void a.then(r).then(void 0,d)}else n=o}do{for(var c=t[n][1];!c;)n++,c=t[n][1];var u=c();if(u&&u.then)return void u.then(p).then(void 0,d);var l=t[n][2];n++}while(l&&!l());i(h,1,u)}))).then(void 0,d),h;function p(e){for(;;){var r=t[n][2];if(!r||r())break;n++;for(var o=t[n][1];!o;)n++,o=t[n][1];if((e=o())&&e.then)return void e.then(p).then(void 0,d)}i(h,1,e)}}(e.protocol,[[function(){return"http:"}],[function(){return"https:"},function(){return Promise.resolve(fetch(e.toString()).then((function(e){return e.ok?e.json():Promise.reject(new Error("bad webfinger response"))}))).then((function(e){f=e}))}],[function(){return"ipfs:"},function(){return Promise.resolve(o.options.ipfsResolver.resolve(h.uri)).then((function(e){f=JSON.parse(e)}))}],[function(){return"ipns:"}],[function(){return"swarm:"}],[void 0,function(){throw new Error("uri scheme not supported")}]])}if("string"!=typeof h.value)throw new Error("bad webfinger record");f=JSON.parse(h.value)}();return d&&d.then?d.then(u):u()}))}catch(e){return Promise.reject(e)}},e}();var u=r(86016),l=r(75367),f=crypto,h=function(e){return e instanceof CryptoKey},d=new TextEncoder,p=new TextDecoder;Math.pow(2,32);function v(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.reduce((function(e,t){return e+t.length}),0),o=new Uint8Array(n),i=0;return t.forEach((function(e){o.set(e,i),i+=e.length})),o}var m=function(e){var t=e;t instanceof Uint8Array&&(t=p.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return function(e){for(var t=atob(e),r=new Uint8Array(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}(t)}catch(r){throw new TypeError("The input to be decoded is not correctly encoded.")}},y=r(47061),g=r(59900),w=r(14771),b=r(24269),S=r(38114),_=function(e){(0,b.Z)(r,e);var t=(0,S.Z)(r);function r(e){var n,o;return(0,y.Z)(this,r),(n=t.call(this,e)).code="ERR_JOSE_GENERIC",n.name=n.constructor.name,null===(o=Error.captureStackTrace)||void 0===o||o.call(Error,(0,w.Z)(n),n.constructor),n}return(0,g.Z)(r,null,[{key:"code",get:function(){return"ERR_JOSE_GENERIC"}}]),r}((0,r(73133).Z)(Error)),k=function(e){(0,b.Z)(r,e);var t=(0,S.Z)(r);function r(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unspecified",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified";return(0,y.Z)(this,r),(n=t.call(this,e)).code="ERR_JWT_CLAIM_VALIDATION_FAILED",n.claim=o,n.reason=i,n}return(0,g.Z)(r,null,[{key:"code",get:function(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}}]),r}(_),A=function(e){(0,b.Z)(r,e);var t=(0,S.Z)(r);function r(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unspecified",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified";return(0,y.Z)(this,r),(n=t.call(this,e)).code="ERR_JWT_EXPIRED",n.claim=o,n.reason=i,n}return(0,g.Z)(r,null,[{key:"code",get:function(){return"ERR_JWT_EXPIRED"}}]),r}(_),E=function(e){(0,b.Z)(r,e);var t=(0,S.Z)(r);function r(){var e;return(0,y.Z)(this,r),(e=t.apply(this,arguments)).code="ERR_JOSE_ALG_NOT_ALLOWED",e}return(0,g.Z)(r,null,[{key:"code",get:function(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}]),r}(_),P=function(e){(0,b.Z)(r,e);var t=(0,S.Z)(r);function r(){var e;return(0,y.Z)(this,r),(e=t.apply(this,arguments)).code="ERR_JOSE_NOT_SUPPORTED",e}return(0,g.Z)(r,null,[{key:"code",get:function(){return"ERR_JOSE_NOT_SUPPORTED"}}]),r}(_),R=function(e){(0,b.Z)(r,e);var t=(0,S.Z)(r);function r(){var e;return(0,y.Z)(this,r),(e=t.apply(this,arguments)).code="ERR_JWS_INVALID",e}return(0,g.Z)(r,null,[{key:"code",get:function(){return"ERR_JWS_INVALID"}}]),r}(_),O=function(e){(0,b.Z)(r,e);var t=(0,S.Z)(r);function r(){var e;return(0,y.Z)(this,r),(e=t.apply(this,arguments)).code="ERR_JWT_INVALID",e}return(0,g.Z)(r,null,[{key:"code",get:function(){return"ERR_JWT_INVALID"}}]),r}(_),T=function(e){(0,b.Z)(r,e);var t=(0,S.Z)(r);function r(){var e;return(0,y.Z)(this,r),(e=t.apply(this,arguments)).code="ERR_JWKS_INVALID",e}return(0,g.Z)(r,null,[{key:"code",get:function(){return"ERR_JWKS_INVALID"}}]),r}(_),x=function(e){(0,b.Z)(r,e);var t=(0,S.Z)(r);function r(){var e;return(0,y.Z)(this,r),(e=t.apply(this,arguments)).code="ERR_JWKS_NO_MATCHING_KEY",e.message="no applicable key found in the JSON Web Key Set",e}return(0,g.Z)(r,null,[{key:"code",get:function(){return"ERR_JWKS_NO_MATCHING_KEY"}}]),r}(_),C=function(e){(0,b.Z)(r,e);var t=(0,S.Z)(r);function r(){var e;return(0,y.Z)(this,r),(e=t.apply(this,arguments)).code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",e.message="multiple matching keys found in the JSON Web Key Set",e}return(0,g.Z)(r,null,[{key:"code",get:function(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}]),r}(_),Z=function(e){(0,b.Z)(r,e);var t=(0,S.Z)(r);function r(){var e;return(0,y.Z)(this,r),(e=t.apply(this,arguments)).code="ERR_JWKS_TIMEOUT",e.message="request timed out",e}return(0,g.Z)(r,null,[{key:"code",get:function(){return"ERR_JWKS_TIMEOUT"}}]),r}(_),j=function(e){(0,b.Z)(r,e);var t=(0,S.Z)(r);function r(){var e;return(0,y.Z)(this,r),(e=t.apply(this,arguments)).code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",e.message="signature verification failed",e}return(0,g.Z)(r,null,[{key:"code",get:function(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}]),r}(_);f.getRandomValues.bind(f);var I=function(e){return h(e)},W=["CryptoKey"];var U=r(19677),D=r(24611),K=r(53755);function L(){return"undefined"!==typeof WebSocketPair||"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!==typeof EdgeRuntime&&"vercel"===EdgeRuntime}function J(e){var t,r;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:"SHA-".concat(e.alg.slice(-3))},r=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new P("".concat(e.alg," keys cannot be imported as CryptoKey instances"));case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},r=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},r=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},r=["deriveBits"];break;default:throw new P('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:"SHA-".concat(e.alg.slice(-3))},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:"SHA-".concat(e.alg.slice(-3))},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:"SHA-".concat(parseInt(e.alg.slice(-3),10)||1)},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new P('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new P('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case L()&&"OKP":if("EdDSA"!==e.alg)throw new P('Invalid or unsupported JWK "alg" (Algorithm) Parameter value');if("Ed25519"!==e.crv)throw new P('Invalid or unsupported JWK "alg" (Algorithm) Parameter value');t={name:"NODE-ED25519",namedCurve:"NODE-ED25519"},r=e.d?["sign"]:["verify"];break;case"OKP":switch(e.alg){case"EdDSA":t={name:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new P('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new P('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}var H=function(){var e=(0,K.Z)((0,D.Z)().mark((function e(t){var r,n,o,i,a,s,c,u,l;return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=J(t),a=i.algorithm,s=i.keyUsages,c=[a,null!==(n=t.ext)&&void 0!==n&&n,null!==(o=t.key_ops)&&void 0!==o?o:s],"PBKDF2"!==a.name){e.next=4;break}return e.abrupt("return",(u=f.subtle).importKey.apply(u,["raw",m(t.k)].concat(c)));case 4:return delete(l=(0,U.Z)({},t)).alg,delete l.use,e.abrupt("return",(r=f.subtle).importKey.apply(r,["jwk",l].concat(c)));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=H;function M(e){if("object"!==typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;for(var r=e;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}function z(e,t,r){return F.apply(this,arguments)}function F(){return(F=(0,K.Z)((0,D.Z)().mark((function e(t,r,n){var o;return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(t)){e.next=2;break}throw new TypeError("JWK must be an object");case 2:if(r||(r=t.alg),"string"===typeof r&&r){e.next=5;break}throw new TypeError('"alg" argument is required when "jwk.alg" is not present');case 5:e.t0=t.kty,e.next="oct"===e.t0?8:"RSA"===e.t0?14:"EC"===e.t0||"OKP"===e.t0?16:17;break;case 8:if("string"===typeof t.k&&t.k){e.next=10;break}throw new TypeError('missing "k" (Key Value) Parameter value');case 10:if(null!==n&&void 0!==n||(n=!0!==t.ext),!n){e.next=13;break}return e.abrupt("return",N((0,U.Z)((0,U.Z)({},t),{},{alg:r,ext:null!==(o=t.ext)&&void 0!==o&&o})));case 13:return e.abrupt("return",m(t.k));case 14:if(void 0===t.oth){e.next=16;break}throw new P('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case 16:return e.abrupt("return",N((0,U.Z)((0,U.Z)({},t),{},{alg:r})));case 17:throw new P('Unsupported "kty" (Key Type) Parameter value');case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=r(19961);function V(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];if(n.length>2){var i=n.pop();e+="one of type ".concat(n.join(", "),", or ").concat(i,".")}else 2===n.length?e+="one of type ".concat(n[0]," or ").concat(n[1],"."):e+="of type ".concat(n[0],".");return null==t?e+=" Received ".concat(t):"function"===typeof t&&t.name?e+=" Received function ".concat(t.name):"object"===typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=" Received an instance of ".concat(t.constructor.name)),e}var B=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return V.apply(void 0,["Key must be ",e].concat(r))};function G(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return V.apply(void 0,["Key for the ".concat(e," algorithm must be "),t].concat(n))}var Y=function(e,t,r){e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?function(e,t){if(!(t instanceof Uint8Array)){if(!I(t))throw new TypeError(G.apply(void 0,[e,t].concat((0,q.Z)(W),["Uint8Array"])));if("secret"!==t.type)throw new TypeError("".concat(W.join(" or "),' instances for symmetric algorithms must be of type "secret"'))}}(e,t):function(e,t,r){if(!I(t))throw new TypeError(G.apply(void 0,[e,t].concat((0,q.Z)(W))));if("secret"===t.type)throw new TypeError("".concat(W.join(" or "),' instances for asymmetric algorithms must not be of type "secret"'));if("sign"===r&&"public"===t.type)throw new TypeError("".concat(W.join(" or "),' instances for asymmetric algorithm signing must be of type "private"'));if("decrypt"===r&&"public"===t.type)throw new TypeError("".concat(W.join(" or "),' instances for asymmetric algorithm decryption must be of type "private"'));if(t.algorithm&&"verify"===r&&"private"===t.type)throw new TypeError("".concat(W.join(" or "),' instances for asymmetric algorithm verifying must be of type "public"'));if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw new TypeError("".concat(W.join(" or "),' instances for asymmetric algorithm encryption must be of type "public"'))}(e,t,r)};var Q=r(745);var X=function(e,t,r,n,o){if(void 0!==o.crit&&void 0===n.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some((function(e){return"string"!==typeof e||0===e.length})))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');var i;i=void 0!==r?new Map([].concat((0,q.Z)(Object.entries(r)),(0,q.Z)(t.entries()))):t;var a,s=(0,Q.Z)(n.crit);try{for(s.s();!(a=s.n()).done;){var c=a.value;if(!i.has(c))throw new P('Extension Header Parameter "'.concat(c,'" is not recognized'));if(void 0===o[c])throw new e('Extension Header Parameter "'.concat(c,'" is missing'));if(i.get(c)&&void 0===n[c])throw new e('Extension Header Parameter "'.concat(c,'" MUST be integrity protected'))}}catch(u){s.e(u)}finally{s.f()}return new Set(n.crit)};Symbol();function $(e,t){var r="SHA-".concat(e.slice(-3));switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case L()&&"EdDSA":var n=t.namedCurve;return{name:n,namedCurve:n};case"EdDSA":return{name:t.name};default:throw new P("alg ".concat(e," is not supported either by JOSE or your javascript runtime"))}}var ee=function(e,t){if(e.startsWith("RS")||e.startsWith("PS")){var r=t.algorithm.modulusLength;if("number"!==typeof r||r<2048)throw new TypeError("".concat(e," requires key modulusLength to be 2048 bits or larger"))}};function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"algorithm.name";return new TypeError("CryptoKey does not support this operation, its ".concat(t," must be ").concat(e))}function re(e,t){return e.name===t}function ne(e){return parseInt(e.name.slice(4),10)}function oe(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function ie(e,t){if(t.length&&!t.some((function(t){return e.usages.includes(t)}))){var r="CryptoKey does not support this operation, its usages must include ";if(t.length>2){var n=t.pop();r+="one of ".concat(t.join(", "),", or ").concat(n,".")}else 2===t.length?r+="one of ".concat(t[0]," or ").concat(t[1],"."):r+="".concat(t[0],".");throw new TypeError(r)}}function ae(e,t,r){if(h(t))return function(e,t){switch(t){case"HS256":case"HS384":case"HS512":if(!re(e.algorithm,"HMAC"))throw te("HMAC");var r=parseInt(t.slice(2),10);if(ne(e.algorithm.hash)!==r)throw te("SHA-".concat(r),"algorithm.hash");break;case"RS256":case"RS384":case"RS512":if(!re(e.algorithm,"RSASSA-PKCS1-v1_5"))throw te("RSASSA-PKCS1-v1_5");var n=parseInt(t.slice(2),10);if(ne(e.algorithm.hash)!==n)throw te("SHA-".concat(n),"algorithm.hash");break;case"PS256":case"PS384":case"PS512":if(!re(e.algorithm,"RSA-PSS"))throw te("RSA-PSS");var o=parseInt(t.slice(2),10);if(ne(e.algorithm.hash)!==o)throw te("SHA-".concat(o),"algorithm.hash");break;case L()&&"EdDSA":if(!re(e.algorithm,"NODE-ED25519"))throw te("NODE-ED25519");break;case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw te("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":if(!re(e.algorithm,"ECDSA"))throw te("ECDSA");var i=oe(t);if(e.algorithm.namedCurve!==i)throw te(i,"algorithm.namedCurve");break;default:throw new TypeError("CryptoKey does not support this operation")}for(var a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];ie(e,s)}(t,e,r),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(B.apply(void 0,[t].concat((0,q.Z)(W))));return f.subtle.importKey("raw",t,{hash:"SHA-".concat(e.slice(-3)),name:"HMAC"},!1,[r])}throw new TypeError(B.apply(void 0,[t].concat((0,q.Z)(W),["Uint8Array"])))}var se=function(){var e=(0,K.Z)((0,D.Z)().mark((function e(t,r,n,o){var i,a;return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t,r,"verify");case 2:return i=e.sent,ee(t,i),a=$(t,i.algorithm),e.prev=5,e.next=8,f.subtle.verify(a,i,n,o);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(5),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,r,n,o){return e.apply(this,arguments)}}(),ce=se,ue=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o=t.filter(Boolean);if(0===o.length||1===o.length)return!0;var i,a=(0,Q.Z)(o);try{for(a.s();!(i=a.n()).done;){var s=i.value,c=Object.keys(s);if(n&&0!==n.size)for(var u=0,l=c;u<l.length;u++){var f=l[u];if(n.has(f))return!1;n.add(f)}else n=new Set(c)}}catch(h){a.e(h)}finally{a.f()}return!0},le=function(e,t){if(void 0!==t&&(!Array.isArray(t)||t.some((function(e){return"string"!==typeof e}))))throw new TypeError('"'.concat(e,'" option must be an array of strings'));if(t)return new Set(t)};function fe(e,t,r){return he.apply(this,arguments)}function he(){return(he=(0,K.Z)((0,D.Z)().mark((function e(t,r,n){var o,i,a,s,c,u,l,f,h,y,g,w,b;return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(t)){e.next=2;break}throw new R("Flattened JWS must be an object");case 2:if(void 0!==t.protected||void 0!==t.header){e.next=4;break}throw new R('Flattened JWS must have either of the "protected" or "header" members');case 4:if(void 0===t.protected||"string"===typeof t.protected){e.next=6;break}throw new R("JWS Protected Header incorrect type");case 6:if(void 0!==t.payload){e.next=8;break}throw new R("JWS Payload missing");case 8:if("string"===typeof t.signature){e.next=10;break}throw new R("JWS Signature missing or incorrect type");case 10:if(void 0===t.header||M(t.header)){e.next=12;break}throw new R("JWS Unprotected Header incorrect type");case 12:if(i={},!t.protected){e.next=22;break}e.prev=14,a=m(t.protected),i=JSON.parse(p.decode(a)),e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(14),new R("JWS Protected Header is invalid");case 22:if(ue(i,t.header)){e.next=24;break}throw new R("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");case 24:if(s=(0,U.Z)((0,U.Z)({},i),t.header),c=X(R,new Map([["b64",!0]]),null===n||void 0===n?void 0:n.crit,i,s),u=!0,!c.has("b64")){e.next=31;break}if("boolean"===typeof(u=i.b64)){e.next=31;break}throw new R('The "b64" (base64url-encode payload) Header Parameter must be a boolean');case 31:if("string"===typeof(l=s.alg)&&l){e.next=34;break}throw new R('JWS "alg" (Algorithm) Header Parameter missing or invalid');case 34:if(!(f=n&&le("algorithms",n.algorithms))||f.has(l)){e.next=37;break}throw new E('"alg" (Algorithm) Header Parameter not allowed');case 37:if(!u){e.next=42;break}if("string"===typeof t.payload){e.next=40;break}throw new R("JWS Payload must be a string");case 40:e.next=44;break;case 42:if("string"===typeof t.payload||t.payload instanceof Uint8Array){e.next=44;break}throw new R("JWS Payload must be a string or an Uint8Array instance");case 44:if(h=!1,"function"!==typeof r){e.next=50;break}return e.next=48,r(i,t);case 48:r=e.sent,h=!0;case 50:return Y(l,r,"verify"),y=v(d.encode(null!==(o=t.protected)&&void 0!==o?o:""),d.encode("."),"string"===typeof t.payload?d.encode(t.payload):t.payload),g=m(t.signature),e.next=55,ce(l,r,g,y);case 55:if(e.sent){e.next=58;break}throw new j;case 58:if(w=u?m(t.payload):"string"===typeof t.payload?d.encode(t.payload):t.payload,b={payload:w},void 0!==t.protected&&(b.protectedHeader=i),void 0!==t.header&&(b.unprotectedHeader=t.header),!h){e.next=64;break}return e.abrupt("return",(0,U.Z)((0,U.Z)({},b),{},{key:r}));case 64:return e.abrupt("return",b);case 65:case"end":return e.stop()}}),e,null,[[14,19]])})))).apply(this,arguments)}function de(e,t,r){return pe.apply(this,arguments)}function pe(){return(pe=(0,K.Z)((0,D.Z)().mark((function e(t,r,n){var o,i,a,s,c,u;return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array&&(t=p.decode(t)),"string"===typeof t){e.next=3;break}throw new R("Compact JWS must be a string or Uint8Array");case 3:if(o=t.split("."),i=o[0],a=o[1],s=o[2],3===o.length){e.next=6;break}throw new R("Invalid Compact JWS");case 6:return e.next=8,fe({payload:a,protected:i,signature:s},r,n);case 8:if(c=e.sent,u={payload:c.payload,protectedHeader:c.protectedHeader},"function"!==typeof r){e.next=12;break}return e.abrupt("return",(0,U.Z)((0,U.Z)({},u),{},{key:c.key}));case 12:return e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ve=function(e){return Math.floor(e.getTime()/1e3)},me=86400,ye=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,ge=function(e){var t=ye.exec(e);if(!t)throw new TypeError("Invalid time period format");var r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*r);case"day":case"days":case"d":return Math.round(r*me);case"week":case"weeks":case"w":return Math.round(604800*r);default:return Math.round(31557600*r)}},we=function(e){return e.toLowerCase().replace(/^application\//,"")},be=function(e,t){return"string"===typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e)))},Se=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.typ;if(o&&("string"!==typeof e.typ||we(e.typ)!==we(o)))throw new k('unexpected "typ" JWT header value',"typ","check_failed");try{r=JSON.parse(p.decode(t))}catch(d){}if(!M(r))throw new O("JWT Claims Set must be a top-level JSON object");var i=n.issuer;if(i&&!(Array.isArray(i)?i:[i]).includes(r.iss))throw new k('unexpected "iss" claim value',"iss","check_failed");var a=n.subject;if(a&&r.sub!==a)throw new k('unexpected "sub" claim value',"sub","check_failed");var s,c=n.audience;if(c&&!be(r.aud,"string"===typeof c?[c]:c))throw new k('unexpected "aud" claim value',"aud","check_failed");switch(typeof n.clockTolerance){case"string":s=ge(n.clockTolerance);break;case"number":s=n.clockTolerance;break;case"undefined":s=0;break;default:throw new TypeError("Invalid clockTolerance option type")}var u=n.currentDate,l=ve(u||new Date);if((void 0!==r.iat||n.maxTokenAge)&&"number"!==typeof r.iat)throw new k('"iat" claim must be a number',"iat","invalid");if(void 0!==r.nbf){if("number"!==typeof r.nbf)throw new k('"nbf" claim must be a number',"nbf","invalid");if(r.nbf>l+s)throw new k('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==r.exp){if("number"!==typeof r.exp)throw new k('"exp" claim must be a number',"exp","invalid");if(r.exp<=l-s)throw new A('"exp" claim timestamp check failed',"exp","check_failed")}if(n.maxTokenAge){var f=l-r.iat,h="number"===typeof n.maxTokenAge?n.maxTokenAge:ge(n.maxTokenAge);if(f-s>h)throw new A('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(f<0-s)throw new k('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return r};function _e(){return(_e=(0,K.Z)((0,D.Z)().mark((function e(t,r,n){var o,i,a,s;return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(t,r,n);case 2:if(i=e.sent,!(null===(o=i.protectedHeader.crit)||void 0===o?void 0:o.includes("b64"))||!1!==i.protectedHeader.b64){e.next=5;break}throw new O("JWTs MUST NOT use unencoded payload");case 5:if(a=Se(i.protectedHeader,i.payload,n),s={payload:a,protectedHeader:i.protectedHeader},"function"!==typeof r){e.next=9;break}return e.abrupt("return",(0,U.Z)((0,U.Z)({},s),{},{key:i.key}));case 9:return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){switch("string"===typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new P('Unsupported "alg" value for a JSON Web Key Set')}}function Ae(e){return e&&"object"===typeof e&&Array.isArray(e.keys)&&e.keys.every(Ee)}function Ee(e){return M(e)}var Pe=function(){function e(t){if((0,y.Z)(this,e),this._cached=new WeakMap,!Ae(t))throw new T("JSON Web Key Set malformed");var r;this._jwks=(r=t,"function"===typeof structuredClone?structuredClone(r):JSON.parse(JSON.stringify(r)))}return(0,g.Z)(e,[{key:"getKey",value:function(){var e=(0,K.Z)((0,D.Z)().mark((function e(t,r){var n,o,i,a,s,c,u,l,f;return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,U.Z)((0,U.Z)({},t),r.header),o=n.alg,i=n.kid,a=ke(o),s=this._jwks.keys.filter((function(e){var t=a===e.kty;if(t&&"string"===typeof i&&(t=i===e.kid),t&&"string"===typeof e.alg&&(t=o===e.alg),t&&"string"===typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===o&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(o){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t})),c=s[0],0!==(u=s.length)){e.next=8;break}throw new x;case 8:if(1===u){e.next=10;break}throw new C;case 10:if(void 0!==(l=this._cached.get(c)||this._cached.set(c,{}).get(c))[o]){e.next=18;break}return e.next=14,z((0,U.Z)((0,U.Z)({},c),{},{ext:!0}),o);case 14:if(!((f=e.sent)instanceof Uint8Array||"public"!==f.type)){e.next=17;break}throw new T("JSON Web Key Set members must be public keys");case 17:l[o]=f;case 18:return e.abrupt("return",l[o]);case 19:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();var Re=r(12731),Oe=r(70886),Te=function(){var e=(0,K.Z)((0,D.Z)().mark((function e(t,r,n){var o,i,a,s;return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,"function"===typeof AbortController&&(o=new AbortController,i=setTimeout((function(){a=!0,o.abort()}),r)),e.next=4,fetch(t.href,{signal:o?o.signal:void 0,redirect:"manual",headers:n.headers}).catch((function(e){if(a)throw new Z;throw e}));case 4:if(s=e.sent,void 0!==i&&clearTimeout(i),200===s.status){e.next=8;break}throw new _("Expected 200 OK from the JSON Web Key Set HTTP response");case 8:return e.prev=8,e.next=11,s.json();case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(8),new _("Failed to parse the JSON Web Key Set HTTP response as JSON");case 17:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t,r,n){return e.apply(this,arguments)}}(),xe=Te,Ce=function(e){(0,b.Z)(r,e);var t=(0,S.Z)(r);function r(e,n){var o;if((0,y.Z)(this,r),(o=t.call(this,{keys:[]}))._jwks=void 0,!(e instanceof URL))throw new TypeError("url must be an instance of URL");return o._url=new URL(e.href),o._options={agent:null===n||void 0===n?void 0:n.agent,headers:null===n||void 0===n?void 0:n.headers},o._timeoutDuration="number"===typeof(null===n||void 0===n?void 0:n.timeoutDuration)?null===n||void 0===n?void 0:n.timeoutDuration:5e3,o._cooldownDuration="number"===typeof(null===n||void 0===n?void 0:n.cooldownDuration)?null===n||void 0===n?void 0:n.cooldownDuration:3e4,o._cacheMaxAge="number"===typeof(null===n||void 0===n?void 0:n.cacheMaxAge)?null===n||void 0===n?void 0:n.cacheMaxAge:6e5,o}return(0,g.Z)(r,[{key:"coolingDown",value:function(){return"number"===typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}},{key:"fresh",value:function(){return"number"===typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}},{key:"getKey",value:function(){var e=(0,K.Z)((0,D.Z)().mark((function e(t,n){return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._jwks&&this.fresh()){e.next=3;break}return e.next=3,this.reload();case 3:return e.prev=3,e.next=6,(0,Re.Z)((0,Oe.Z)(r.prototype),"getKey",this).call(this,t,n);case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof x)){e.next=16;break}if(!1!==this.coolingDown()){e.next=16;break}return e.next=15,this.reload();case 15:return e.abrupt("return",(0,Re.Z)((0,Oe.Z)(r.prototype),"getKey",this).call(this,t,n));case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"reload",value:function(){var e=(0,K.Z)((0,D.Z)().mark((function e(){var t=this;return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._pendingFetch||!L()){e.next=2;break}return e.abrupt("return",new Promise((function(e){!function r(){void 0===t._pendingFetch?e():setTimeout(r,5)}()})));case 2:return this._pendingFetch||(this._pendingFetch=xe(this._url,this._timeoutDuration,this._options).then((function(e){if(!Ae(e))throw new T("JSON Web Key Set malformed");t._jwks={keys:e.keys},t._jwksTimestamp=Date.now(),t._pendingFetch=void 0})).catch((function(e){throw t._pendingFetch=void 0,e}))),e.next=5,this._pendingFetch;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(Pe);function Ze(){return Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ze.apply(this,arguments)}function je(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,We(e,t)}function Ie(e){return Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ie(e)}function We(e,t){return We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},We(e,t)}function Ue(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(o){return!1}}function De(e,t,r){return De=Ue()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&We(o,r.prototype),o},De.apply(null,arguments)}function Ke(e){var t="function"==typeof Map?new Map:void 0;return Ke=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return De(e,arguments,Ie(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),We(r,e)},Ke(e)}function Le(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||(o[r]=e[r]);return o}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function He(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Je(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Je(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ne(e,t){return function(r){function n(){var n;return(n=r.call(this,t)||this).name=e,n}return je(n,r),n}(Ke(Error))}var Me=Ne("PopupTimeoutError","The popup has timed out."),ze=Ne("PopupClosedError","The popup was closed."),Fe=function(e){return String.fromCharCode.apply(null,Array.from(new Uint8Array(e)))},qe=new TextEncoder,Ve=function(){return l},Be=function(e){return Ve().btoa(e)},Ge=function(e){return Be(e).replace(/=+$/g,"").replace(/\+/g,"-").replace(/\//g,"_")},Ye=function(){var e;return null!=(e=Ve().crypto)?e:Ve().msCrypto},Qe=function(e){return Ye().getRandomValues(new Uint8Array(e))},Xe=function(){var e;return null!=(e=Ye().subtle)?e:Ye().webkitSubtle},$e=function(e){try{var t=Xe().digest({name:"SHA-256"},e);return Ve().msCrypto?Promise.resolve(new Promise((function(e,r){t.oncomplete=function(t){return e(t.target.result)},t.onerror=function(e){return r(e.error)},t.onabort=function(){return r("The digest operation was aborted")}}))):Promise.resolve(t)}catch(e){return Promise.reject(e)}},et="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",tt=function(e){return Ve().atob(e)},rt=new TextDecoder;function nt(e){return Array.from(new Set(e))}var ot=function(e){return nt(e.trim().split(/\s+/)).sort().join(" ")};function it(e){var t={};return e.forEach((function(r,n){t[n]=e.getAll(n).length>1?e.getAll(n):e.get(n)})),t}function at(e){var t=new URLSearchParams([].concat(Object.entries(e)).filter((function(e){return null!=e[0]&&null!=e[1]})));return t.sort(),t.toString()}var st={createCodeChallengeAndVerifier:function(e,t){void 0===e&&(e=43),void 0===t&&(t="S256");try{var r=function(e){return Array.from(Qe(e)).map((function(e){return et[e%et.length]})).join("")}(e);switch(t){case"plain":return Promise.resolve({verifier:r,challenge:r});case"S256":return Promise.resolve($e(qe.encode(r).buffer)).then((function(e){return{verifier:r,challenge:Ge(Fe(e))}}));default:throw new Error("bad challenge method")}}catch(e){return Promise.reject(e)}},getCrypto:Ye,getCryptoSubtle:Xe,getRandomBytes:Qe,sha256:$e,verifyIdToken:function(e,t,r,n){try{return Promise.resolve(function(e,t,r){return _e.apply(this,arguments)}(t,(o=new URL(e),Ce.prototype.getKey.bind(new Ce(o,i))),{audience:n})).then((function(e){var n=e.payload;if(n.__raw=t,r!==n.nonce)throw new Error("nonces don't match");return n}))}catch(e){return Promise.reject(e)}var o,i}},ct={decodeState:function(e){var t=e.split("."),r=t[1];if(t.slice(2).length>0)throw new Error("failed to decode state");return(null==r?void 0:r.length)>0?JSON.parse(decodeURIComponent(tt(r))):void 0},encodeState:function(e){return Ge(Fe(Qe(32)))+"."+(null==e?"":Ge(encodeURIComponent(JSON.stringify(e))))},fromBase64:tt,textDecoder:rt,textEncoder:qe,toBase64:Be,toUrlEncodedBase64:Ge,stringFromBuffer:Fe},ut={__proto__:null,crypto:st,encoding:ct,getSortedScope:ot,getWindow:Ve,objectFromEntries:function(e){for(var t,r={},n=He(e);!(t=n()).done;){var o=t.value;r[o[0]]=o[1]}return r},objectFromURLSearchParams:it,objectToKey:at,retry:function e(t,r,n,o,i){return void 0===r&&(r=4),void 0===n&&(n=250),void 0===o&&(o=2),void 0===i&&(i=null),r<=0?Promise.reject(i):t().catch((function(i){try{return Promise.resolve(new Promise((function(e){return setTimeout(e,n)}))).then((function(){return e(t,r-1,n*o,o,i)}))}catch(e){return Promise.reject(e)}}))},uniqueElementsFromArray:nt},lt=function(e){function t(t,r,n){var o;return(o=e.call(this,t+": "+r+(n?"\nSee more at "+n+".":""))||this).code=void 0,o.description=void 0,o.uri=void 0,o.code=t,o.description=r,o.uri=n,o}return je(t,e),t.fromResponse=function(e){return new t(e.error,e.error_description,e.error_uri)},t}(Ke(Error)),ft=["url"],ht=["url","client_id","client_secret","client_auth_method"],dt=function(){function e(e){this.options=void 0,this.options=e}var t=e.prototype;return t.buildAuthorizeUrl=function(e){return this._buildUrl(e)},t.buildLogoutUrl=function(e){return this._buildUrl(e)},t.parseAuthorizeResponseFromFragment=function(e){return this._validateResponse(it(new URLSearchParams(new URL(e).hash.substring(1))))},t.parseAuthorizeResponseFromQuery=function(e){return this._validateResponse(it(new URL(e).searchParams))},t.authorizeWithPopup=function(e,t){void 0===t&&(t={});try{var r,n=this;if(!window)throw new Error("no window in options");var o=n.buildAuthorizeUrl(e),i=t.popup,a=null!=(r=t.timeout)?r:36e5;if(i)i.location.href=o;else{var s,c,u=null!=(s=t.width)?s:600,l=null!=(c=t.height)?c:800;if(!(i=window.open(o,"uauth:authorize:popup","left="+(window.screenX+(window.innerWidth-u)/2)+",top="+(window.screenY+(window.innerHeight-l)/2)+",width="+u+",height="+l+",resizable,scrollbars=yes,status=1")))throw new Error("popup failed to be constructed")}var f=!1;return Promise.resolve(new Promise((function(t,r){var o=setTimeout((function(){f||(clearInterval(s),i.close(),r(new Me))}),a),s=setInterval((function(){var a,c,u,l;!f&&null!=(a=i)&&a.closed&&(clearInterval(s),clearTimeout(o),r(new ze));try{c=i.location.href,u=new URL(c),l=new URL(e.redirect_uri)}catch(e){return}if(u.hash="",u.href===l.href){f=!0,clearInterval(s),clearTimeout(o),i.close();try{t(n.parseAuthorizeResponseFromFragment(c))}catch(e){r(e)}}}),10)})))}catch(e){return Promise.reject(e)}},t.authorizeWithDevice=function(e){return Promise.resolve({})},t.getToken=function(e){try{var t=this._buildRequest(e,{method:"POST"});return Promise.resolve(this._fetchJSON(t[0],t[1]))}catch(e){return Promise.reject(e)}},t.introspect=function(e){var t=this._buildRequest(e,{method:"POST"});return this._fetchJSON(t[0],t[1])},t.revoke=function(e){try{var t=this._buildRequest(e,{method:"POST"});return Promise.resolve(this._fetchJSON(t[0],t[1])).then((function(){}))}catch(e){return Promise.reject(e)}},t.userinfo=function(e){var t=this._buildRequest(e,{method:"GET",headers:{Authorization:"Basic "+e.access_token}});return this._fetchJSON(t[0],t[1])},t.jwks=function(e){var t=this._buildRequest(e,{method:"GET"});return this._fetchJSON(t[0],t[1])},t.getTokenWithAuthorizationCode=function(e){return this.getToken(e)},t.getTokenWithRefreshToken=function(e){return this.getToken(e)},t.getTokenWithDeviceCode=function(e){return this.getToken(e)},t.getTokenWithPassword=function(e){return this.getToken(e)},t.getTokenWithSAML=function(e){return this.getToken(e)},t.getTokenWithClientCredentials=function(e){return this.getToken(e)},t._buildUrl=function(e){for(var t=e.url,r=Le(e,ft),n=new URL(t),o=new URLSearchParams,i=0,a=Object.entries(r);i<a.length;i++){var s=a[i],c=s[0],u=s[1];null!=c&&null!=u&&o.append(c,u)}return n.search=o.toString(),n.toString()},t._buildRequest=function(e,t){var r,n=e.url,o=e.client_id,i=e.client_secret,a=e.client_auth_method,s=Le(e,ht),c=t.headers,u=t.method,l=new Headers(null!=(r=this.options.headers)?r:[]);new Headers(null!=c?c:[]).forEach((function(e,t){l.set(t,e)})),"POST"===t.method&&l.set("Content-Type","application/x-www-form-urlencoded");var f=Ze({client_id:o},s);switch(a){case"client_secret_basic":if(null==i)throw new Error("Client secret not present!");l.set("Authorization","Basic "+Be(o+":"+i));break;case"client_secret_post":if(null==i)throw new Error("Client secret not present!");f.client_secret=i;break;case"none":case void 0:case null:break;default:throw new Error("Bad client_auth_method")}return[n,{method:u,headers:l,body:"POST"===u?new URLSearchParams(Object.entries(f)):void 0}]},t._validateResponse=function(t){if(t.error)throw e.Error.fromResponse(t);return t},t._fetchJSON=function(e,t){try{var r,n=this;if(t.headers){var o=new Headers(t.headers);o.set("Accept","application/json"),t.headers=o}else t.headers={Accept:"application/json"};return Promise.resolve(null==(r=window)?void 0:r.fetch(e,t)).then((function(e){return Promise.resolve(e.json()).then((function(t){if(n._validateResponse(t),!e.ok)throw new Error(e.status+" "+e.statusText+": "+JSON.stringify(t));return t}))}))}catch(e){return Promise.reject(e)}},e}();dt.Error=lt;var pt=function(){function e(e){this.client=void 0,this.client=e}var t=e.prototype;return t.get=function(e,t){var r=void 0===t?{}:t,n=r.mustExist,o=void 0!==n&&n,i=r.deleteAfter,a=void 0!==i&&i;try{var s=this;return Promise.resolve(s.client.getStore().get(e)).then((function(t){var r;function n(t){if(r)return t;var n=function(){if(a)return Promise.resolve(s.client.getStore().delete(e)).then((function(){}))}();return n&&n.then?n.then((function(){return i})):i}if(null!=t){var i=t.value,c=t.expiresAt,u=function(){if(0!==c&&c<Date.now())return Promise.resolve(s.client.getStore().delete(e)).then((function(){if(o)throw new Error(e+" does not exist in store");r=1}))}();return u&&u.then?u.then(n):n(u)}if(o)throw new Error(e+" does not exist in store")}))}catch(e){return Promise.reject(e)}},t.set=function(e,t,r){void 0===r&&(r=0);try{return Promise.resolve(this.client.getStore().set(e,{expiresAt:0===r?0:Date.now()+r,value:t})).then((function(){}))}catch(e){return Promise.reject(e)}},t.setAuthorizeRequest=function(e){try{return Promise.resolve(this.set("request",e,3e5)).then((function(){}))}catch(e){return Promise.reject(e)}},t.getAuthorizeRequest=function(){return this.get("request",{mustExist:!0,deleteAfter:!0})},t.setLogoutRequest=function(e){try{return Promise.resolve(this.set("logout-request",e,3e5)).then((function(){}))}catch(e){return Promise.reject(e)}},t.getLogoutRequest=function(){return this.get("logout-request",{mustExist:!0,deleteAfter:!0})},t.setVerifier=function(e,t){try{return Promise.resolve(this.set("verifier:"+e,t,3e5)).then((function(){}))}catch(e){return Promise.reject(e)}},t.getVerifier=function(e){return this.get("verifier:"+e,{mustExist:!0,deleteAfter:!0})},t.setOpenIdConfiguration=function(e,t,r){try{return Promise.resolve(this.set("openidConfiguration:"+e,t,r)).then((function(){}))}catch(e){return Promise.reject(e)}},t.getOpenIdConfiguration=function(e){return this.get("openidConfiguration:"+e)},t.setAuthorization=function(e){try{var t=this,r={clientID:e.idToken.aud,resource:e.resource,scope:e.scope,username:e.idToken.sub},n=e.expiresAt-Date.now();return Promise.resolve(t.set("username",r.username,n)).then((function(){var o=t.set;return Promise.resolve(t._getAuthorizationKey(r)).then((function(r){return Promise.resolve(o.call(t,r,e,n)).then((function(){}))}))}))}catch(e){return Promise.reject(e)}},t.deleteAuthorization=function(e){try{var t=this;return Promise.resolve(t.get("username")).then((function(r){return Promise.resolve(t._getUsername(e.username,r)).then((function(n){function o(){var r=t.client.getStore(),n=r.delete;return Promise.resolve(t._getAuthorizationKey(e)).then((function(e){return n.call(r,e)}))}e.username=n;var i=function(){if(e.username===r)return Promise.resolve(t.client.getStore().delete("username")).then((function(){}))}();return i&&i.then?i.then(o):o()}))}))}catch(e){return Promise.reject(e)}},t.getAuthorization=function(e){try{var t=this,r=t.get;return Promise.resolve(t._getAuthorizationKey(e)).then((function(e){return r.call(t,e,{mustExist:!0})}))}catch(e){return Promise.reject(e)}},t._getAuthorizationKey=function(e){try{var t=this,r=at,n=t._getUsername,o=e.username;return Promise.resolve(t.get("username")).then((function(i){return Promise.resolve(n.call(t,o,i)).then((function(n){var o,i,a;return"authorization?"+r.call(ut,{username:n,clientID:null!=(o=e.clientID)?o:t.client.fallbackLoginOptions.clientID,scope:ot(null!=(i=e.scope)?i:t.client.fallbackLoginOptions.scope),resource:null!=(a=e.resource)?a:t.client.fallbackLoginOptions.resource})}))}))}catch(e){return Promise.reject(e)}},t._getUsername=function(e,t){try{if(null==e&&null==t)throw new Error("no username given");return Promise.resolve(null!=e?e:t)}catch(e){return Promise.reject(e)}},e}(),vt=function(){function e(e){this.storage=void 0,this.storage=e}var t=e.prototype;return t.get=function(e){var t=this.storage.getItem(e);return null!=t?JSON.parse(t):null},t.delete=function(e){return this.storage.removeItem(e),!0},t.set=function(e,t){return this.storage.setItem(e,JSON.stringify(t)),this},e}(),mt=["clientID","username","scope","resource"];if("undefined"!=typeof window){var yt=window;yt.UAUTH_VERSION=yt.UAUTH_VERSION||{},yt.UAUTH_VERSION.JS="2.4.0"}var gt=function(){var e=t.prototype;function t(e){var t,r,i,a,s,l,f,h,d,p;this.util=ut,this._clientStore=new pt(this),this.api=void 0,this.fallbackIssuer=void 0,this.fallbackLoginOptions=void 0,this.fallbackLogoutOptions=void 0,this.cacheOptions=void 0,this.issuerResolver=void 0,this.resolution=void 0,this.store=void 0,this.storeOptions=void 0,this.fallbackIssuer=null!=(t=e.fallbackIssuer)?t:"https://auth.unstoppabledomains.com",this.resolution=null!=(r=e.resolution)?r:new u.Resolution,this.storeOptions={store:e.store,storeType:null!=(i=e.storeType)?i:"localstore"},this.cacheOptions=Ze({issuer:!1,userinfo:!0},null!=(a=e.cacheOptions)?a:{}),this.api=new dt({headers:{}}),this.fallbackLoginOptions={clientID:e.clientID,clientSecret:e.clientSecret,clientAuthMethod:null!=(s=e.clientAuthMethod)?s:e.clientSecret?"client_secret_post":"none",maxAge:null!=(l=e.maxAge)?l:3e5,prompt:null!=(f=e.prompt)?f:"login",resource:e.resource,redirectUri:e.redirectUri,responseMode:null!=(h=e.responseMode)?h:"fragment",scope:null!=(d=e.scope)?d:"openid wallet"},this.fallbackLogoutOptions={rpInitiatedLogout:null!=(p=e.rpInitiatedLogout)?p:"string"==typeof e.postLogoutRedirectUri,postLogoutRedirectUri:e.postLogoutRedirectUri};var v=this;this.issuerResolver=new o({webfingerResolver:new c({ipfsResolver:new n((function(){return(e.createIpfsUrl||n.defaultCreateUrl).apply(void 0,[].slice.call(arguments))})),domainResolver:{records:function(e,t){try{return Promise.resolve(function(r,n){try{var o=Promise.resolve(v.resolution.records(e,t))}catch(e){return n(e)}return o&&o.then?o.then(void 0,n):o}(0,(function(e){if(e instanceof u.ResolutionError&&e.code===u.ResolutionErrorCode.UnspecifiedResolver)return{};throw e})))}catch(e){return Promise.reject(e)}}}})})}return e.getStore=function(){if(this.store)return this.store;if(this.storeOptions.store)this.store=this.storeOptions.store;else switch(this.storeOptions.storeType){case"localstore":this.store=new vt(window.localStorage);break;case"sessionstore":this.store=new vt(window.sessionStorage);break;case"memory":this.store=new Map;break;default:throw new Error("Bad storeType provided")}return this.store},e.buildAuthorizeRequest=function(e){try{var t=this,r=Ze({},t.fallbackLoginOptions,e),n=e.username;return Promise.resolve(t.getOpenIdConfiguration(n)).then((function(e){return Promise.resolve(st.createCodeChallengeAndVerifier(43,"S256")).then((function(o){var i,a=o.verifier,s=o.challenge,c=ct.toBase64(ct.stringFromBuffer(st.getRandomBytes(32))),u=ct.encodeState(r.state),l={url:e.authorization_endpoint,code_challenge:s,nonce:c,state:u,flow_id:null!=(i=r.flowId)?i:"login",login_hint:n,client_id:r.clientID,client_secret:r.clientSecret,client_auth_method:r.clientAuthMethod,max_age:r.maxAge,prompt:r.prompt,resource:r.resource,redirect_uri:r.redirectUri,response_mode:r.responseMode,scope:r.scope,code_challenge_method:"S256",response_type:"code",package_name:(null==r?void 0:r.packageName)||"@uauth/js",package_version:(null==r?void 0:r.packageVersion)||"2.4.0"};return Promise.resolve(t._clientStore.setAuthorizeRequest(l)).then((function(){return Promise.resolve(t._clientStore.setVerifier(s,a)).then((function(){return l}))}))}))}))}catch(e){return Promise.reject(e)}},e.loginWithPopup=function(e,t){void 0===e&&(e={});try{var r=this;return e.responseMode="fragment",Promise.resolve(r.buildAuthorizeRequest(e)).then((function(e){return Promise.resolve(r.api.authorizeWithPopup(e,t)).then((function(t){return Promise.resolve(r.verifyAuthorizeResponse(e,t))}))}))}catch(e){return Promise.reject(e)}},e.login=function(e){void 0===e&&(e={});try{var t=this;return Promise.resolve(t.buildAuthorizeRequest(e)).then((function(r){function n(){window.location.href=o}var o=t.api.buildAuthorizeUrl(r),i=function(){if("function"==typeof e.beforeRedirect)return Promise.resolve(e.beforeRedirect(o)).then((function(){}))}();return i&&i.then?i.then(n):n()}))}catch(e){return Promise.reject(e)}},e.loginCallback=function(e){try{var t,r=this,n=null!=(t=null==e?void 0:e.url)?t:window.location.href;return Promise.resolve(r._clientStore.getAuthorizeRequest()).then((function(e){var t;if("fragment"===e.response_mode)t=r.api.parseAuthorizeResponseFromFragment(n);else{if("query"!==e.response_mode)throw new Error("Unsupported response_mode");t=r.api.parseAuthorizeResponseFromQuery(n)}return Promise.resolve(r.verifyAuthorizeResponse(e,t)).then((function(t){return{authorization:t,state:ct.decodeState(e.state)}}))}))}catch(e){return Promise.reject(e)}},e.verifyAuthorizeResponse=function(e,t){try{var r=this;if(e.state!==t.state)throw new Error("states don't match");return Promise.resolve(r.getOpenIdConfiguration(e.login_hint)).then((function(n){var o=t.code,i=e.client_auth_method,a=e.client_secret,s=e.client_id,c=n.token_endpoint;return Promise.resolve(r._clientStore.getVerifier(e.code_challenge)).then((function(t){return Promise.resolve(r.api.getTokenWithAuthorizationCode({url:c,client_id:s,client_secret:a,client_auth_method:i,grant_type:"authorization_code",code:o,code_verifier:t,redirect_uri:e.redirect_uri})).then((function(t){return Promise.resolve(st.verifyIdToken(n.jwks_uri,t.id_token,e.nonce,e.client_id)).then((function(n){var o={accessToken:t.access_token,expiresAt:Date.now()+1e3*t.expires_in,idToken:n,scope:ot(e.scope),resource:e.resource};return Promise.resolve(r._clientStore.setAuthorization(o)).then((function(){return o}))}))}))}))}))}catch(e){return Promise.reject(e)}},e.getVerifiedAccounts=function(e,t){void 0===t&&(t=[]);var r=[];return e.idToken.verified_addresses?(e.idToken.verified_addresses.forEach((function(e){t.length>0&&!t.includes(e.symbol)||r.push({address:e.address,message:e.proof.message,signature:e.proof.signature,symbol:e.symbol})})),r):r},e.getAuthorizationAccount=function(e,t,r){var n;void 0===t&&(t="sig"),void 0===r&&(r="v1");var o=null==(n=e.idToken.amr)?void 0:n.filter((function(e){return e.startsWith(r+"."+t)}));if(o&&0!=o.length){var i=o[0].split(".")[3],a=this.getVerifiedAccounts(e);if(a)for(var s,c=He(a);!(s=c()).done;){var u=s.value;if(u.address===i)return u}}},e.getOpenIdConfiguration=function(e){try{var t,r=function(r){return t?r:Promise.resolve(e?n.issuerResolver.resolve(e,n.fallbackIssuer):fetch(n.fallbackIssuer+"/.well-known/openid-configuration").then((function(e){return e.ok?e.json():Promise.reject(new Error("bad openid-configuration response"))}))).then((function(t){return Promise.resolve(n._clientStore.setOpenIdConfiguration(null!=e?e:"",t,"number"==typeof n.cacheOptions.issuer?n.cacheOptions.issuer:36e5)).then((function(){return t}))}))},n=this,o=function(){if(n.cacheOptions.issuer)return Promise.resolve(n._clientStore.getOpenIdConfiguration(null!=e?e:"")).then((function(e){if(e)return t=1,e}))}();return Promise.resolve(o&&o.then?o.then(r):r(o))}catch(e){return Promise.reject(e)}},e.authorization=function(e){void 0===e&&(e={});try{return Promise.resolve(this._clientStore.getAuthorization(e))}catch(e){return Promise.reject(e)}},e.user=function(e){void 0===e&&(e={});try{var t,r=this,n=null!=(t=e.claims)?t:["name","given_name","family_name","middle_name","nickname","preferred_username","profile","picture","website","email","email_verified","gender","birthdate","zoneinfo","locale","phone_number","phone_number_verified","address","updated_at","wallet_address","wallet_type_hint","eip4361_message","eip4361_signature","humanity_check_id"];return Promise.resolve(r.authorization(e)).then((function(e){var t={sub:e.idToken.sub};if(r.cacheOptions.userinfo){for(var o,i=He(n);!(o=i()).done;){var a=o.value;e.idToken[a]&&(t[a]=e.idToken[a])}return t}return Promise.resolve(r.getOpenIdConfiguration(e.idToken.sub)).then((function(o){return Promise.resolve(r.api.userinfo({client_id:r.fallbackLoginOptions.clientID,client_secret:r.fallbackLoginOptions.clientSecret,client_auth_method:r.fallbackLoginOptions.clientAuthMethod,access_token:e.accessToken,url:o.userinfo_endpoint})).then((function(e){for(var r,o=He(n);!(r=o()).done;){var i=r.value;e[i]&&(t[i]=e[i])}return t}))}))}))}catch(e){return Promise.reject(e)}},e.buildLogoutRequest=function(e){try{var t=this;return Promise.resolve(t.authorization(e)).then((function(r){return Promise.resolve(t.getOpenIdConfiguration(r.idToken.sub)).then((function(n){var o;if(null==n.end_session_endpoint)throw new Error("end_session_endpoint must exist");var i=null!=(o=e.postLogoutRedirectUri)?o:t.fallbackLogoutOptions.postLogoutRedirectUri;if(null==i)throw new Error("postLogoutRedirectUri must be supplied");var a={client_id:t.fallbackLoginOptions.clientID,client_secret:t.fallbackLoginOptions.clientSecret,client_auth_method:t.fallbackLoginOptions.clientAuthMethod,url:n.end_session_endpoint,id_token_hint:r.idToken.__raw,post_logout_redirect_uri:i,state:ct.encodeState(e.state)};return Promise.resolve(t._clientStore.setLogoutRequest(a)).then((function(){return a}))}))}))}catch(e){return Promise.reject(e)}},e.logout=function(e){var t=void 0===e?{}:e,r=t.clientID,n=t.username,o=t.scope,i=t.resource,a=Le(t,mt);try{var s,c=function(e){return s?e:Promise.resolve(u.buildLogoutRequest(l)).then((function(e){function t(){return Promise.resolve(u._clientStore.deleteAuthorization(f)).then((function(){window.location.href=r}))}var r=u.api.buildLogoutUrl(e),n=function(){if("function"==typeof l.beforeRedirect)return Promise.resolve(l.beforeRedirect(r)).then((function(){}))}();return n&&n.then?n.then(t):t()}))},u=this,l=Ze({},u.fallbackLogoutOptions,a),f={clientID:r,username:n,scope:o,resource:i},h=function(){if(!l.rpInitiatedLogout)return Promise.resolve(u._clientStore.deleteAuthorization(f)).then((function(){s=1}))}();return Promise.resolve(h&&h.then?h.then(c):c(h))}catch(e){return Promise.reject(e)}},e.logoutCallback=function(e){void 0===e&&(e={});try{var t,r,n=this,o=null!=(t=null==(r=e)?void 0:r.url)?t:window.location.href;return Promise.resolve(n._clientStore.getLogoutRequest()).then((function(e){var t=n.api.parseAuthorizeResponseFromQuery(o);return Promise.resolve(n.verifyLogoutResponse(e,t)).then((function(){return ct.decodeState(e.state)}))}))}catch(e){return Promise.reject(e)}},e.verifyLogoutResponse=function(e,t){try{if(e.state!==t.state)throw new Error("states don't match");return Promise.resolve()}catch(e){return Promise.reject(e)}},t}()}}]);
//# sourceMappingURL=2032.29e18e83.chunk.js.map