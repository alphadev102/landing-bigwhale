"use strict";(self.webpackChunkonboard_notify_react=self.webpackChunkonboard_notify_react||[]).push([[5526],{58021:function(e,t,n){n.r(t),n.d(t,{detectEnv:function(){return o},detectOS:function(){return a},formatIOSMobile:function(){return C},formatMobileRegistry:function(){return D},formatMobileRegistryEntry:function(){return j},getAppLogoUrl:function(){return P},getClientMeta:function(){return S},getCrypto:function(){return w},getCryptoOrThrow:function(){return b},getDappRegistryUrl:function(){return N},getDocument:function(){return y},getDocumentOrThrow:function(){return v},getFromWindow:function(){return d},getFromWindowOrThrow:function(){return l},getLocal:function(){return E},getLocalStorage:function(){return T},getLocalStorageOrThrow:function(){return x},getLocation:function(){return m},getLocationOrThrow:function(){return k},getMobileLinkRegistry:function(){return U},getMobileRegistryEntry:function(){return A},getNavigator:function(){return _},getNavigatorOrThrow:function(){return g},getWalletRegistryUrl:function(){return H},isAndroid:function(){return u},isBrowser:function(){return p},isIOS:function(){return c},isMobile:function(){return h},isNode:function(){return f},mobileLinkChoiceKey:function(){return q},removeLocal:function(){return O},safeJsonParse:function(){return Z},safeJsonStringify:function(){return M},saveMobileLinkInfo:function(){return L},setLocal:function(){return R}});var r=n(64731),s=n(87239),i=n(67330);function o(e){return(0,i.qY)(e)}function a(){var e=o();return e&&e.os?e.os:void 0}function u(){var e=a();return!!e&&e.toLowerCase().includes("android")}function c(){var e=a();return!!e&&(e.toLowerCase().includes("ios")||e.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1)}function h(){return!!a()&&(u()||c())}function f(){var e=o();return!(!e||!e.name)&&"node"===e.name.toLowerCase()}function p(){return!f()&&!!_()}var d=s.getFromWindow,l=s.getFromWindowOrThrow,v=s.getDocumentOrThrow,y=s.getDocument,g=s.getNavigatorOrThrow,_=s.getNavigator,k=s.getLocationOrThrow,m=s.getLocation,b=s.getCryptoOrThrow,w=s.getCrypto,x=s.getLocalStorageOrThrow,T=s.getLocalStorage;function S(){return r.D()}var I=n(35297),Z=I.D,M=I.u;function R(e,t){var n=M(t),r=T();r&&r.setItem(e,n)}function E(e){var t=null,n=T();return n&&(t=n.getItem(e)),t?Z(t):t}function O(e){var t=T();t&&t.removeItem(e)}var q="WALLETCONNECT_DEEPLINK_CHOICE";function C(e,t){var n=encodeURIComponent(e);return t.universalLink?"".concat(t.universalLink,"/wc?uri=").concat(n):t.deepLink?"".concat(t.deepLink).concat(t.deepLink.endsWith(":")?"//":"/","wc?uri=").concat(n):""}function L(e){var t=e.href.split("?")[0];R(q,Object.assign(Object.assign({},e),{href:t}))}function A(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))[0]}function U(e,t){var n=e;return t&&(n=t.map((function(t){return A(e,t)})).filter(Boolean)),n}var B="https://registry.walletconnect.org";function H(){return B+"/data/wallets.json"}function N(){return B+"/data/dapps.json"}function P(e){return B+"/logo/sm/"+e+".jpeg"}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mobile";return{name:e.name||"",shortName:e.metadata.shortName||"",color:e.metadata.colors.primary||"",logo:e.id?P(e.id):"",universalLink:e[t].universal||"",deepLink:e[t].native||""}}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mobile";return Object.values(e).filter((function(e){return!!e[t].universal||!!e[t].native})).map((function(e){return j(e,t)}))}},45526:function(e,t,n){n.r(t),n.d(t,{default:function(){return be}});var r={};n.r(r),n.d(r,{decrypt:function(){return ke},encrypt:function(){return ge},generateKey:function(){return de},verifyHmac:function(){return ve}});var s=n(59900),i=n(47061),o=n(24269),a=n(38114),u=n(24611),c=n(53755),h=n(19961),f=n(58021),p=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],d=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],l=n(45081),v=n.n(l),y=n(22022);function g(e){return y.arrayToBuffer(new Uint8Array(e))}function _(e){return y.bufferToArray(e).buffer}function k(e,t){var n=y.removeHexPrefix(y.sanitizeHex(new(v())(e).toString(16)));return t?n:y.addHexPrefix(n)}var m=n(75502);function b(e){return y.sanitizeHex(e)}var w=n(55521).payloadId;function x(){return function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t}()}function T(e,t){return y.isHexString(e,t)}function S(e){return"undefined"!==typeof e.result}function I(e){return"undefined"!==typeof e.error}function Z(e){return"undefined"!==typeof e.event}function M(e){return!!e.method.startsWith("wc_")||!d.includes(e.method)}function R(e){e=(0,y.removeHexPrefix)(e.toLowerCase());for(var t,n=(0,y.removeHexPrefix)((0,m.keccak_256)((t=e,y.utf8ToBuffer(t)))),r="",s=0;s<e.length;s++)parseInt(n[s],16)>7?r+=e[s].toUpperCase():r+=e[s];return(0,y.addHexPrefix)(r)}function E(e){var t,n,r;return(r=e)&&r.length&&!T(e[0])&&(e[0]=(t=e[0],y.utf8ToHex(t,!n))),e}function O(e){if("undefined"!==typeof e.type&&"0"!==e.type)return e;if("undefined"===typeof e.from||(!(t=e.from)||"0x"!==t.toLowerCase().substring(0,2)||!/^(0x)?[0-9a-f]{40}$/i.test(t)||!/^(0x)?[0-9a-f]{40}$/.test(t)&&!/^(0x)?[0-9A-F]{40}$/.test(t)&&t!==R(t)))throw new Error("Transaction object must include a valid 'from' value.");var t;function n(e){var t,n=e;return("number"===typeof e||"string"===typeof e&&!function(e){return""===e||"string"===typeof e&&""===e.trim()}(e))&&(T(e)?"string"===typeof e&&(n=b(e)):n=k(e)),"string"===typeof n&&(t=n,n=y.removeHexLeadingZeros(y.addHexPrefix(t))),n}var r={from:b(e.from),to:"undefined"===typeof e.to?"":b(e.to),gasPrice:"undefined"===typeof e.gasPrice?"":n(e.gasPrice),gas:"undefined"===typeof e.gas?"undefined"===typeof e.gasLimit?"":n(e.gasLimit):n(e.gas),value:"undefined"===typeof e.value?"":n(e.value),nonce:"undefined"===typeof e.nonce?"":n(e.nonce),data:"undefined"===typeof e.data?"":b(e.data)||"0x"},s=["gasPrice","gas","value","nonce"];return Object.keys(r).forEach((function(e){!r[e].trim().length&&s.includes(e)&&delete r[e]})),r}var q=n(21957);function C(e,t){var n=L(e);return e=function(e){return q.stringify(e)}(n=Object.assign(Object.assign({},n),t))}function L(e){return q.parse(e)}var A=function(){function e(){var t=this;(0,i.Z)(this,e),this._eventEmitters=[],"undefined"!==typeof window&&"undefined"!==typeof window.addEventListener&&(window.addEventListener("online",(function(){return t.trigger("online")})),window.addEventListener("offline",(function(){return t.trigger("offline")})))}return(0,s.Z)(e,[{key:"on",value:function(e,t){this._eventEmitters.push({event:e,callback:t})}},{key:"trigger",value:function(e){var t=[];e&&(t=this._eventEmitters.filter((function(t){return t.event===e}))),t.forEach((function(e){e.callback()}))}}]),e}(),U="undefined"!==typeof n.g.WebSocket?n.g.WebSocket:n(60660),B=function(){function e(t){var n=this;if((0,i.Z)(this,e),this.opts=t,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=t.protocol,this._version=t.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=t.subscriptions||[],this._netMonitor=t.netMonitor||new A,!t.url||"string"!==typeof t.url)throw new Error("Missing or invalid WebSocket url");this._url=t.url,this._netMonitor.on("online",(function(){return n._socketCreate()}))}return(0,s.Z)(e,[{key:"readyState",get:function(){return this._socket?this._socket.readyState:-1},set:function(e){}},{key:"connecting",get:function(){return 0===this.readyState},set:function(e){}},{key:"connected",get:function(){return 1===this.readyState},set:function(e){}},{key:"closing",get:function(){return 2===this.readyState},set:function(e){}},{key:"closed",get:function(){return 3===this.readyState},set:function(e){}},{key:"open",value:function(){this._socketCreate()}},{key:"close",value:function(){this._socketClose()}},{key:"send",value:function(e,t,n){if(!t||"string"!==typeof t)throw new Error("Missing or invalid topic field");this._socketSend({topic:t,type:"pub",payload:e,silent:!!n})}},{key:"subscribe",value:function(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}},{key:"on",value:function(e,t){this._events.push({event:e,callback:t})}},{key:"_socketCreate",value:function(){var e=this;if(!this._nextSocket){var t=function(e,t,n){var r,s,i=e.startsWith("https")?e.replace("https","wss"):e.startsWith("http")?e.replace("http","ws"):e,o=i.split("?"),a=(0,f.isBrowser)()?{protocol:t,version:n,env:"browser",host:(null===(r=(0,f.getLocation)())||void 0===r?void 0:r.host)||""}:{protocol:t,version:n,env:(null===(s=(0,f.detectEnv)())||void 0===s?void 0:s.name)||""},u=C(function(e){var t=-1!==e.indexOf("?")?e.indexOf("?"):void 0;return"undefined"!==typeof t?e.substr(t):""}(o[1]||""),a);return o[0]+"?"+u}(this._url,this._protocol,this._version);if(this._nextSocket=new U(t),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=function(t){return e._socketReceive(t)},this._nextSocket.onopen=function(){return e._socketOpen()},this._nextSocket.onerror=function(t){return e._socketError(t)},this._nextSocket.onclose=function(){setTimeout((function(){e._nextSocket=null,e._socketCreate()}),1e3)}}}},{key:"_socketOpen",value:function(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}},{key:"_socketClose",value:function(){this._socket&&(this._socket.onclose=function(){},this._socket.close())}},{key:"_socketSend",value:function(e){var t=JSON.stringify(e);this._socket&&1===this._socket.readyState?this._socket.send(t):(this._setToQueue(e),this._socketCreate())}},{key:"_socketReceive",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t){var n,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=JSON.parse(t.data),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return");case 7:this._socketSend({topic:n.topic,type:"ack",payload:"",silent:!0}),this._socket&&1===this._socket.readyState&&(r=this._events.filter((function(e){return"message"===e.event})),r&&r.length&&r.forEach((function(e){return e.callback(n)})));case 9:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_socketError",value:function(e){var t=this._events.filter((function(e){return"error"===e.event}));t&&t.length&&t.forEach((function(t){return t.callback(e)}))}},{key:"_queueSubscriptions",value:function(){var e=this;this._subscriptions.forEach((function(t){return e._queue.push({topic:t,type:"sub",payload:"",silent:!0})})),this._subscriptions=this.opts.subscriptions||[]}},{key:"_setToQueue",value:function(e){this._queue.push(e)}},{key:"_pushQueue",value:function(){var e=this;this._queue.forEach((function(t){return e._socketSend(t)})),this._queue=[]}}]),e}();var H=B,N="Session currently connected",P="Session currently disconnected",j="JSON RPC response format is invalid",D="User close QRCode Modal",W=function(){function e(){(0,i.Z)(this,e),this._eventEmitters=[]}return(0,s.Z)(e,[{key:"subscribe",value:function(e){this._eventEmitters.push(e)}},{key:"unsubscribe",value:function(e){this._eventEmitters=this._eventEmitters.filter((function(t){return t.event!==e}))}},{key:"trigger",value:function(e){var t,n=[];(t="undefined"!==typeof e.method?e.method:S(e)||I(e)?"response:".concat(e.id):Z(e)?e.event:"")&&(n=this._eventEmitters.filter((function(e){return e.event===t}))),n&&n.length||function(e){return p.includes(e)||e.startsWith("wc_")}(t)||Z(t)||(n=this._eventEmitters.filter((function(e){return"call_request"===e.event}))),n.forEach((function(t){if(I(e)){var n=new Error(e.error.message);t.callback(n,null)}else t.callback(null,e)}))}}]),e}(),J=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"walletconnect";(0,i.Z)(this,e),this.storageId=t}return(0,s.Z)(e,[{key:"getSession",value:function(){var e=null,t=(0,f.getLocal)(this.storageId);return t&&"undefined"!==typeof t.bridge&&(e=t),e}},{key:"setSession",value:function(e){return(0,f.setLocal)(this.storageId,e),e}},{key:"removeSession",value:function(){(0,f.removeLocal)(this.storageId)}}]),e}(),F=J,K="abcdefghijklmnopqrstuvwxyz0123456789".split("").map((function(e){return"https://".concat(e,".bridge.walletconnect.org")}));function Q(){return K[Math.floor(Math.random()*K.length)]}var z=function(){function e(t){if((0,i.Z)(this,e),this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new W,this._clientMeta=(0,f.getClientMeta)()||t.connectorOpts.clientMeta||null,this._cryptoLib=t.cryptoLib,this._sessionStorage=t.sessionStorage||new F(t.connectorOpts.storageId),this._qrcodeModal=t.connectorOpts.qrcodeModal,this._qrcodeModalOptions=t.connectorOpts.qrcodeModalOptions,this._signingMethods=[].concat((0,h.Z)(d),(0,h.Z)(t.connectorOpts.signingMethods||[])),!t.connectorOpts.bridge&&!t.connectorOpts.uri&&!t.connectorOpts.session)throw new Error("Missing one of the required parameters: bridge / uri / session");var n;t.connectorOpts.bridge&&(this.bridge=function(e){return"walletconnect.org"===function(e){return function(e){var t=e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0];return(t=t.split(":")[0]).split("?")[0]}(e).split(".").slice(-2).join(".")}(e)}(n=t.connectorOpts.bridge)?Q():n),t.connectorOpts.uri&&(this.uri=t.connectorOpts.uri);var r=t.connectorOpts.session||this._getStorageSession();r&&(this.session=r),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=t.transport||new H({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),t.connectorOpts.uri&&this._subscribeToSessionRequest(),t.pushServerOpts&&this._registerPushServer(t.pushServerOpts)}return(0,s.Z)(e,[{key:"bridge",get:function(){return this._bridge},set:function(e){e&&(this._bridge=e)}},{key:"key",get:function(){var e,t;return this._key?(e=this._key,t=!0,y.arrayToHex(new Uint8Array(e),!t)):""},set:function(e){if(e){var t,n=(t=e,y.hexToArray(t).buffer);this._key=n}}},{key:"clientId",get:function(){var e=this._clientId;return e||(e=this._clientId=x()),this._clientId},set:function(e){e&&(this._clientId=e)}},{key:"peerId",get:function(){return this._peerId},set:function(e){e&&(this._peerId=e)}},{key:"clientMeta",get:function(){var e=this._clientMeta;return e||(e=this._clientMeta=(0,f.getClientMeta)()),e},set:function(e){}},{key:"peerMeta",get:function(){return this._peerMeta},set:function(e){this._peerMeta=e}},{key:"handshakeTopic",get:function(){return this._handshakeTopic},set:function(e){e&&(this._handshakeTopic=e)}},{key:"handshakeId",get:function(){return this._handshakeId},set:function(e){e&&(this._handshakeId=e)}},{key:"uri",get:function(){return this._formatUri()},set:function(e){if(e){var t=this._parseUri(e),n=t.handshakeTopic,r=t.bridge,s=t.key;this.handshakeTopic=n,this.bridge=r,this.key=s}}},{key:"chainId",get:function(){return this._chainId},set:function(e){this._chainId=e}},{key:"networkId",get:function(){return this._networkId},set:function(e){this._networkId=e}},{key:"accounts",get:function(){return this._accounts},set:function(e){this._accounts=e}},{key:"rpcUrl",get:function(){return this._rpcUrl},set:function(e){this._rpcUrl=e}},{key:"connected",get:function(){return this._connected},set:function(e){}},{key:"pending",get:function(){return!!this._handshakeTopic},set:function(e){}},{key:"session",get:function(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}},set:function(e){e&&(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}},{key:"on",value:function(e,t){var n={event:e,callback:t};this._eventManager.subscribe(n)}},{key:"off",value:function(e){this._eventManager.unsubscribe(e)}},{key:"createInstantRequest",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t){var n,r,s,i=this;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._generateKey();case 2:return this._key=e.sent,n=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(t)}]}),this.handshakeId=n.id,this.handshakeTopic=x(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",(function(){throw new Error(D)})),r=function(){i.killSession()},e.prev=9,e.next=12,this._sendCallRequest(n);case 12:return(s=e.sent)&&r(),e.abrupt("return",s);case 17:throw e.prev=17,e.t0=e.catch(9),r(),e.t0;case 21:case"end":return e.stop()}}),e,this,[[9,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t){var n=this;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._qrcodeModal){e.next=2;break}throw new Error("QRCode Modal not provided");case 2:if(!this.connected){e.next=4;break}return e.abrupt("return",{chainId:this.chainId,accounts:this.accounts});case 4:return e.next=6,this.createSession(t);case 6:return e.abrupt("return",new Promise(function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t,r){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.on("modal_closed",(function(){return r(new Error(D))})),n.on("connect",(function(e,n){if(e)return r(e);t(n.params[0])}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSession",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._connected){e.next=2;break}throw new Error(N);case 2:if(!this.pending){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this._generateKey();case 6:this._key=e.sent,n=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:t&&t.chainId?t.chainId:null}]}),this.handshakeId=n.id,this.handshakeTopic=x(),this._sendSessionRequest(n,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"approveSession",value:function(e){if(this._connected)throw new Error(N);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";var t={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},n={id:this.handshakeId,jsonrpc:"2.0",result:t};this._sendResponse(n),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}},{key:"rejectSession",value:function(e){if(this._connected)throw new Error(N);var t=e&&e.message?e.message:"Session Rejected",n=this._formatResponse({id:this.handshakeId,error:{message:t}});this._sendResponse(n),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:t}]}),this._removeStorageSession()}},{key:"updateSession",value:function(e){if(!this._connected)throw new Error(P);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";var t={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},n=this._formatRequest({method:"wc_sessionUpdate",params:[t]});this._sendSessionRequest(n,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}},{key:"killSession",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t){var n,r,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?t.message:"Session Disconnected",r={approved:!1,chainId:null,networkId:null,accounts:null},s=this._formatRequest({method:"wc_sessionUpdate",params:[r]}),e.next=5,this._sendRequest(s);case 5:this._handleSessionDisconnect(n);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendTransaction",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t){var n,r,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._connected){e.next=2;break}throw new Error(P);case 2:return n=O(t),r=this._formatRequest({method:"eth_sendTransaction",params:[n]}),e.next=6,this._sendCallRequest(r);case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t){var n,r,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._connected){e.next=2;break}throw new Error(P);case 2:return n=O(t),r=this._formatRequest({method:"eth_signTransaction",params:[n]}),e.next=6,this._sendCallRequest(r);case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signMessage",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t){var n,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._connected){e.next=2;break}throw new Error(P);case 2:return n=this._formatRequest({method:"eth_sign",params:t}),e.next=5,this._sendCallRequest(n);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signPersonalMessage",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t){var n,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._connected){e.next=2;break}throw new Error(P);case 2:return t=E(t),n=this._formatRequest({method:"personal_sign",params:t}),e.next=6,this._sendCallRequest(n);case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signTypedData",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t){var n,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._connected){e.next=2;break}throw new Error(P);case 2:return n=this._formatRequest({method:"eth_signTypedData",params:t}),e.next=5,this._sendCallRequest(n);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateChain",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t){var n,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._connected){e.next=2;break}throw new Error("Session currently disconnected");case 2:return n=this._formatRequest({method:"wallet_updateChain",params:[t]}),e.next=5,this._sendCallRequest(n);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsafeSend",value:function(e,t){var n=this;return this._sendRequest(e,t),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:t}]}),new Promise((function(t,r){n._subscribeToResponse(e.id,(function(e,n){if(e)r(e);else{if(!n)throw new Error("Missing JSON RPC response");t(n)}}))}))}},{key:"sendCustomRequest",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t,n){var r,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._connected){e.next=2;break}throw new Error(P);case 2:e.t0=t.method,e.next="eth_accounts"===e.t0?5:"eth_chainId"===e.t0?6:"eth_sendTransaction"===e.t0||"eth_signTransaction"===e.t0?7:"personal_sign"===e.t0?9:11;break;case 5:return e.abrupt("return",this.accounts);case 6:return e.abrupt("return",k(this.chainId));case 7:return t.params&&(t.params[0]=O(t.params[0])),e.abrupt("break",12);case 9:return t.params&&(t.params=E(t.params)),e.abrupt("break",12);case 11:return e.abrupt("break",12);case 12:return r=this._formatRequest(t),e.next=15,this._sendCallRequest(r,n);case 15:return s=e.sent,e.abrupt("return",s);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"approveRequest",value:function(e){if(!S(e))throw new Error('JSON-RPC success response must include "result" field');var t=this._formatResponse(e);this._sendResponse(t)}},{key:"rejectRequest",value:function(e){if(!I(e))throw new Error('JSON-RPC error response must include "error" field');var t=this._formatResponse(e);this._sendResponse(t)}},{key:"transportClose",value:function(){this._transport.close()}},{key:"_sendRequest",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t,n){var r,s,i,o,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._formatRequest(t),e.next=3,this._encrypt(r);case 3:s=e.sent,i="undefined"!==typeof(null===n||void 0===n?void 0:n.topic)?n.topic:this.peerId,o=JSON.stringify(s),a="undefined"!==typeof(null===n||void 0===n?void 0:n.forcePushNotification)?!n.forcePushNotification:M(r),this._transport.send(o,i,a);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_sendResponse",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t){var n,r,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._encrypt(t);case 2:n=e.sent,r=this.peerId,s=JSON.stringify(n),!0,this._transport.send(s,r,true);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_sendSessionRequest",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t,n,r){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._sendRequest(t,r),this._subscribeToSessionResponse(t.id,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_sendCallRequest",value:function(e,t){return this._sendRequest(e,t),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:t}]}),this._subscribeToCallResponse(e.id)}},{key:"_formatRequest",value:function(e){if("undefined"===typeof e.method)throw new Error('JSON RPC request must have valid "method" value');return{id:"undefined"===typeof e.id?w():e.id,jsonrpc:"2.0",method:e.method,params:"undefined"===typeof e.params?[]:e.params}}},{key:"_formatResponse",value:function(e){if("undefined"===typeof e.id)throw new Error('JSON RPC request must have valid "id" value');var t={id:e.id,jsonrpc:"2.0"};if(I(e)){var n=function(e){var t=e.message||"Failed or Rejected Request",n=-32e3;if(e&&!e.code)switch(t){case"Parse error":n=-32700;break;case"Invalid request":n=-32600;break;case"Method not found":n=-32601;break;case"Invalid params":n=-32602;break;case"Internal error":n=-32603;break;default:n=-32e3}return{code:n,message:t}}(e.error);return Object.assign(Object.assign(Object.assign({},t),e),{error:n})}if(S(e))return Object.assign(Object.assign({},t),e);throw new Error(j)}},{key:"_handleSessionDisconnect",value:function(e){var t=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),(0,f.removeLocal)(f.mobileLinkChoiceKey)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:t}]}),this._removeStorageSession(),this.transportClose()}},{key:"_handleSessionResponse",value:function(e,t){t&&t.approved?(this._connected?(t.chainId&&(this.chainId=t.chainId),t.accounts&&(this.accounts=t.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,t.chainId&&(this.chainId=t.chainId),t.accounts&&(this.accounts=t.accounts),t.peerId&&!this.peerId&&(this.peerId=t.peerId),t.peerMeta&&!this.peerMeta&&(this.peerMeta=t.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e)}},{key:"_handleIncomingMessages",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t){var n,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if([this.clientId,this.handshakeTopic].includes(t.topic)){e.next=3;break}return e.abrupt("return");case 3:e.prev=3,n=JSON.parse(t.payload),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return");case 10:return e.next=12,this._decrypt(n);case 12:(r=e.sent)&&this._eventManager.trigger(r);case 14:case"end":return e.stop()}}),e,this,[[3,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribeToSessionRequest",value:function(){this._transport.subscribe(this.handshakeTopic)}},{key:"_subscribeToResponse",value:function(e,t){this.on("response:".concat(e),t)}},{key:"_subscribeToSessionResponse",value:function(e,t){var n=this;this._subscribeToResponse(e,(function(e,r){e?n._handleSessionResponse(e.message):r.result?n._handleSessionResponse(t,r.result):r.error&&r.error.message?n._handleSessionResponse(r.error.message):n._handleSessionResponse(t)}))}},{key:"_subscribeToCallResponse",value:function(e){var t=this;return new Promise((function(n,r){t._subscribeToResponse(e,(function(e,t){e?r(e):t.result?n(t.result):t.error&&t.error.message?r(new Error(t.error.message)):r(new Error(j))}))}))}},{key:"_subscribeToInternalEvents",value:function(){var e=this;this.on("display_uri",(function(){e._qrcodeModal&&e._qrcodeModal.open(e.uri,(function(){e._eventManager.trigger({event:"modal_closed",params:[]})}),e._qrcodeModalOptions)})),this.on("connect",(function(){e._qrcodeModal&&e._qrcodeModal.close()})),this.on("call_request_sent",(function(t,n){var r=n.params[0].request;if((0,f.isMobile)()&&e._signingMethods.includes(r.method)){var s=(0,f.getLocal)(f.mobileLinkChoiceKey);s&&(window.location.href=s.href)}})),this.on("wc_sessionRequest",(function(t,n){t&&e._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:t.toString()}]}),e.handshakeId=n.id,e.peerId=n.params[0].peerId,e.peerMeta=n.params[0].peerMeta;var r=Object.assign(Object.assign({},n),{method:"session_request"});e._eventManager.trigger(r)})),this.on("wc_sessionUpdate",(function(t,n){t&&e._handleSessionResponse(t.message),e._handleSessionResponse("Session disconnected",n.params[0])}))}},{key:"_initTransport",value:function(){var e=this;this._transport.on("message",(function(t){return e._handleIncomingMessages(t)})),this._transport.on("open",(function(){return e._eventManager.trigger({event:"transport_open",params:[]})})),this._transport.on("close",(function(){return e._eventManager.trigger({event:"transport_close",params:[]})})),this._transport.on("error",(function(){return e._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})})),this._transport.open()}},{key:"_formatUri",value:function(){var e=this.protocol,t=this.handshakeTopic,n=this.version,r=encodeURIComponent(this.bridge),s=this.key;return"".concat(e,":").concat(t,"@").concat(n,"?bridge=").concat(r,"&key=").concat(s)}},{key:"_parseUri",value:function(e){var t=function(e){var t=e.indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,r=e.substring(0,t),s=function(e){var t=e.split("@");return{handshakeTopic:t[0],version:parseInt(t[1],10)}}(e.substring(t+1,n)),i=function(e){var t=L(e);return{key:t.key||"",bridge:t.bridge||""}}("undefined"!==typeof n?e.substr(n):"");return Object.assign(Object.assign({protocol:r},s),i)}(e);if(t.protocol===this.protocol){if(!t.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");var n=t.handshakeTopic;if(!t.bridge)throw Error("Invalid or missing bridge url parameter value");var r=decodeURIComponent(t.bridge);if(!t.key)throw Error("Invalid or missing key parameter value");return{handshakeTopic:n,bridge:r,key:t.key}}throw new Error("URI format is invalid")}},{key:"_generateKey",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._cryptoLib){e.next=5;break}return e.next=3,this._cryptoLib.generateKey();case 3:return t=e.sent,e.abrupt("return",t);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_encrypt",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t){var n,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._key,!this._cryptoLib||!n){e.next=6;break}return e.next=4,this._cryptoLib.encrypt(t,n);case 4:return r=e.sent,e.abrupt("return",r);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_decrypt",value:function(){var e=(0,c.Z)((0,u.Z)().mark((function e(t){var n,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._key,!this._cryptoLib||!n){e.next=6;break}return e.next=4,this._cryptoLib.decrypt(t,n);case 4:return r=e.sent,e.abrupt("return",r);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getStorageSession",value:function(){var e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}},{key:"_setStorageSession",value:function(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}},{key:"_removeStorageSession",value:function(){this._sessionStorage&&this._sessionStorage.removeSession()}},{key:"_manageStorageSession",value:function(){this._connected?this._setStorageSession():this._removeStorageSession()}},{key:"_registerPushServer",value:function(e){if(!e.url||"string"!==typeof e.url)throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||"string"!==typeof e.type)throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||"string"!==typeof e.token)throw Error("Invalid or missing pushServerOpts.token parameter value");var t={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",function(){var n=(0,c.Z)((0,u.Z)().mark((function n(r,s){var i,o;return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=2;break}throw r;case 2:return e.peerMeta&&(i=s.params[0].peerMeta.name,t.peerName=i),n.prev=3,n.next=6,fetch("".concat(e.url,"/new"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 6:return o=n.sent,n.next=9,o.json();case 9:if(n.sent.success){n.next=12;break}throw Error("Failed to register in Push Server");case 12:n.next=17;break;case 14:throw n.prev=14,n.t0=n.catch(3),Error("Failed to register in Push Server");case 17:case"end":return n.stop()}}),n,null,[[3,14]])})));return function(e,t){return n.apply(this,arguments)}}())}}]),e}(),$=z,V=n(16419);function Y(e){return V.getBrowerCrypto().getRandomValues(new Uint8Array(e))}var G="AES-CBC",X="SHA-".concat(256),ee="HMAC";"aes-".concat(256,"-cbc"),"sha".concat(256);function te(e){return e===G?{length:256,name:G}:{hash:{name:X},name:ee}}function ne(e){return e===G?["encrypt","decrypt"]:["sign","verify"]}function re(e){return se.apply(this,arguments)}function se(){return se=(0,c.Z)((0,u.Z)().mark((function e(t){var n,r=arguments;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:G,e.abrupt("return",V.getSubtleCrypto().importKey("raw",t,te(n),!0,ne(n)));case 2:case"end":return e.stop()}}),e)}))),se.apply(this,arguments)}function ie(){return(ie=(0,c.Z)((0,u.Z)().mark((function e(t,n,r){var s,i,o;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=V.getSubtleCrypto(),e.next=3,re(n,G);case 3:return i=e.sent,e.next=6,s.encrypt({iv:t,name:G},i,r);case 6:return o=e.sent,e.abrupt("return",new Uint8Array(o));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return(oe=(0,c.Z)((0,u.Z)().mark((function e(t,n,r){var s,i,o;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=V.getSubtleCrypto(),e.next=3,re(n,G);case 3:return i=e.sent,e.next=6,s.decrypt({iv:t,name:G},i,r);case 6:return o=e.sent,e.abrupt("return",new Uint8Array(o));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){return ue.apply(this,arguments)}function ue(){return(ue=(0,c.Z)((0,u.Z)().mark((function e(t,n){var r,s,i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=V.getSubtleCrypto(),e.next=3,re(t,ee);case 3:return s=e.sent,e.next=6,r.sign({length:256,name:ee},s,n);case 6:return i=e.sent,e.abrupt("return",new Uint8Array(i));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t,n){return function(e,t,n){return ie.apply(this,arguments)}(e,t,n)}function he(e,t,n){return function(e,t,n){return oe.apply(this,arguments)}(e,t,n)}function fe(e,t){return pe.apply(this,arguments)}function pe(){return(pe=(0,c.Z)((0,u.Z)().mark((function e(t,n){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){return le.apply(this,arguments)}function le(){return(le=(0,c.Z)((0,u.Z)().mark((function e(t){var n,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Y((t||256)/8),r=_(y.arrayToBuffer(n)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e,t){return ye.apply(this,arguments)}function ye(){return(ye=(0,c.Z)((0,u.Z)().mark((function e(t,n){var r,s,i,o,a,c,h;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.hexToArray(t.data),s=y.hexToArray(t.iv),i=y.hexToArray(t.hmac),o=y.arrayToHex(i,!1),a=y.concatArrays(r,s),e.next=7,fe(n,a);case 7:if(c=e.sent,h=y.arrayToHex(c,!1),y.removeHexPrefix(o)!==y.removeHexPrefix(h)){e.next=11;break}return e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e,t,n){return _e.apply(this,arguments)}function _e(){return(_e=(0,c.Z)((0,u.Z)().mark((function e(t,n,r){var s,i,o,a,c,h,f,p,d,l,v;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=y.bufferToArray(g(n)),e.t0=r,e.t0){e.next=6;break}return e.next=5,de(128);case 5:e.t0=e.sent;case 6:return i=e.t0,o=y.bufferToArray(g(i)),a=y.arrayToHex(o,!1),c=JSON.stringify(t),h=y.utf8ToArray(c),e.next=13,ce(o,s,h);case 13:return f=e.sent,p=y.arrayToHex(f,!1),d=y.concatArrays(f,o),e.next=18,fe(s,d);case 18:return l=e.sent,v=y.arrayToHex(l,!1),e.abrupt("return",{data:p,hmac:v,iv:a});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e,t){return me.apply(this,arguments)}function me(){return(me=(0,c.Z)((0,u.Z)().mark((function e(t,n){var r,s,i,o,a,c;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=y.bufferToArray(g(n))){e.next=3;break}throw new Error("Missing key: required for decryption");case 3:return e.next=5,ve(t,r);case 5:if(e.sent){e.next=8;break}return e.abrupt("return",null);case 8:return s=y.hexToArray(t.data),i=y.hexToArray(t.iv),e.next=12,he(i,r,s);case 12:o=e.sent,a=y.arrayToUtf8(o),e.prev=14,c=JSON.parse(a),e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(14),e.abrupt("return",null);case 21:return e.abrupt("return",c);case 22:case"end":return e.stop()}}),e,null,[[14,18]])})))).apply(this,arguments)}var be=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,s){return(0,i.Z)(this,n),t.call(this,{cryptoLib:r,connectorOpts:e,pushServerOpts:s})}return(0,s.Z)(n)}($)},22022:function(e,t,n){var r=n(30261).Buffer,s=n(48648).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.removeHexLeadingZeros=t.sanitizeHex=t.addHexPrefix=t.removeHexPrefix=t.padRight=t.padLeft=t.sanitizeBytes=t.swapHex=t.swapBytes=t.splitBytes=t.calcByteLength=t.trimRight=t.trimLeft=t.concatArrays=t.concatBuffers=t.getEncoding=t.getType=t.isArrayBuffer=t.isTypedArray=t.isBuffer=t.isHexString=t.isBinaryString=t.binaryToNumber=t.binaryToUtf8=t.binaryToHex=t.binaryToArray=t.binaryToBuffer=t.numberToBinary=t.numberToUtf8=t.numberToHex=t.numberToArray=t.numberToBuffer=t.utf8ToBinary=t.utf8ToNumber=t.utf8ToHex=t.utf8ToArray=t.utf8ToBuffer=t.hexToBinary=t.hexToNumber=t.hexToUtf8=t.hexToArray=t.hexToBuffer=t.arrayToBinary=t.arrayToNumber=t.arrayToUtf8=t.arrayToHex=t.arrayToBuffer=t.bufferToBinary=t.bufferToNumber=t.bufferToUtf8=t.bufferToHex=t.bufferToArray=void 0;var o=i(n(6279)),a=i(n(48179)),u="hex",c="utf8",h="0";function f(e){return new Uint8Array(e)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.toString(u);return t?P(n):n}function d(e){return e.toString(c)}function l(e){return e.readUIntBE(0,e.length)}function v(e){return a.default(e)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return p(v(e),t)}function g(e){return d(v(e))}function _(e){return l(v(e))}function k(e){return Array.from(e).map(S).join("")}function m(e){return r.from(N(e),u)}function b(e){return f(m(e))}function w(e){return k(b(e))}function x(e){return r.from(e,c)}function T(e){return f(x(e))}function S(e){return B((e>>>0).toString(2))}function I(e){return v(Z(e))}function Z(e){return new Uint8Array(A(e).map((function(e){return parseInt(e,2)})))}function M(e,t){return y(Z(e),t)}function R(e){return!("string"!==typeof e||!new RegExp(/^[01]+$/).test(e))&&e.length%8===0}function E(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}function O(e){return r.isBuffer(e)}function q(e){return o.default.strict(e)&&!O(e)}function C(e){return!q(e)&&!O(e)&&"undefined"!==typeof e.byteLength}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=e%t;return n?(e-n)/t*t+t:e}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=B(e).match(new RegExp(".{".concat(t,"}"),"gi"));return Array.from(n||[])}function U(e){return A(e).map(j).join("")}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return H(e,L(e.length,t),n)}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return D(e,t,!0,n)}function N(e){return e.replace(/^0x/,"")}function P(e){return e.startsWith("0x")?e:"0x".concat(e)}function j(e){return e.split("").reverse().join("")}function D(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h,s=t-e.length,i=e;if(s>0){var o=r.repeat(s);i=n?o+e:e+o}return i}t.bufferToArray=f,t.bufferToHex=p,t.bufferToUtf8=d,t.bufferToNumber=l,t.bufferToBinary=function(e){return k(f(e))},t.arrayToBuffer=v,t.arrayToHex=y,t.arrayToUtf8=g,t.arrayToNumber=_,t.arrayToBinary=k,t.hexToBuffer=m,t.hexToArray=b,t.hexToUtf8=function(e){return d(m(e))},t.hexToNumber=function(e){return _(b(e))},t.hexToBinary=w,t.utf8ToBuffer=x,t.utf8ToArray=T,t.utf8ToHex=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return p(x(e),t)},t.utf8ToNumber=function(e){var t=parseInt(e,10);return function(e,t){if(!e)throw new Error(t)}(!function(e){return"undefined"===typeof e}(t),"Number can only safely store up to 53 bits"),t},t.utf8ToBinary=function(e){return k(T(e))},t.numberToBuffer=function(e){return I(S(e))},t.numberToArray=function(e){return Z(S(e))},t.numberToHex=function(e,t){return M(S(e),t)},t.numberToUtf8=function(e){return"".concat(e)},t.numberToBinary=S,t.binaryToBuffer=I,t.binaryToArray=Z,t.binaryToHex=M,t.binaryToUtf8=function(e){return g(Z(e))},t.binaryToNumber=function(e){return _(Z(e))},t.isBinaryString=R,t.isHexString=E,t.isBuffer=O,t.isTypedArray=q,t.isArrayBuffer=C,t.getType=function(e){return O(e)?"buffer":q(e)?"typed-array":C(e)?"array-buffer":Array.isArray(e)?"array":typeof e},t.getEncoding=function(e){return R(e)?"binary":E(e)?u:c},t.concatBuffers=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=r.concat(t);return s},t.concatArrays=function(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){return e=e.concat(Array.from(t))})),new Uint8Array(s(e))},t.trimLeft=function(e,t){var n=e.length-t;return n>0&&(e=e.slice(n)),e},t.trimRight=function(e,t){return e.slice(0,t)},t.calcByteLength=L,t.splitBytes=A,t.swapBytes=U,t.swapHex=function(e){return M(U(w(e)))},t.sanitizeBytes=B,t.padLeft=H,t.padRight=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return D(e,t,!1,n)},t.removeHexPrefix=N,t.addHexPrefix=P,t.sanitizeHex=function(e){return(e=B(e=N(e),2))&&(e=P(e)),e},t.removeHexLeadingZeros=function(e){var t=e.startsWith("0x");return e=(e=N(e)).startsWith(h)?e.substring(1):e,t?P(e):e}},60660:function(e){e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}}]);
//# sourceMappingURL=5526.b1af15a9.chunk.js.map